!function(){function initHammerheadClient(window,isIframeWithoutSrc){var document=window.document;!function(e){"use strict";var t,n,r,o,i,s={".js":[],".json":[],".css":[],".html":[]},a="function"==typeof require?require:null;return o=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},i=function(e,t,n){var r,o;if("function"==typeof e[t+n])return t+n;for(r=0;o=s[n][r];++r)if("function"==typeof e[t+o])return t+o;return null},t=function(e,r,s,a,l,u){var c,p,d,f,h,m;for(s=s.split(/[\\/]/),c=s.pop(),"."!==c&&".."!==c||(s.push(c),c="");null!=(p=s.shift());)if(p&&"."!==p&&(".."===p?(e=r.pop(),u=u.slice(0,u.lastIndexOf("/"))):(r.push(e),e=e[p],u+="/"+p),!e))throw o(a);if(c&&"function"!=typeof e[c]&&(m=i(e,c,".js"),m||(m=i(e,c,".json")),m||(m=i(e,c,".css")),m||(m=i(e,c,".html")),m?c=m:2!==l&&"object"==typeof e[c]&&(r.push(e),e=e[c],u+="/"+c,c="")),!c)return 1!==l&&e[":mainpath:"]?t(e,r,e[":mainpath:"],a,1,u):t(e,r,"index",a,2,u);if(h=e[c],!h)throw o(a);return h.hasOwnProperty("module")?h.module.exports:(d={},h.module=f={exports:d,id:u+"/"+c},h.call(d,d,f,n(e,r,u)),f.exports)},r=function(n,r,i,s){var l,u=i,c=i.charAt(0),p=0;if("/"===c){if(u=u.slice(1),n=e["/"],!n){if(a)return a(i);throw o(i)}s="/",r=[]}else if("."!==c){if(l=u.split("/",1)[0],n=e[l],!n){if(a)return a(i);throw o(i)}s=l,r=[],u=u.slice(l.length+1),u||(u=n[":mainpath:"],u?p=1:(u="index",p=2))}return t(n,r,u,i,p,s)},(n=function(e,t,n){return function(o){return r(e,[].concat(t),o,n)}})(e,[],"")}({bowser:{":mainpath:":"./src/bowser.js",src:{"bowser.js":function(e,t,n){!function(e,n,r){"undefined"!=typeof t&&t.exports?t.exports=r():"function"==typeof define&&define.amd?define(n,r):e[n]=r()}(void 0,"bowser",function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var r,o=t(/(ipod|iphone|ipad)/i).toLowerCase(),i=/like android/i.test(e),a=!i&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),u=!l&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),p=/silk/i.test(e),d=/sailfish/i.test(e),f=/tizen/i.test(e),h=/(web|hpw)os/i.test(e),m=/windows phone/i.test(e),y=(/SamsungBrowser/i.test(e),!m&&/windows/i.test(e)),v=!o&&!p&&/macintosh/i.test(e),g=!a&&!d&&!f&&!h&&/linux/i.test(e),E=t(/edge\/(\d+(\.\d+)?)/i),b=t(/version\/(\d+(\.\d+)?)/i),_=/tablet/i.test(e),S=!_&&/[^-]mobi/i.test(e),w=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:s,version:b||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(e)?r={name:"Opera",opera:s,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:s,version:b||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:s,version:b||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:s,version:b||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:s,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:s,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:s,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:s,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:s,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:s,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(r={name:"Windows Phone",windowsphone:s},E?(r.msedge=s,r.version=E):(r.msie=s,r.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:s,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",chromeos:s,chromeBook:s,chrome:s,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?r={name:"Microsoft Edge",msedge:s,version:E}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:s,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||b}:d?r={name:"Sailfish",sailfish:s,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:s,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:s,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=s)):p?r={name:"Amazon Silk",silk:s,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:s,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:s,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",blackberry:s,version:b||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(r={name:"WebOS",webos:s,version:b||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=s)):/bada/i.test(e)?r={name:"Bada",bada:s,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:f?r={name:"Tizen",tizen:s,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:s,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(e)?r={name:"Chromium",chromium:s,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:s,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?r={name:"Android",version:b}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:s},b&&(r.version=b)):o?(r={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},b&&(r.version=b)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:s,version:t(/googlebot\/(\d+(\.\d+))/i)||b}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=s):(r.name=r.name||"Webkit",r.webkit=s),!r.version&&b&&(r.version=b)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=s,r.version=r.version||t(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||r.msedge||!a&&!r.silk?r.windowsphone||r.msedge||!o?v?r.mac=s:w?r.xbox=s:y?r.windows=s:g&&(r.linux=s):(r[o]=s,r.ios=s):r.android=s;var x="";r.windowsphone?x=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o?(x=t(/os (\d+([_\s]\d+)*) like mac os x/i),x=x.replace(/[_\s]/g,".")):a?x=t(/android[ \/-](\d+(\.\d+)*)/i):r.webos?x=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?x=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?x=t(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(x=t(/tizen[\/\s](\d+(\.\d+)*)/i)),x&&(r.osversion=x);var T=x.split(".")[0];return _||u||"ipad"==o||a&&(3==T||T>=4&&!S)||r.silk?r.tablet=s:(S||"iphone"==o||"ipod"==o||a||l||r.blackberry||r.webos||r.bada)&&(r.mobile=s),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=s:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=s:r.x=s,r}function t(e){return e.split(".").length}function n(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function r(e){for(var r=Math.max(t(e[0]),t(e[1])),o=n(e,function(e){var o=r-t(e);return e+=new Array(o+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--r>=0;){if(o[0][r]>o[1][r])return 1;if(o[0][r]!==o[1][r])return-1;if(0===r)return 0}}function o(t,n,o){var i=a;"string"==typeof n&&(o=n,n=void 0),void 0===n&&(n=!1),o&&(i=e(o));var s=""+i.version;for(var l in t)if(t.hasOwnProperty(l)&&i[l]){if("string"!=typeof t[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(t));return r([s,t[l]])<0}return n}function i(e,t,n){return!o(e,t,n)}var s=!0,a=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return a.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in a)return!0}return!1},a.isUnsupportedBrowser=o,a.compareVersions=r,a.check=i,a._detect=e,a})}}},pinkie:{"index.js":function(e,t,n){function r(){for(var e=0;e<S.length;e++)S[e][0](S[e][1]);S=[],m=!1}function o(e,t){S.push([e,t]),m||(m=!0,_(r,0))}function i(e,t){function n(e){l(t,e)}function r(e){c(t,e)}try{e(n,r)}catch(o){r(o)}}function s(e){var t=e.owner,n=t._state,r=t._data,o=e[n],i=e.then;if("function"==typeof o){n=g;try{r=o(r)}catch(s){c(i,s)}}a(i,r)||(n===g&&l(i,r),n===E&&c(i,r))}function a(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var r=t.then;if("function"==typeof r)return r.call(t,function(r){n||(n=!0,t!==r?l(e,r):u(e,r))},function(t){n||(n=!0,c(e,t))}),!0}}catch(o){return n||c(e,o),!0}return!1}function l(e,t){e!==t&&a(e,t)||u(e,t)}function u(e,t){e._state===y&&(e._state=v,e._data=t,o(d,e))}function c(e,t){e._state===y&&(e._state=v,e._data=t,o(f,e))}function p(e){e._then=e._then.forEach(s)}function d(e){e._state=g,p(e)}function f(e){e._state=E,p(e)}function h(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof h==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],i(e,this)}var m,y="pending",v="settled",g="fulfilled",E="rejected",b=function(){},_="undefined"!=typeof setImmediate?setImmediate:setTimeout,S=[];h.prototype={constructor:h,_state:y,_then:null,_data:void 0,then:function(e,t){var n={owner:this,then:new this.constructor(b),fulfilled:e,rejected:t};return this._state===g||this._state===E?o(s,n):this._then.push(n),n.then},"catch":function(e){return this.then(null,e)}},h.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new h(function(t,n){function r(e){return s++,function(n){i[e]=n,--s||t(i)}}for(var o,i=[],s=0,a=0;a<e.length;a++)o=e[a],o&&"function"==typeof o.then?o.then(r(a),n):i[a]=o;s||t(i)})},h.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new h(function(t,n){for(var r,o=0;o<e.length;o++)r=e[o],r&&"function"==typeof r.then?r.then(t,n):t(r)})},h.resolve=function(e){return e&&"object"==typeof e&&e.constructor===h?e:new h(function(t){t(e)})},h.reject=function(e){return new h(function(t,n){n(e)})},t.exports=h}},"testcafe-hammerhead":{src:{client:{"dom-processor":{"client-dom-adapter.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../../processing/dom/internal-properties"),u=o(l),c=n("../utils/event-emitter"),p=o(c),d=n("../../processing/dom/base-dom-adapter"),f=o(d),h=n("../sandbox/native-methods"),m=o(h),y=n("../settings"),v=o(y),g=n("../utils/destination-location"),E=n("../utils/url"),b=n("../utils/browser"),_=n("../utils/dom"),S=r(_),w=n("../utils/fast-apply"),x=o(w),T=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype.removeAttr=function(e,t){return m["default"].removeAttribute.call(e,t)},t.prototype.getAttr=function(e,t){return m["default"].getAttribute.call(e,t)},t.prototype.hasAttr=function(e,t){return e.hasAttribute(t)},t.prototype.isSVGElement=function(e){return S.isSVGElement(e)},t.prototype.getClassName=function(e){return e.className},t.prototype.hasEventHandler=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(this.EVENTS.indexOf(t[n]))return!0;return!1},t.prototype.getTagName=function(e){return S.getTagName(e)},t.prototype.setAttr=function(e,t,n){return m["default"].setAttribute.call(e,t,n)},t.prototype.setScriptContent=function(e,t){e.text=t},t.prototype.getScriptContent=function(e){return e.text},t.prototype.getStyleContent=function(e){return e.innerHTML},t.prototype.setStyleContent=function(e,t){e.innerHTML=t},t.prototype.getElementForSelectorCheck=function(e){if(b.isIE9&&S.isScriptElement(e)){var t=m["default"].cloneNode.call(e,!1);return t.src=t.innerHTML="",t}return e},t.prototype.needToProcessUrl=function(){return!0},t.prototype.hasIframeParent=function(e){try{return e[u["default"].processedContext]?window.top!==e[u["default"].processedContext]:window.top.document!==S.findDocument(e)}catch(t){return!0}},t.prototype.attachEventEmitter=function(e){var t=new p["default"];e.on=function(e,n){return t.on(e,n)},e.off=function(e,n){return t.off(e,n)},e.emit=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,x["default"])(t,"emit",n)}},t.prototype.getCrossDomainPort=function(){return v["default"].get().crossDomainProxyPort},t.prototype.getProxyUrl=function(){return E.getProxyUrl.apply(null,arguments)},t.prototype.isTopParentIframe=function(e){var t=e[u["default"].processedContext];return t&&window.top===t.parent},t.prototype.sameOriginCheck=function(e,t){return(0,g.sameOriginCheck)(e,t)},t}(f["default"]);e["default"]=T,t.exports=e["default"]},"index.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("./client-dom-adapter"),i=r(o),s=n("../../processing/dom/index"),a=r(s);e["default"]=new a["default"](new i["default"]),t.exports=e["default"]}},"index.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=n("pinkie"),a=o(s),l=n("./sandbox"),u=o(l),c=n("./sandbox/code-instrumentation"),p=o(c),d=n("./utils/event-emitter"),f=o(d),h=n("./sandbox/xhr"),m=o(h),y=n("./settings"),v=o(y),g=n("./transport"),E=o(g),b=n("./json"),_=r(b),S=n("./utils/browser"),w=r(S),x=n("./utils/dom"),T=r(x),C=n("./utils/event"),A=r(C),I=n("./utils/types"),N=r(I),M=n("./utils/position"),P=r(M),O=n("./utils/style"),R=r(O),k=n("../utils/string-trim"),L=o(k),j=n("../utils/url"),D=n("./utils/url"),U=n("../processing/script"),F=n("../processing/script/header"),B=n("../processing/style"),H=n("./utils/is-jquery-object"),W=o(H),V=n("./utils/extend"),q=o(V),G=n("../processing/dom/internal-properties"),X=o(G),K=n("./page-navigation-watch"),Y=o(K),$=function(){function e(){var t=this;i(this,e),this.win=null,this.sandbox=new u["default"],this.pageNavigationWatch=new Y["default"](this.sandbox.event,this.sandbox.codeInstrumentation,this.sandbox.node.element),this.EVENTS={beforeFormSubmit:this.sandbox.node.element.BEFORE_FORM_SUBMIT,beforeBeforeUnload:this.sandbox.event.unload.BEFORE_BEFORE_UNLOAD_EVENT,beforeUnload:this.sandbox.event.unload.BEFORE_UNLOAD_EVENT,unload:this.sandbox.event.unload.UNLOAD_EVENT,bodyCreated:this.sandbox.node.mutation.BODY_CREATED_EVENT,documentCleaned:this.sandbox.node.mutation.DOCUMENT_CLEANED_EVENT,uncaughtJsError:this.sandbox.node.win.UNCAUGHT_JS_ERROR_EVENT,startFileUploading:this.sandbox.upload.START_FILE_UPLOADING_EVENT,endFileUploading:this.sandbox.upload.END_FILE_UPLOADING_EVENT,evalIframeScript:this.sandbox.iframe.EVAL_EXTERNAL_SCRIPT,xhrCompleted:this.sandbox.xhr.XHR_COMPLETED_EVENT,xhrError:this.sandbox.xhr.XHR_ERROR_EVENT,xhrSend:this.sandbox.xhr.XHR_SEND_EVENT,fetchSend:this.sandbox.fetch.FETCH_REQUEST_SEND_EVENT,pageNavigationTriggered:this.pageNavigationWatch.PAGE_NAVIGATION_TRIGGERED_EVENT,scriptElementAdded:this.sandbox.node.element.SCRIPT_ELEMENT_ADDED},this.PROCESSING_COMMENTS={stylesheetStart:B.STYLESHEET_PROCESSING_START_COMMENT,stylesheetEnd:B.STYLESHEET_PROCESSING_END_COMMENT,scriptStart:F.SCRIPT_PROCESSING_START_COMMENT,scriptEndHeader:F.SCRIPT_PROCESSING_END_HEADER_COMMENT,scriptEnd:F.SCRIPT_PROCESSING_END_COMMENT},this.EventEmitter=f["default"],this.getOriginElementAttributes=p["default"].getAttributesProperty,this.doUpload=function(e,n){return t.sandbox.upload.doUpload(e,n)},this.createNativeXHR=m["default"].createNativeXHR,this.processScript=U.processScript,this.get=n,this.Promise=a["default"],this.json=_,this.transport=E["default"],this.nativeMethods=this.sandbox.nativeMethods,this.shadowUI=this.sandbox.shadowUI,this.eventSandbox={listeners:this.sandbox.event.listeners,hover:this.sandbox.event.hover,focusBlur:this.sandbox.event.focusBlur,elementEditingWatcher:this.sandbox.event.elementEditingWatcher,eventSimulator:this.sandbox.event.eventSimulator,selection:this.sandbox.event.selection,message:this.sandbox.event.message,timers:this.sandbox.event.timers},this.utils={browser:w,dom:T,event:A,position:P,style:R,types:N,trim:L["default"],isJQueryObj:W["default"],extend:q["default"]}}return e.prototype._getEventOwner=function(e){switch(e){case this.EVENTS.pageNavigationTriggered:return this.pageNavigationWatch;case this.EVENTS.beforeUnload:case this.EVENTS.beforeBeforeUnload:case this.EVENTS.upload:return this.sandbox.event.unload;case this.EVENTS.bodyCreated:case this.EVENTS.documentCleaned:return this.sandbox.node.mutation;case this.EVENTS.uncaughtJsError:return this.sandbox.node.win;case this.EVENTS.startFileUploading:case this.EVENTS.endFileUploading:return this.sandbox.upload;case this.EVENTS.evalIframeScript:return this.sandbox.iframe;case this.EVENTS.xhrCompleted:case this.EVENTS.xhrError:case this.EVENTS.xhrSend:return this.sandbox.xhr;case this.EVENTS.beforeFormSubmit:case this.EVENTS.scriptElementAdded:return this.sandbox.node.element;case this.EVENTS.fetchSend:return this.sandbox.fetch;default:return null}},e._cleanLocalStorageServiceData=function(e,t){t.localStorage.removeItem(e)},e.prototype.on=function(e,t){var n=this._getEventOwner(e);n&&n.on(e,t)},e.prototype.off=function(e,t){var n=this._getEventOwner(e);n&&n.off(e,t)},e.prototype.navigateTo=function(e){var t=null,n=this.win.top!==this.win,r=this.win.location.toString();if(n)t=r;else{var o=(0,j.parseProxyUrl)(r);t=o&&o.destUrl}"about:blank"===t&&(0,j.isRelativeUrl)(e)||(this.win.location=(0,D.getProxyUrl)(e))},e.prototype.start=function(t,n){this.win=n||window,t&&(v["default"].set(t),t.isFirstPageLoad&&e._cleanLocalStorageServiceData(t.sessionId,this.win)),this.sandbox.attach(this.win),this.pageNavigationWatch.start()},e}(),z=new $;Object.defineProperty(window,X["default"].hammerheadPropertyName,{value:z,configurable:!0}),e["default"]=z,t.exports=e["default"]},"json.js":function(exports,module,require){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,s,a=gap,l=t[e];if(l&&"object"==typeof l){var u=Object.prototype.toString.apply(l);"[object String]"===u||"[object Number]"===u||"[object Boolean]"===u?l=l.valueOf():"[object Date]"===u&&(l=isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null)}switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(i=l.length,n=0;n<i;n+=1)s[n]=str(n,l)||"null";return o=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,o}for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(o=str(r,l),o&&s.push(quote(r)+(gap?": ":":")+o));return o=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,o}}function isDOMNode(e){return"object"==typeof Node?e instanceof Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function isSerializable(e){if(e){if("function"==typeof e||(0,_isJqueryObject2["default"])(e)||isDOMNode(e))return!1;if("object"==typeof e)for(var t in e)if(e.hasOwnProperty(t)&&!isSerializable(e[t]))return!1}return!0}function stringify(e){return gap="",indent="",str("",{"":e})}function parse(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}exports.__esModule=!0,exports.isSerializable=void 0,exports.stringify=stringify,exports.parse=parse;var _isJqueryObject=require("./utils/is-jquery-object"),_isJqueryObject2=_interopRequireDefault(_isJqueryObject),cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};exports.isSerializable=isSerializable},"page-navigation-watch.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("./utils/event-emitter"),u=o(l),c=n("../utils/url"),p=n("./utils/url"),d=n("./utils/dom"),f=n("./sandbox/windows-storage"),h=r(f),m=n("./dom-processor/index"),y=o(m),v=n("./utils/next-tick"),g=o(v),E=n("./sandbox/native-methods"),b=o(E),_=function(e){function t(n,r,o){i(this,t);var a=s(this,e.call(this));return a.PAGE_NAVIGATION_TRIGGERED_EVENT="hammerhead|event|page-navigation-triggered",a.lastLocationValue=window.location.toString(),a.codeInstrumentation=r,a.eventSandbox=n,a.elementSandbox=o,a}return a(t,e),t.prototype._formWatch=function(e,n){var r=function(e){var n=t._getTargetWindow(e);t._onNavigationTriggeredInWindow(n,e.action)};e.on(e.BEFORE_FORM_SUBMIT,function(e){return r(e.form)}),n.listeners.initElementListening(window,["submit"]),n.listeners.addInternalEventListener(window,["submit"],function(e){var t=!1;if((0,d.isFormElement)(e.target)){var o=function(n){t=t||n===e};n.on(n.EVENT_PREVENTED_EVENT,o),(0,g["default"])().then(function(){n.off(n.EVENT_PREVENTED_EVENT,o),e.defaultPrevented||t||r(e.target)})}})},t._getTargetWindow=function(e){var t=b["default"].getAttribute.call(e,y["default"].getStoredAttrName("target"))||b["default"].getAttribute.call(e,"target")||"_self";switch(t){case"_top":return window.top;case"_parent":return window.parent;case"_self":return window;default:return h.findByName(t)}},t.prototype._linkWatch=function(e){e.listeners.initElementListening(window,["click"]),e.listeners.addInternalEventListener(window,["click"],function(n){var r=(0,d.isAnchorElement)(n.target)?n.target:(0,d.closest)(n.target,"a");if(r&&!(0,d.isShadowUIElement)(r)){var o=!1,i=t._getTargetWindow(r),s=r.href,a=function(e){o=o||e===n};e.on(e.EVENT_PREVENTED_EVENT,a),(0,g["default"])().then(function(){e.off(e.EVENT_PREVENTED_EVENT,a),n.defaultPrevented||o||t._onNavigationTriggeredInWindow(i,s)})}})},t.prototype._locationWatch=function(e){var t=this,n=e.locationAccessorsInstrumentation,r=function(e){return t.onNavigationTriggered(e)};n.on(n.LOCATION_CHANGED_EVENT,r)},t._onNavigationTriggeredInWindow=function(e,t){try{e["%hammerhead%"].pageNavigationWatch.onNavigationTriggered(t)}catch(n){}},t.prototype.onNavigationTriggered=function(e){var t=this.lastLocationValue;this.lastLocationValue=window.location.toString(),(e===t||"#"!==e.charAt(0)&&!(0,p.isChangedOnlyHash)(t,e))&&this.emit(this.PAGE_NAVIGATION_TRIGGERED_EVENT,(0,c.parseProxyUrl)(e).destUrl)},t.prototype.start=function(){this._locationWatch(this.codeInstrumentation),this._linkWatch(this.eventSandbox),this._formWatch(this.elementSandbox,this.eventSandbox)},t}(u["default"]);e["default"]=_,t.exports=e["default"]},sandbox:{"backup.js":function(e,t,n){function r(e,t){for(var n=e.length-1;n>=0;n--)try{if(e[n].iframe===t)return e[n]}catch(r){e.splice(n,1)}}function o(e,t){var n=(0,s.getTopSameDomainWindow)(e),o=e!==n?(0,s.getFrameElement)(e):null,i=n[a];i||(i=[],Object.defineProperty(n,a,{value:i}));var l=r(i,o);l?l.sandbox=t:i.push({iframe:o,sandbox:t})}function i(e){var t=(0,s.getTopSameDomainWindow)(e),n=t[a],o=e!==t?e.frameElement:null;if(n){var i=r(n,o);return i?i.sandbox:null}return null}e.__esModule=!0,e.create=o,e.get=i;var s=n("../utils/dom"),a="hammerhead|sandbox-backup"},"base.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("../utils/event-emitter"),l=r(a),u=n("./native-methods"),c=r(u),p=n("../utils/dom"),d=n("../../processing/dom/internal-properties"),f=r(d),h=function(e){function t(){o(this,t);var n=i(this,e.call(this));return n.window=null,n.nativeMethods=c["default"],n}return s(t,e),t.prototype.isDeactivated=function(){try{if(this.document.body,this.window[f["default"].hammerheadPropertyName]){var e=(0,p.getFrameElement)(this.window);return e&&!(0,p.isElementInDocument)(e,(0,p.findDocument)(e))}}catch(t){}return!0},t.prototype.attach=function(e,t){this.window=e,this.document=t||e.document},t}(l["default"]);e["default"]=h,t.exports=e["default"]},"code-instrumentation":{"index.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("../base"),l=r(a),u=n("./properties"),c=r(u),p=n("./location"),d=r(p),f=n("./methods"),h=r(f),m=n("./storages"),y=r(m),v=n("./properties/attributes"),g=n("../../../processing/script"),E=n("../../../processing/script/instruction"),b=r(E),_=function(e){function t(n,r,s,a,l,u){o(this,t);var p=i(this,e.call(this));return p.methodCallInstrumentation=new h["default"](r.message),p.locationAccessorsInstrumentation=new d["default"],p.propertyAccessorsInstrumentation=new c["default"](n,r,s,a,l,u),p.storagesAccessorsInstrumentation=new y["default"](u),p}return s(t,e),t.getAttributesProperty=function(e){return(0,v.getAttributeProperty)(e)},t.getOriginalErrorHandler=function(e){return c["default"].getOriginalErrorHandler(e)},t.prototype.attach=function(t){e.prototype.attach.call(this,t),this.methodCallInstrumentation.attach(t),this.locationAccessorsInstrumentation.attach(t),this.storagesAccessorsInstrumentation.attach(t),this.elementPropertyAccessors=this.propertyAccessorsInstrumentation.attach(t),Object.defineProperty(t,b["default"].getEval,{value:function(e){return e!==t.eval?e:function(t){return"string"==typeof t&&(t=(0,g.processScript)(t)),e(t)}},configurable:!0}),Object.defineProperty(t,b["default"].processScript,{value:function(e,t){if(t){if(e&&e.length&&"string"==typeof e[0]){for(var n=[(0,g.processScript)(e[0],!1)],r=1;r<e.length;r++)n.push(e[r]);return n}}else if("string"==typeof e)return(0,g.processScript)(e,!1);return e},configurable:!0})},t}(l["default"]);e["default"]=_,t.exports=e["default"]},location:{"index.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("./wrapper"),l=r(a),u=n("../../base"),c=r(u),p=n("../../../utils/dom"),d=n("../../../../processing/script/instruction"),f=r(d),h="hammerhead|location-wrapper",m=function(e){function t(){o(this,t);var n=i(this,e.call(this));return n.LOCATION_CHANGED_EVENT="hammerhead|event|location-changed",n}return s(t,e),t.isLocationWrapper=function(e){return e instanceof l["default"]},t.getLocationWrapper=function(e){try{return e[h]}catch(t){return e.location}},t.prototype.attach=function(t){var n=this;e.prototype.attach.call(this,t);var r=new l["default"](t);r.on(r.CHANGED_EVENT,function(e){return n.emit(n.LOCATION_CHANGED_EVENT,e)}),Object.defineProperty(t,h,{value:r,configurable:!0}),Object.defineProperty(t.document,h,{value:r,configurable:!0}),Object.defineProperty(t,f["default"].getLocation,{value:function(e){return(0,p.isLocation)(e)?r:e},configurable:!0}),Object.defineProperty(t,f["default"].setLocation,{value:function(e,t){return(0,p.isLocation)(e)&&"string"==typeof t?(r.href=t,t):null},configurable:!0})},t}(c["default"]);e["default"]=m,t.exports=e["default"]},"wrapper.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){try{return e.location.toString()}catch(t){return}}e.__esModule=!0;var l=n("../../../utils/event-emitter"),u=r(l),c=n("../../../utils/create-property-desc"),p=r(c),d=n("../../../utils/destination-location"),f=n("../../../utils/url"),h=n("../../../../utils/url"),m=function(e){function t(n){o(this,t);var r=i(this,e.call(this));r.CHANGED_EVENT="hammerhead|location-wrapper|changed";var s=function(e){return r.emit(r.CHANGED_EVENT,e)},l=a(n),u=l&&(0,f.parseProxyUrl)(l),c=u?u.resourceType:"",m=(0,f.parseResourceType)(c),y=m.isIframe,v=m.isForm;y|=n!==n.top;var g=(0,h.getResourceTypeString)({isIframe:y,isForm:v}),E=function(){return n!==n.top&&"about:blank"===n.location.href?"about:blank":(0,d.get)()},b=function(e){l=a(n);var t=l&&(0,f.isChangedOnlyHash)(l,e);return(0,f.getProxyUrl)(e,{resourceType:t?c:g})},_=["port","host","hostname","pathname","protocol"];Object.defineProperty(r,"href",(0,p["default"])({get:E,set:function(e){var t=b(e);return n.location.href=t,s(t),e}})),Object.defineProperty(r,"search",(0,p["default"])({get:function(){return n.location.search},set:function(e){var t=(0,f.changeDestUrlPart)(n.location.toString(),"search",e,g);return n.location=t,s(t),e}})),Object.defineProperty(r,"origin",(0,p["default"])({get:function(){return(0,h.getDomain)((0,d.getParsed)())},set:function(e){return e}})),Object.defineProperty(r,"hash",(0,p["default"])({get:function(){return n.location.hash},set:function(e){return n.location.hash=e,e}}));for(var S=function(e){Object.defineProperty(r,e,(0,p["default"])({get:function(){return(0,d.getParsed)()[e]},set:function(t){var r=(0,f.changeDestUrlPart)(n.location.toString(),e,t,g);return n.location=r,s(r),t}}))},w=0,x=_.length;w<x;w++)S(_[w]);return r.assign=function(e){var t=b(e),r=n.location.assign(t);return s(t),r},r.replace=function(e){var t=b(e),r=n.location.replace(t);return s(t),r},r.reload=function(e){var t=n.location.reload(e);return s(n.location.toString()),t},r.toString=function(){return E()},r}return s(t,e),t}(u["default"]);e["default"]=m,t.exports=e["default"]}},"methods.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../base"),u=o(l),c=n("../../../processing/script/instruction"),p=o(c),d=n("../../../processing/script/instrumented"),f=n("../../utils/dom"),h=n("../../utils/fast-apply"),m=o(h),y=n("../../utils/types"),v=r(y),g=n("../../utils/url"),E=function(e){function t(n){i(this,t);var r=s(this,e.call(this));return r.messageSandbox=n,r.methodWrappers={postMessage:{condition:f.isWindow,method:function(e,t){return n.postMessage(e,t)}},replace:{condition:f.isLocation,method:function(e,n){return e.replace((0,g.getProxyUrl)(n[0],{resourceType:t._getLocationResourceType(e)}))}},assign:{condition:f.isLocation,method:function(e,n){return e.assign((0,g.getProxyUrl)(n[0],{resourceType:t._getLocationResourceType(e)}))}}},r}return a(t,e),t._error=function(e){throw new Error(e)},t._getLocationResourceType=function(e){return window.top.location===e?null:(0,g.stringifyResourceType)({isIframe:!0})},t._isPostMessageFn=function(e,t){return e.postMessage===e.postMessage?e.postMessage===t:t&&"function"==typeof t.toString&&t.toString()===e.postMessage.toString()},t.prototype.attach=function(n){var r=this;e.prototype.attach.call(this,n),Object.defineProperty(n,p["default"].callMethod,{value:function(e,n,o){return v.isNullOrUndefined(e)&&t._error("Cannot call method '"+n+"' of "+v.inaccessibleTypeToStr(e)),"function"!=typeof e[n]&&t._error("'"+n+"' is not a function"),"string"==typeof n&&(0,d.shouldInstrumentMethod)(n)&&r.methodWrappers[n].condition(e)?r.methodWrappers[n].method(e,o):(0,m["default"])(e,n,o)},configurable:!0});var o=this;Object.defineProperty(n,p["default"].getPostMessage,{value:function(e,n){return 1!==arguments.length||(0,f.isWindow)(e)?2!==arguments.length||t._isPostMessageFn(this,n)?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.messageSandbox.postMessage(this,t)}:n:e.postMessage},configurable:!0})},t}(u["default"]);e["default"]=E,t.exports=e["default"]},properties:{"anchor.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(e.href){var n=(0,s.parseProxyUrl)(e.href);return u.href=n?n.destUrl:e.href,u[t]}return c[t]}function i(e,t,n){return e.href?(u.href=(0,s.parseProxyUrl)(e.href).destUrl,u[t]=n,e.setAttribute("href",u.href),u[t]):""}e.__esModule=!0,e.getAnchorProperty=o,e.setAnchorProperty=i;var s=n("../../../utils/url"),a=n("../../native-methods"),l=r(a),u=l["default"].createElement.call(document,"a"),c=l["default"].createElement.call(document,"a")},"attributes-wrapper.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n("../../../utils/dom"),s=n("../../../dom-processor"),a=n("../../../utils/fn-bind"),l=r(a),u=n("../../native-methods"),c=r(u),p=n("../../../../processing/dom"),d=r(p),f="hammerhead|element-attribute-wrappers-prop",h=["setNamedItem","setNamedItemNS","removeNamedItem","removeNamedItemNS","getNamedItem","getNamedItemNS"],m=function(){function e(t){var n=this;o(this,e),t[f]=t[f]||[],t[f].push(this),e._assignAttributes.call(this,t.attributes),this.item=function(e){return n[e]};var r=function(r){n[r]=function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var s=t.attributes[r].apply(t.attributes,o);return e.refreshWrappers(t),s}};for(var i in t.attributes)"function"==typeof this[i]&&"item"!==i&&(h.indexOf(i)!==-1?r(i):this[i]=(0,l["default"])(t.attributes[i],t.attributes))}return e._assignAttributes=function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];if(!(0,i.isHammerheadAttr)(r.name)){var o=e[(0,s.getStoredAttrName)(r.name)];if(o){if(d["default"].isAddedAutocompleteAttr(r.name,o.value))continue;r=c["default"].cloneNode.call(r),r.value=o.value,Object.defineProperty(this,r.name,{value:r,configurable:!0})}Object.defineProperty(this,t,{value:r,configurable:!0}),t++}}Object.defineProperty(this,"length",{value:t,configurable:!0})},e._cleanAttributes=function(){if(this.length)for(var e=this.length-1;e>=0;e--)delete this[e]},e.refreshWrappers=function(t){var n=t[f];if(n)for(var r=0;r<n.length;r++)e._cleanAttributes.call(n[r],t.attributes),e._assignAttributes.call(n[r],t.attributes)},e}();e["default"]=m,t.exports=e["default"]},"attributes.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){for(var t=0;t<e.attributes.length;t++)if((0,a.isHammerheadAttr)(e.attributes[t].name))return s["default"].prototype=e.attributes,new s["default"](e);return e.attributes}e.__esModule=!0,e.getAttributesProperty=o;var i=n("./attributes-wrapper"),s=r(i),a=n("../../../utils/dom")},"index.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../../../../processing/dom/internal-properties"),u=o(l),c=n("../../../../request-pipeline/xhr/same-origin-policy"),p=n("../../../../shadow-ui/class-name"),d=o(p),f=n("../location"),h=o(f),m=n("../location/wrapper"),y=o(m),v=n("../../base"),g=o(v),E=n("../../upload"),b=o(E),_=n("../../shadow-ui"),S=o(_),w=n("../../xhr"),x=o(w),T=n("../../node/element"),C=o(T),A=n("../../../../processing/dom/index"),I=o(A),N=n("../../../utils/destination-location"),M=r(N),P=n("../../../utils/dom"),O=r(P),R=n("../../../utils/types"),k=r(R),L=n("../../../utils/url"),j=r(L),D=n("../../../../utils/url"),U=n("../../../utils/style"),F=n("../../../utils/html"),B=n("./anchor"),H=n("./attributes"),W=n("../../../dom-processor"),V=o(W),q=n("../../../../processing/style"),G=o(q),X=n("../../../../processing/script"),K=n("../../../../processing/script/header"),Y=n("../../../../processing/script/instruction"),$=o(Y),z=n("../../../../processing/script/instrumented"),Q=n("../../native-methods"),J=o(Q),Z=n("../../../utils/feature-detection"),ee="hammerhead|original-window-on-error-handler-key",te=function(e){function t(n,r,o,a,l,u){i(this,t);var c=s(this,e.call(this));return c.nodeMutation=n,c.messageSandbox=r.message,c.cookieSandbox=o,c.uploadSandbox=a,c.elementEditingWatcher=r.elementEditingWatcher,c.unloadSandbox=r.unload,c.shadowUI=l,c.storageSandbox=u,c}return a(t,e),t._error=function(e){throw new Error(e)},t._getUrlAttr=function(e,t){var n=J["default"].getAttribute.call(e,t);return""===n||null===n&&"action"===t&&Z.emptyActionAttrFallbacksToTheLocation?M.get():null===n?"":D.HASH_RE.test(n)?M.withHash(n):j.resolveUrlAsDest(n)},t._getShadowUICollectionLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n].className;r&&("string"!=typeof r&&(r=r.baseVal||""),r.indexOf(d["default"].postfix)!==-1&&t++)}return 0!==t&&S["default"].checkElementsPosition(e),e.length-t},t._setTextProp=function(e,t,n){var r=null!==n&&void 0!==n?String(n):n;return r?O.isScriptElement(e)?e[t]=(0,X.processScript)(r,!0):O.isStyleElement(e)?e[t]=G["default"].process(r,j.getProxyUrl,!0):e[t]=r:e[t]=r,n},t.removeProcessingInstructions=function(e){return e?(e=(0,K.remove)(e),G["default"].cleanUp(e,j.parseProxyUrl)):e},t.prototype._createPropertyAccessors=function(e,n){var r=this,o="";return{action:{condition:function(e){return O.isDomElement(e)&&V["default"].isUrlAttr(e,"action")},get:function(e){return t._getUrlAttr(e,"action")},set:function(e,t){return e.setAttribute("action",t),t}},activeElement:{condition:O.isDocument,get:function(e){return O.isShadowUIElement(e.activeElement)?r.shadowUI.getLastActiveElement()||e.body:e.activeElement},set:function(){}},attributes:{condition:function(t){return t.attributes instanceof e.NamedNodeMap},get:function(e){return(0,H.getAttributesProperty)(e)},set:function(e,t){return t}},autocomplete:{condition:O.isInputElement,get:function(e){return e.getAttribute("autocomplete")||""},set:function(e,t){return e.setAttribute("autocomplete",t),t}},childElementCount:{condition:S["default"].isShadowContainer,get:function(e){return t._getShadowUICollectionLength(e.children)},set:function(){}},cookie:{condition:O.isDocument,get:function(){return r.cookieSandbox.getCookie()},set:function(e,t){return r.cookieSandbox.setCookie(e,String(t),!0)}},data:{condition:function(e){return O.isDomElement(e)&&V["default"].isUrlAttr(e,"data")},get:function(e){return t._getUrlAttr(e,"data")},set:function(e,t){return e.setAttribute("data",t),t}},documentURI:{condition:O.isDocument,get:function(e){return j.parseProxyUrl(e.documentURI).destUrl},set:function(e){return e}},domain:{condition:O.isDocument,get:function(){return o?o:h["default"].getLocationWrapper(e).hostname},set:function(e,t){return o=t,t}},files:{condition:O.isFileInput,get:function(e){return b["default"].getFiles(e)},set:function(e,t){return t}},firstChild:{condition:S["default"].isShadowContainer,get:function(e){return r.shadowUI.getFirstChild(e)},set:function(){}},firstElementChild:{condition:S["default"].isShadowContainer,get:function(e){return r.shadowUI.getFirstElementChild(e)},set:function(){}},formAction:{condition:function(e){return O.isDomElement(e)&&V["default"].isUrlAttr(e,"formaction")},get:function(e){return t._getUrlAttr(e,"formaction")},set:function(e,t){return e.setAttribute("formaction",t),t}},host:{condition:O.isAnchorElement,get:function(e){return(0,B.getAnchorProperty)(e,"host")},set:function(e,t){return(0,B.setAnchorProperty)(e,"host",t)}},hostname:{condition:O.isAnchorElement,get:function(e){return(0,B.getAnchorProperty)(e,"hostname")},set:function(e,t){return(0,B.setAnchorProperty)(e,"hostname",t)}},href:{condition:function(e){return!!h["default"].isLocationWrapper(e)||(O.isDomElement(e)?V["default"].isUrlAttr(e,"href"):!!(0,U.isStyleSheet)(e))},get:function(e){if(h["default"].isLocationWrapper(e))return e.href;if((0,U.isStyleSheet)(e)){var n=j.parseProxyUrl(e.href);return n?n.destUrl:e.href}return t._getUrlAttr(e,"href")},set:function(e,t){return h["default"].isLocationWrapper(e)?e.href=M.resolveUrl(t,n):(0,U.isStyleSheet)(e)||e.setAttribute("href",t),t}},innerHTML:{condition:function(e){return O.isElementNode(e)},get:function(e){return O.isScriptElement(e)?(0,K.remove)(e.innerHTML):O.isStyleElement(e)?G["default"].cleanUp(e.innerHTML,j.parseProxyUrl):(0,F.cleanUpHtml)(e.innerHTML,e.tagName)},set:function(t,n){var o=O.isStyleElement(t),i=O.isScriptElement(t),s=null!==n&&void 0!==n?String(n):n;if(s&&(s=o?G["default"].process(s,j.getProxyUrl,!0):i?(0,X.processScript)(s,!0):(0,F.processHtml)(s,t.tagName)),t.innerHTML=s,o||i)return n;var a=O.findDocument(t),l=a?a.defaultView:null;return l&&l!==e&&l[u["default"].processDomMethodName]?l[u["default"].processDomMethodName](t,a):e[u["default"].processDomMethodName]&&e[u["default"].processDomMethodName](t),e.self&&(O.isHtmlElement(t)||O.isBodyElement(t))&&J["default"].setTimeout.call(e,function(){return r.nodeMutation.onBodyContentChanged(t)},0),n}},innerText:{condition:function(e){return"string"==typeof e.innerText&&O.isElementNode(e)},get:function(e){return t.removeProcessingInstructions(e.innerText)},set:function(e,n){return t._setTextProp(e,"innerText",n)}},nextElementSibling:{condition:function(e){return e.nextElementSibling&&O.isDomElement(e.nextElementSibling)},get:function(e){return O.isShadowUIElement(e.nextElementSibling)?null:e.nextElementSibling},set:function(){}},nextSibling:{condition:function(e){return e.nextSibling&&O.isDomElement(e.nextSibling)},get:function(e){return O.isShadowUIElement(e.nextSibling)?null:e.nextSibling},set:function(){}},outerHTML:{condition:function(e){return"string"==typeof e.outerHTML&&O.isElementNode(e)},get:function(e){return(0,F.cleanUpHtml)(e.outerHTML,e.parentNode&&e.parentNode.tagName)},set:function(t,n){var o=t.parentNode;if(o&&null!==n&&void 0!==n){var i=O.findDocument(o),s=i?i.defaultView:null;return t.outerHTML=(0,F.processHtml)(""+n,o.tagName),s&&s!==e&&s[u["default"].processDomMethodName]?s[u["default"].processDomMethodName](o,i):e[u["default"].processDomMethodName]&&e[u["default"].processDomMethodName](o),e.self&&O.isBodyElement(t)&&J["default"].setTimeout.call(e,function(){return r.shadowUI.onBodyElementMutation()},0),n}return t.outerHTML=n,n}},onerror:{condition:O.isWindow,get:function(e){return e[ee]||null},set:function(e,t){return"function"==typeof t&&(e[ee]=t),t}},lastChild:{condition:S["default"].isShadowContainer,get:function(e){return r.shadowUI.getLastChild(e)},set:function(){}},lastElementChild:{condition:S["default"].isShadowContainer,get:function(e){return r.shadowUI.getLastElementChild(e)},set:function(){}},length:{condition:S["default"].isShadowContainerCollection,get:t._getShadowUICollectionLength,set:function(){}},localStorage:{condition:O.isWindow,get:function(){return r.storageSandbox.localStorage},set:function(){}},location:{condition:function(e){return O.isDocument(e)||O.isWindow(e)},get:function(e){var t=h["default"].getLocationWrapper(e);if(t)return t;var n=O.isWindow(e)?e:e.defaultView;return new y["default"](n)},set:function(e,t){if("string"==typeof t){var n=O.isWindow(e)?e:e.defaultView,r=h["default"].getLocationWrapper(n);return r?r.href=t:e.location=t,t}return e.location}},manifest:{condition:function(e){return O.isDomElement(e)&&V["default"].isUrlAttr(e,"manifest")},get:function(e){return t._getUrlAttr(e,"manifest")},set:function(e,t){return e.setAttribute("manifest",t),t}},onload:{condition:function(e){return O.isDomElement(e)&&O.isImgElement(e)},get:function(e){return e.onload},set:function(e,t){return"function"==typeof t?(C["default"].setHasLoadHandlerFlag(e),e.src&&(e.src=j.getProxyUrl(e.src))):C["default"].removeHasLoadHandlerFlag(e),e.onload=t,e.onload}},origin:{condition:O.isAnchorElement,get:function(e){return void 0!==e.origin?(0,B.getAnchorProperty)(e,"origin"):e.origin},set:function(e,t){return e.origin=t,t}},pathname:{condition:O.isAnchorElement,get:function(e){return(0,B.getAnchorProperty)(e,"pathname")},set:function(e,t){return(0,B.setAnchorProperty)(e,"pathname",t)}},port:{condition:O.isAnchorElement,get:function(e){return(0,B.getAnchorProperty)(e,"port")},set:function(e,t){return(0,B.setAnchorProperty)(e,"port",t)}},protocol:{condition:O.isAnchorElement,get:function(e){return(0,B.getAnchorProperty)(e,"protocol")},set:function(e,t){return(0,B.setAnchorProperty)(e,"protocol",t)}},referrer:{condition:O.isDocument,get:function(e){var t=j.parseProxyUrl(e.referrer);return t?t.destUrl:""},set:function(e,t){return e.referrer=j.getProxyUrl(t),t}},sandbox:{condition:O.isIframeElement,get:function(e){return e.getAttribute("sandbox")},set:function(e,t){return e.setAttribute("sandbox",t),t}},search:{condition:O.isAnchorElement,get:function(e){return(0,B.getAnchorProperty)(e,"search")},set:function(e,t){return(0,B.setAnchorProperty)(e,"search",t)}},sessionStorage:{condition:O.isWindow,get:function(){return r.storageSandbox.sessionStorage},set:function(){}},src:{condition:function(e){return O.isDomElement(e)&&V["default"].isUrlAttr(e,"src")},get:function(e){return t._getUrlAttr(e,"src")},set:function(e,t){return e.setAttribute("src",t),t}},target:{condition:function(e){return O.isDomElement(e)&&I["default"].isTagWithTargetAttr(O.getTagName(e))},get:function(e){return e.target},set:function(e,t){return e.setAttribute("target",t),t}},text:{condition:function(e){return O.isScriptElement(e)||O.isAnchorElement(e)},get:function(e){return t.removeProcessingInstructions(e.text)},set:function(e,n){return t._setTextProp(e,"text",n)}},textContent:{condition:function(e){return O.isElementNode(e)},get:function(e){return t.removeProcessingInstructions(e.textContent)},set:function(e,n){return t._setTextProp(e,"textContent",n)}},URL:{condition:O.isDocument,get:function(e){return h["default"].getLocationWrapper(e).href},set:function(){}},baseURI:{condition:O.isDocument,get:function(e){if(e.baseURI){var t=j.parseProxyUrl(e.baseURI);if(t)return t.destUrl}return e.baseURI},set:function(e,t){var n=e.baseURI=t;return n}},value:{condition:function(e){return O.isDomElement(e)&&(O.isFileInput(e)||O.isTextEditableElementAndEditingAllowed(e)&&!O.isShadowUIElement(e))},get:function(e){return O.isFileInput(e)?b["default"].getUploadElementValue(e):e.value},set:function(e,t){return O.isFileInput(e)?r.uploadSandbox.setUploadElementValue(e,t):(e.value=t,r.elementEditingWatcher.restartWatchingElementEditing(e),t)}},scripts:{condition:O.isDocument,get:function(e){return S["default"]._filterNodeList(e.scripts)},set:function(e,t){return e.scripts=t,t}},status:{condition:x["default"].isOpenedXhr,get:function(e){return e.status===c.SAME_ORIGIN_CHECK_FAILED_STATUS_CODE?0:e.status},set:function(e,t){return e.status=t,t}},onbeforeunload:{condition:O.isWindow,get:function(){return r.unloadSandbox.getOnBeforeUnload()},set:function(e,t){return r.unloadSandbox.setOnBeforeUnload(e,t)}},onpagehide:{condition:O.isWindow,get:function(){return r.unloadSandbox.getOnBeforeUnload()},set:function(e,t){return r.unloadSandbox.setOnBeforeUnload(e,t)}},onmessage:{condition:O.isWindow,get:function(){return r.messageSandbox.getOnMessage()},set:function(e,t){return r.messageSandbox.setOnMessage(e,t)}},which:{condition:function(e){return void 0!==e[u["default"].whichPropertyWrapper]||e.originalEvent&&void 0!==e.originalEvent[u["default"].whichPropertyWrapper]},get:function(e){return e.originalEvent?e.originalEvent[u["default"].whichPropertyWrapper]:e[u["default"].whichPropertyWrapper]},set:function(){}},background:{condition:U.isStyle,get:function(e){return G["default"].cleanUp(e.background,j.parseProxyUrl)},set:function(e,t){return"string"==typeof t&&(e.background=G["default"].process(t,j.getProxyUrl)),e.background}},backgroundImage:{condition:U.isStyle,get:function(e){return G["default"].cleanUp(e.backgroundImage,j.parseProxyUrl)},set:function(e,t){return"string"==typeof t&&(e.backgroundImage=G["default"].process(t,j.getProxyUrl)),e.backgroundImage}},borderImage:{condition:U.isStyle,get:function(e){return G["default"].cleanUp(e.borderImage,j.parseProxyUrl)},set:function(e,t){return"string"==typeof t&&(e.borderImage=G["default"].process(t,j.getProxyUrl)),e.borderImage}},cssText:{condition:U.isStyle,get:function(e){return G["default"].cleanUp(e.cssText,j.parseProxyUrl)},set:function(e,t){return"string"==typeof t&&(e.cssText=G["default"].process(t,j.getProxyUrl)),e.cssText}},cursor:{condition:U.isStyle,get:function(e){return G["default"].cleanUp(e.cursor,j.parseProxyUrl)},set:function(e,t){return"string"==typeof t&&(e.cursor=G["default"].process(t,j.getProxyUrl)),e.cursor}},listStyle:{condition:U.isStyle,get:function(e){return G["default"].cleanUp(e.listStyle,j.parseProxyUrl)},set:function(e,t){return"string"==typeof t&&(e.listStyle=G["default"].process(t,j.getProxyUrl)),e.listStyle}},listStyleImage:{condition:U.isStyle,get:function(e){return G["default"].cleanUp(e.listStyleImage,j.parseProxyUrl)},set:function(e,t){return"string"==typeof t&&(e.listStyleImage=G["default"].process(t,j.getProxyUrl)),e.listStyleImage}},styleSheets:{condition:O.isDocument,get:function(e){return S["default"]._filterStyleSheetList(e.styleSheets)},set:function(e,t){return e.styleSheets=t,t}},responseURL:{condition:O.isXMLHttpRequest,get:function(e){return e.responseURL?j.parseProxyUrl(e.responseURL).destUrl:e.responseURL},set:function(e,t){return e.responseURL=t,t}}}},t.getOriginalErrorHandler=function(e){return e[ee]},t._getSetPropertyInstructionByOwner=function(e,t){try{return e&&e[u["default"].processedContext]&&e[u["default"].processedContext]!==t&&e[u["default"].processedContext][$["default"].setProperty]}catch(n){return null}},t.prototype.attach=function(n){e.prototype.attach.call(this,n);var r=this._createPropertyAccessors(n,n.document);return Object.defineProperty(n,$["default"].getProperty,{value:function(e,n){return k.isNullOrUndefined(e)&&t._error("Cannot read property '"+n+"' of "+k.inaccessibleTypeToStr(e)),"string"==typeof n&&(0,z.shouldInstrumentProperty)(n)&&r[n].condition(e)?r[n].get(e):e[n]},configurable:!0}),Object.defineProperty(n,$["default"].setProperty,{value:function(e,o,i){k.isNullOrUndefined(e)&&t._error("Cannot set property '"+o+"' of "+k.inaccessibleTypeToStr(e));var s=t._getSetPropertyInstructionByOwner(e,n);return s?s(e,o,i):"string"==typeof o&&(0,z.shouldInstrumentProperty)(o)&&r[o].condition(e)?r[o].set(e,i):e[o]=i},configurable:!0}),r},t}(g["default"]);e["default"]=te,t.exports=e["default"]}},"storages.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("../base"),l=r(a),u=n("../../../processing/script/instruction"),c=r(u),p=function(e){function t(n){o(this,t);var r=i(this,e.call(this));return r.storageSandbox=n,r}return s(t,e),t.prototype.attach=function(t){var n=this;e.prototype.attach.call(this,t),Object.defineProperty(t,c["default"].getStorage,{value:function(e){return e===n.window.sessionStorage?(n.storageSandbox.sessionStorage.setContext(t),n.storageSandbox.sessionStorage):e===n.window.localStorage?(n.storageSandbox.localStorage.setContext(t),n.storageSandbox.localStorage):e},configurable:!0})},t}(l["default"]);e["default"]=p,t.exports=e["default"]}},"cookie.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("./base"),u=o(l),c=n("../../session/command"),p=o(c),d=n("../settings"),f=o(d),h=n("../utils/destination-location"),m=r(h),y=n("../utils/cookie"),v=r(y),g=n("../utils/dom"),E=n("../transport"),b=o(E),_=n("../../utils/string-trim"),S=o(_),w=n("../../processing/dom/internal-properties"),x=o(w),T=n("../../session/cookie-limit"),C=o(T),A=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype._getSettings=function(){var e=this.window===this.window.top||(0,g.isCrossDomainWindows)(this.window,this.window.top)?f["default"]:this.window.top[x["default"].hammerheadPropertyName].get("./settings");return e.get()},t._getBrowserProcessedCookie=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);var o=Math.floor(1e10*Math.random())+"|";n.key=o+n.key,n.path&&"/"!==n.path&&(n.path=m.getCookiePathPrefix()+n.path),t.cookie=v.format(n);var i=v.get(t,n.key);if(v.del(t,n),i){var s=""===e.key?o.length+1:o.length;return i.substr(s)}return null},t._isValidCookie=function(e){if(!e)return!1;if(e.httponly)return!1;var t=m.getParsed(),n=t.protocol;if(e.secure&&"https:"!==n)return!1;var r=e.domain&&"//"+e.domain;return!r||m.sameOriginCheck(m.get(),r)},t.prototype._updateClientCookieStr=function(e,t){for(var n=this._getSettings().cookie?this._getSettings().cookie.split(";"):[],r=!1,o=""===e?null:e+"=",i=0;i<n.length;i++){n[i]=(0,S["default"])(n[i]);var s=o?0===n[i].indexOf(o):n[i].indexOf("=")===-1;s&&(null===t?n.splice(i,1):n[i]=t,r=!0)}r||null===t||n.push(t),this._getSettings().cookie=n.join("; ")},t.prototype.getCookie=function(){return this._getSettings().cookie},t.prototype.setCookie=function(e,n,r){if(n.length>C["default"]||"file:"===m.getParsed().protocol)return n;var o=v.parse(n);if(t._isValidCookie(o)){delete o.secure,delete o.domain;var i=t._getBrowserProcessedCookie(o,e);null===i?(delete o.expires,null!==t._getBrowserProcessedCookie(o,e)&&this._updateClientCookieStr(o.key,null)):this._updateClientCookieStr(o.key,i)}return r&&b["default"].queuedAsyncServiceMsg({cmd:p["default"].setCookie,cookie:n,url:e.location.href}),n},t}(u["default"]);e["default"]=A,t.exports=e["default"]},"electron.js":function(exports,module,require){function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var _base=require("./base"),_base2=_interopRequireDefault(_base),_script=require("../../processing/script"),_destinationLocation=require("../utils/destination-location"),destinationLocation=_interopRequireWildcard(_destinationLocation),ElectronSandbox=function(_SandboxBase){function ElectronSandbox(){return _classCallCheck(this,ElectronSandbox),_possibleConstructorReturn(this,_SandboxBase.apply(this,arguments))}return _inherits(ElectronSandbox,_SandboxBase),ElectronSandbox._createFnWrapper=function(e,t){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return"string"==typeof r[0]&&(r[0]=(0,_script.processScript)(r[0])),t.apply(e,r)}},ElectronSandbox._overrideElectronModulePaths=function _overrideElectronModulePaths(window){var electronRequire=eval("require"),path=electronRequire("path"),destination=destinationLocation.getParsed();if("file:"===destination.protocol){var pathname="win32"===window.process.platform&&"/"===destination.pathname[0]?destination.pathname.substr(1):destination.pathname;window.__filename=path.normalize(decodeURIComponent(pathname)),window.__dirname=path.dirname(window.__filename),window.module.filename=window.__filename,window.module.paths=window.module.paths.concat(electronRequire("module")._nodeModulePaths(window.__dirname))}},ElectronSandbox.prototype.attach=function(e){if(_SandboxBase.prototype.attach.call(this,e),e.require){var t=e.require("vm");if(t){var n=this.nativeMethods;n.refreshElectronMeths(t)&&(t.createScript=ElectronSandbox._createFnWrapper(t,n.createScript),t.runInDebugContext=ElectronSandbox._createFnWrapper(t,n.runInDebugContext),t.runInContext=ElectronSandbox._createFnWrapper(t,n.runInContext),t.runInNewContext=ElectronSandbox._createFnWrapper(t,n.runInNewContext),t.runInThisContext=ElectronSandbox._createFnWrapper(t,n.runInThisContext),ElectronSandbox._overrideElectronModulePaths(e))}}},ElectronSandbox}(_base2["default"]);exports["default"]=ElectronSandbox,module.exports=exports["default"]},event:{"active-window-tracker.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("../base"),l=r(a),u="hammerhead|event|window-activated",c="hammerhead|event|window-deactivated",p=function(e){function t(n){o(this,t);var r=i(this,e.call(this));return r.messageSandbox=n,
r.isIframeWindow=null,r.activeWindow=null,r.isActive=null,r}return s(t,e),t.prototype._notifyPrevActiveWindow=function(){try{this.activeWindow.top&&this.activeWindow!==this.activeWindow.top&&this.messageSandbox.sendServiceMsg({cmd:c},this.activeWindow)}catch(e){}},t.prototype.attach=function(t){var n=this;e.prototype.attach.call(this,t),this.isIframeWindow=t!==t.top,this.activeWindow=this.isIframeWindow?null:t.top,this.isActive=!this.isIframeWindow,this.messageSandbox.on(this.messageSandbox.SERVICE_MSG_RECEIVED_EVENT,function(e){e.message.cmd===u?(n._notifyPrevActiveWindow(),n.isActive=!1,n.activeWindow=e.source):e.message.cmd===c&&(n.isActive=!1)})},t.prototype.isCurrentWindowActive=function(){return this.isActive},t.prototype.makeCurrentWindowActive=function(){this.isActive=!0,this.isIframeWindow?this.messageSandbox.sendServiceMsg({cmd:u},this.window.top):(this._notifyPrevActiveWindow(),this.activeWindow=this.window)},t}(l["default"]);e["default"]=p,t.exports=e["default"]},"element-editing-watcher.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n("../native-methods"),s=r(i),a=n("../../utils/dom"),l="hammerhead|element-editing-observed",u="hammerhead|old-value",c=function(){function e(t){o(this,e),this.eventSimulator=t}return e.prototype._onBlur=function(e){this.processElementChanging(e.target)||this.stopWatching(e.target)},e.prototype._onChange=function(e){this.stopWatching(e.target)},e.prototype.stopWatching=function(e){var t=this;e&&(s["default"].removeEventListener.call(e,"blur",function(e){return t._onBlur(e)}),s["default"].removeEventListener.call(e,"change",function(e){return t._onChange(e)}),e[l]&&delete e[l],e[u]&&delete e[u])},e.prototype.watchElementEditing=function(e){var t=this;e&&!e[l]&&(0,a.isTextEditableElementAndEditingAllowed)(e)&&!(0,a.isShadowUIElement)(e)&&(e[l]=!0,e[u]=e.value,s["default"].addEventListener.call(e,"blur",function(e){return t._onBlur(e)}),s["default"].addEventListener.call(e,"change",function(e){return t._onChange(e)}))},e.prototype.restartWatchingElementEditing=function(e){e&&e[l]&&(e[u]=e.value)},e.prototype.processElementChanging=function(e){return!(!e||!e[l]||e.value===e[u])&&(this.eventSimulator.change(e),this.restartWatchingElementEditing(e),!0)},e}();e["default"]=c,t.exports=e["default"]},"focus-blur.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../../../processing/dom/internal-attributes"),u=o(l),c=n("../../../processing/dom/internal-properties"),p=o(c),d=n("../base"),f=o(d),h=n("../event/active-window-tracker"),m=o(h),y=n("../native-methods"),v=o(y),g=n("../../utils/browser"),E=r(g),b=n("../../utils/dom"),_=r(b),S=n("../../utils/style"),w=r(S),x="hammerhead|event|internal-",T={bubbles:{focus:"focusin",blur:"focusout"},nonBubbles:{focusin:"focus",focusout:"blur"}},C=function(e){function t(n,r,o,a,l,u){i(this,t);var c=s(this,e.call(this));return c.shouldDisableOuterFocusHandlers=!1,c.topWindow=null,c.lastFocusedElement=null,c.scrollState={},c.eventSimulator=r,c.activeWindowTracker=new m["default"](o),c.shadowUI=a,c.listeners=n,c.elementEditingWatcher=u,c.timersSandbox=l,c}return a(t,e),t._getNativeMeth=function(e,t){if(_.isSVGElement(e)){if("focus"===t)return v["default"].svgFocus;if("blur"===t)return v["default"].svgBlur}return v["default"][t]},t._restoreElementScroll=function(e,t){var n=w.getElementScroll(e);n.left!==t.left&&w.setScrollLeft(e,t.left),n.top!==t.top&&w.setScrollTop(e,t.top)},t.prototype._onChangeActiveElement=function(e){this.lastFocusedElement!==e&&(this.lastFocusedElement&&v["default"].getAttribute.call(this.lastFocusedElement,u["default"].focusPseudoClass)&&v["default"].removeAttribute.call(this.lastFocusedElement,u["default"].focusPseudoClass),!_.isElementFocusable(e)||_.isBodyElement(e)&&null===_.getTabIndex(e,"tabIndex")?this.lastFocusedElement=null:(this.lastFocusedElement=e,v["default"].setAttribute.call(e,u["default"].focusPseudoClass,!0)))},t.prototype._isEventRaisedOnShadowUIRootInIE9=function(e){return E.isIE9&&this.shadowUI.getRoot()===e},t.prototype._shouldUseLabelHtmlForElement=function(e,t){return"focus"===t&&_.isLabelElement(e)&&e.htmlFor},t.prototype._getElementNonScrollableParentsScrollState=function(e){for(var t=[],n=_.getParents(e),r=n,o=Array.isArray(r),i=0,r=o?r:r[Symbol.iterator]();;){var s;if(o){if(i>=r.length)break;s=r[i++]}else{if(i=r.next(),i.done)break;s=i.value}var a=s;"hidden"===w.get(a,"overflow")&&t.push({element:a,state:w.getElementScroll(a)})}return t},t.prototype._restoreElementNonScrollableParentsScrollState=function(e){for(var n=e,r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if(o=n.next(),o.done)break;i=o.value}var s=i;t._restoreElementScroll(s.element,s.state)}},t.prototype._saveScrollStateIfNecessary=function(e,t){t&&(this.scrollState.windowScroll=w.getElementScroll(this.window)),E.isIE&&(this.scrollState.elementNonScrollableParentsScrollState=this._getElementNonScrollableParentsScrollState(e))},t.prototype._restoreScrollStateIfNecessary=function(e){e&&t._restoreElementScroll(this.window,this.scrollState.windowScroll),E.isIE&&this._restoreElementNonScrollableParentsScrollState(this.scrollState.elementNonScrollableParentsScrollState)},t.prototype._raiseEvent=function(e,n,r,o,i,s,a){var l=this,u=function(){E.isIE&&E.version<12?l.window.setTimeout(function(){l.window.setTimeout(function(){delete e[t.getInternalEventFlag(n)]},0)},0):delete e[t.getInternalEventFlag(n)];var s=T.bubbles[n];o||(i?(l.eventSimulator[s](e),l.timersSandbox.deferFunction(function(){return l.eventSimulator[n](e)})):E.isMSEdge&&"blur"===n?(l.eventSimulator[s](e),l.eventSimulator[n](e)):(l.eventSimulator[n](e),l.eventSimulator[s](e))),r()};if(this._isEventRaisedOnShadowUIRootInIE9(e)&&r(),e[n]){if(this._saveScrollStateIfNecessary(e,a),this._shouldUseLabelHtmlForElement(e,n)){var c=v["default"].getElementById.call(_.findDocument(e),e.htmlFor);if(!c)return void r();e=c}e[t.getInternalEventFlag(n)]=!0,t._getNativeMeth(e,n).call(e),this._restoreScrollStateIfNecessary(a);var p=_.findDocument(e),d=_.getActiveElement(p),f=e.parentNode,h=f===document?null:_.closest(f,"[tabindex]");if("focus"===n&&d!==e&&h&&s){var m=E.isWebKit||E.isSafari||E.isIE;this._raiseEvent(h,"focus",u,!1,!1,s,m)}else"blur"===n&&d===e&&e!==p.body?this._raiseEvent(p.body,"focus",u,!0):u()}else u()},t.getInternalEventFlag=function(e){return x+e},t.getNonBubblesEventType=function(e){return T.nonBubbles[e]},t.prototype.attach=function(t){var n=this;e.prototype.attach.call(this,t),this.activeWindowTracker.attach(t),this.topWindow=_.isCrossDomainWindows(t,t.top)?t:t.top,this.listeners.addInternalEventListener(t,["focus","blur"],function(){var e=_.getActiveElement(n.document);n._onChangeActiveElement(e)})},t.prototype._raiseSelectionChange=function(e,t){E.isMSEdge&&t&&_.isTextEditableElement(t)&&this.eventSimulator.selectionchange(t),"function"==typeof e&&e()},t.prototype.focus=function(e,t,n,r,o,i){var s=this;if(this.shouldDisableOuterFocusHandlers&&!_.isShadowUIElement(e))return null;var a=!o||E.isWebKit||!w.isElementInInvisibleIframe(e),l=(e[p["default"].processedContext]||this.window).document;if(!a||o&&!w.isElementVisible(e,l))return null;var u=_.isElementInIframe(e),c=u?_.getIframeByElement(e):null,d=_.findDocument(e),f=_.isBodyElement(e),h=_.getActiveElement(),m=_.findDocument(h),y=!1,v=!1,g=!1,b=_.isContentEditableElement(e),S=this.activeWindowTracker.isCurrentWindowActive();y=h===e?!(f&&b&&!S):f&&!(b||E.isIE);var x=!1,T=function(){S||_.isShadowUIElement(e)||s.activeWindowTracker.makeCurrentWindowActive(),s._raiseEvent(e,"focus",function(){n||s.elementEditingWatcher.watchElementEditing(e),u&&c&&_.getActiveElement(s.topWindow.document)!==c?s._raiseEvent(c,"focus",function(){return s._raiseSelectionChange(t,e)},!0,x):s._raiseSelectionChange(t,e)},y||n,x,r,i)};if(o&&E.isIE){if((this.eventSimulator.isSavedWindowsEventsExists()||E.version>10)&&this.window.event&&"focus"===this.window.event.type&&this.window.event.srcElement===e)return this._raiseSelectionChange(t,e),null;E.version<12&&(x=!0)}return h&&h.tagName&&(h!==e&&(d!==m&&h===m.body?v=!1:h===d.body?!n&&E.isIE&&(x?this.timersSandbox.setTimeout.call(this.window,function(){return s.eventSimulator.blur(h)},0):this.eventSimulator.blur(h)):v=!0),g=d!==m&&_.isElementInIframe(h,m)),g&&!v?E.isIE?(this.eventSimulator.blur(_.getIframeByElement(h)),T()):this.blur(_.getIframeByElement(h),T,!0,o):v?this.blur(h,function(){g?s.blur(_.getIframeByElement(h),T,!0,o):T()},n,o):T(),null},t.prototype.blur=function(e,t,n,r){var o=_.getActiveElement(_.findDocument(e)),i=r&&E.isIE&&E.version<12;o!==e&&(n=!0),n||(this.elementEditingWatcher.processElementChanging(e),this.elementEditingWatcher.stopWatching(e)),this._raiseEvent(e,"blur",function(){"function"==typeof t&&t()},n,i)},t._processFocusPseudoClassSelector=function(e){return E.isIE?e:e.replace(/\s*:focus\b/gi,"["+u["default"].focusPseudoClass+"]")},t}(f["default"]);e["default"]=C,t.exports=e["default"]},"hover.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../../../processing/dom/internal-attributes"),u=o(l),c=n("../base"),p=o(c),d=n("../native-methods"),f=o(d),h=n("../../utils/dom"),m=r(h),y=function(e){function t(n){i(this,t);var r=s(this,e.call(this));return r.listeners=n,r.hoverElementFixed=!1,r.lastHoveredElement=null,r}return a(t,e),t._setHoverMarker=function(e,t){for(t&&f["default"].setAttribute.call(t,u["default"].hoverPseudoClass,"");e&&e.tagName&&e!==t;)f["default"].setAttribute.call(e,u["default"].hoverPseudoClass,""),e=e.parentNode},t.prototype._clearHoverMarkerUntilJointParent=function(e){var t=null;if(this.lastHoveredElement){for(var n=this.lastHoveredElement;n&&n.tagName&&n.contains;){if(n.contains(e)){t=n;break}f["default"].removeAttribute.call(n,u["default"].hoverPseudoClass),n=n.parentNode}t&&f["default"].removeAttribute.call(t,u["default"].hoverPseudoClass)}return t},t.prototype._hover=function(e){if(!this.hoverElementFixed&&!m.isShadowUIElement(e)){var n=this._clearHoverMarkerUntilJointParent(e);t._setHoverMarker(e,n),this.lastHoveredElement=e}},t.prototype.fixHoveredElement=function(){this.hoverElementFixed=!0},t.prototype.freeHoveredElement=function(){this.hoverElementFixed=!1},t.prototype.attach=function(t){var n=this;e.prototype.attach.call(this,t),this.listeners.addInternalEventListener(t,["mouseover","touchstart"],function(e){return n._hover(e.target)})},t}(p["default"]);e["default"]=y,t.exports=e["default"]},"index.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("./focus-blur"),u=o(l),c=n("./hover"),p=o(c),d=n("./listeners"),f=o(d),h=n("./selection"),m=o(h),y=n("../base"),v=o(y),g=n("../../utils/extend"),E=o(g),b=n("../native-methods"),_=o(b),S=n("../../utils/dom"),w=r(S),x=n("../../utils/event"),T=function(e){function t(n,r,o,a,l,c,d){i(this,t);var f=s(this,e.call(this));return f.EVENT_ATTACHED_EVENT="hammerhead|event|event-attached",f.EVENT_DETACHED_EVENT="hammerhead|event|event-detached",f.EVENT_PREVENTED_EVENT="hammerhead|event|event-prevented",f.listeners=n,f.eventSimulator=r,f.elementEditingWatcher=o,f.unload=a,f.timers=d,f.eventSimulator=r,f.focusBlur=new u["default"](n,r,l,c,d,o),f.selection=new m["default"](f),f.hover=new p["default"](n),f.shadowUI=c,f.message=l,f.overridedMethods=null,f.onFocus=null,f.cancelInternalEvents=null,f._createOverridedMethods(),f._createInternalHandlers(),f}return a(t,e),t.prototype._createOverridedMethods=function(){var e=this.selection,t=this.focusBlur,n=this.eventSimulator,r=this;this.overridedMethods={dispatchEvent:function(){f["default"].beforeDispatchEvent(this);var e=w.isWindow(this),t=e?_["default"].windowDispatchEvent.apply(this,arguments):_["default"].dispatchEvent.apply(this,arguments);return f["default"].afterDispatchEvent(this),t},fireEvent:function(e,t){var n,r,o="on"===e.substring(0,2)?e.substring(2):e;return f["default"].beforeDispatchEvent(this),t&&t.target||(n=/(^mouse\w+$)|^(dbl)?click$|^contextmenu$/.test(o)?"MouseEvents":/^key\w+$/.test(o)?"Events":/^touch\w+$/.test(o)?"TouchEvent":"Events",t?(t=(0,E["default"])(_["default"].documentCreateEvent.call(document,n),t),t.initEvent(o,void 0!==t.cancelBubble&&t.cancelBubble,!0)):(t=_["default"].documentCreateEvent.call(document,n),t.initEvent(o,!0,!0))),r=_["default"].dispatchEvent.call(this,t),f["default"].afterDispatchEvent(this),r},attachEvent:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]=t[0].substring(2)),_["default"].addEventListener.apply(this,t);var o=t[0],i=t[1];r.emit(r.EVENT_ATTACHED_EVENT,{el:this,listener:i,eventType:o})},detachEvent:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]=t[0].substring(2)),_["default"].removeEventListener.apply(this,t);var o=t[0],i=t[1];r.emit(r.EVENT_DETACHED_EVENT,{el:this,listener:i,eventType:o})},click:function(){f["default"].beforeDispatchEvent(this);var e=n.nativeClick(this,_["default"].click);return f["default"].afterDispatchEvent(this),e},setSelectionRange:function(){return e.setSelectionRangeWrapper.apply(this,arguments)},select:function(){return e.selectWrapper.call(this)},focus:function(){return t.focus(this,null,!1,!1,!0)},blur:function(){return t.blur(this,null,!1,!0)},preventDefault:function(){return r.emit(r.EVENT_PREVENTED_EVENT,this),_["default"].preventDefault.call(this)}}},t.prototype._createInternalHandlers=function(){var e=this.shadowUI,t=this.document,n=this.eventSimulator;this.onFocus=function(n){var r=n.target,o=w.getActiveElement(t);w.isShadowUIElement(r)||w.isShadowUIElement(o)||e.setLastActiveElement(o)},this.cancelInternalEvents=function(e,t,r,o,i){var s=u["default"].getNonBubblesEventType(e.type)||e.type,a=u["default"].getInternalEventFlag(s);e.target[a]&&!e[n.DISPATCHED_EVENT_FLAG]&&i()}},t.prototype.attach=function(t){e.prototype.attach.call(this,t),t.HTMLInputElement.prototype.setSelectionRange=this.overridedMethods.setSelectionRange,t.HTMLTextAreaElement.prototype.setSelectionRange=this.overridedMethods.setSelectionRange,t.Window.prototype.dispatchEvent=this.overridedMethods.dispatchEvent,t.Document.prototype.dispatchEvent=this.overridedMethods.dispatchEvent,t.HTMLElement.prototype.dispatchEvent=this.overridedMethods.dispatchEvent,t.SVGElement.prototype.dispatchEvent=this.overridedMethods.dispatchEvent,t.HTMLElement.prototype.focus=this.overridedMethods.focus,t.HTMLElement.prototype.blur=this.overridedMethods.blur,t.HTMLElement.prototype.click=this.overridedMethods.click,t.Window.focus=this.overridedMethods.focus,t.Window.blur=this.overridedMethods.blur,t.Document.prototype.fireEvent&&(t.Document.prototype.fireEvent=this.overridedMethods.fireEvent,t.Document.prototype.attachEvent=this.overridedMethods.attachEvent,t.Document.prototype.detachEvent=this.overridedMethods.detachEvent,t.HTMLElement.prototype.fireEvent=this.overridedMethods.fireEvent,t.HTMLElement.prototype.attachEvent=this.overridedMethods.attachEvent,t.HTMLElement.prototype.detachEvent=this.overridedMethods.detachEvent),t.TextRange&&t.TextRange.prototype.select&&(t.TextRange.prototype.select=this.overridedMethods.select),t.Event.prototype.preventDefault=this.overridedMethods.preventDefault,this.initDocumentListening(),this.listeners.initElementListening(t,x.DOM_EVENTS.concat(["beforeunload","pagehide","unload","message"])),this.listeners.addInternalEventListener(t,["focus"],this.onFocus),this.listeners.addInternalEventListener(t,["focus","blur","change","focusin","focusout"],this.cancelInternalEvents),this.unload.attach(t),this.message.attach(t),this.timers.attach(t),this.focusBlur.attach(t),this.hover.attach(t)},t.prototype.initDocumentListening=function(){this.listeners.initElementListening(document,x.DOM_EVENTS)},t}(v["default"]);e["default"]=T,t.exports=e["default"]},"listeners.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../../../processing/dom/internal-properties"),u=o(l),c=n("../native-methods"),p=o(c),d=n("../../utils/event-emitter"),f=o(d),h=n("./listening-context"),m=r(h),y=n("../../utils/event"),v=n("../../utils/dom"),g=["click","mousedown","mouseup","dblclick","contextmenu","mousemove","mouseover","mouseout","pointerdown","pointermove","pointerover","pointerout","pointerup","MSPointerDown","MSPointerMove","MSPointerOver","MSPointerOut","MSPointerUp","touchstart","touchmove","touchend","keydown","keypress","keyup","change","focus","blur","focusin","focusout"],E="hammerhead|event-sandbox-dispatch-event-flag",b=function(e){function t(){i(this,t);var n=s(this,e.call(this));return n.EVENT_LISTENER_ATTACHED_EVENT="hammerhead|event|event-listener-attached",n.EVENT_LISTENER_DETACHED_EVENT="hammerhead|event|event-listener-detached",n.listeningCtx=m,n.addInternalEventListener=n.listeningCtx.addInternalHandler,n.addFirstInternalHandler=n.listeningCtx.addFirstInternalHandler,n.removeInternalEventListener=n.listeningCtx.removeInternalHandler,n}return a(t,e),t._getBodyEventListenerWrapper=function(e,t){return function(n){return e.cancelOuterHandlers?null:t.call(this,n)}},t._getNativeAddEventListener=function(e){return(0,v.isWindow)(e)?p["default"].windowAddEventListener:void 0!==e.body?p["default"].documentAddEventListener:p["default"].addEventListener},t._getNativeRemoveEventListener=function(e){return(0,v.isWindow)(e)?p["default"].windowRemoveEventListener:void 0!==e.body?p["default"].documentRemoveEventListener:p["default"].removeEventListener},t._getEventListenerWrapper=function(e,t){return function(n){var r="[object FunctionWrapper]"===t.toString();return r?null:e.cancelOuterHandlers?null:"function"==typeof e.outerHandlersWrapper?e.outerHandlersWrapper.call(this,n,t):(0,y.isObjectEventListener)(t)?t.handleEvent.call(t,n):t.call(this,n)}},t._isDifferentHandler=function(e,t,n){for(var r=0,o=e.length;r<o;r++)if(e[r].fn===t&&e[r].useCapture===n)return!1;return!0},t.prototype._createEventHandler=function(){var e=this;return function(t){var n=this,r=n[u["default"].processedContext]||window,o=!1,i=!1,s=!1,a=e.listeningCtx.getEventCtx(n,t.type);if(a){var l=a.internalHandlers;a.cancelOuterHandlers=!1;for(var c=function(){o=!0,(0,y.preventDefault)(t)},p=function(){i||(a.cancelOuterHandlers=!0),i=!0},d=function(){s=!0,(0,y.stopPropagation)(t)},f=0;f<l.length&&(l[f].call(n,t,r[E],c,p,d),!o&&!s);f++);}}},t.prototype._createElementOverridedMethods=function(e){var n=this;return{addEventListener:function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];var s=o[0],a=o[1],l=o[2],u=m.getEventCtx(e,s),c=t._getNativeAddEventListener(e);if(!u)return c.apply(e,o);var p=t._isDifferentHandler(u.outerHandlers,a,l);if(!p)return null;var d=t._getEventListenerWrapper(u,a);m.wrapEventListener(u,a,d,l),o[1]=d;var f=c.apply(e,o);return n.emit(n.EVENT_LISTENER_ATTACHED_EVENT,{el:e,listener:a,eventType:s}),f},removeEventListener:function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];var s=o[0],a=o[1],l=o[2],u=t._getNativeRemoveEventListener(e),c=m.getEventCtx(e,s);if(!c)return u.apply(e,o);o[1]=m.getWrapper(c,a,l);var p=u.apply(e,o);return n.emit(n.EVENT_LISTENER_DETACHED_EVENT,{el:e,listener:a,eventType:s}),p}}},t.prototype._createDocumentBodyOverridedMethods=function(e){var n=this,r=function(){return e.body.addEventListener}(),o=function(){return e.body.removeEventListener}();return{addEventListener:function(o,i,s){var a=m.getEventCtx(e,o),l=m.getEventCtx(this,o);if(!a)return r.call(this,o,i,s);var u=t._isDifferentHandler(l.outerHandlers,i,s);if(!u)return null;var c=t._getBodyEventListenerWrapper(a,i);m.wrapEventListener(l,i,c,s);var p=r.call(this,o,c,s);return n.emit(n.EVENT_LISTENER_ATTACHED_EVENT,{el:this,eventType:o,listener:i}),p},removeEventListener:function(e,t,n){var r=m.getEventCtx(this,e);return r?o.call(this,e,m.getWrapper(r,t,n),n):o.call(this,e,t,n)}}},t.prototype.initElementListening=function(e,n){var r=t._getNativeAddEventListener(e);n=n||g,this.listeningCtx.addListeningElement(e,n);for(var o=0;o<n.length;o++)r.call(e,n[o],this._createEventHandler(),!0);var i=this._createElementOverridedMethods(e);e.addEventListener=i.addEventListener,e.removeEventListener=i.removeEventListener},t.prototype.initDocumentBodyListening=function(e){m.addListeningElement(e.body,y.DOM_EVENTS);var t=this._createDocumentBodyOverridedMethods(e);e.body.addEventListener=t.addEventListener,e.body.removeEventListener=t.removeEventListener},t.prototype.restartElementListening=function(e){var n=t._getNativeAddEventListener(e),r=this.listeningCtx.getElementCtx(e);if(r)for(var o=Object.keys(r),i=0,s=o.length;i<s;i++)n.call(e,o[i],this._createEventHandler(),!0)},t.prototype.cancelElementListening=function(e){this.listeningCtx.removeListeningElement(e),e.body&&this.listeningCtx.removeListeningElement(e.body)},t.beforeDispatchEvent=function(e){var t=e[u["default"].processedContext]||window;t[E]=(t[E]||0)+1},t.afterDispatchEvent=function(e){var t=e[u["default"].processedContext]||window;t[E]--,t[E]||delete t[E]},t.prototype.setEventListenerWrapper=function(e,t,n){this.listeningCtx.isElementListening(e)||this.initElementListening(e,t);for(var r=0;r<t.length;r++){var o=this.listeningCtx.getEventCtx(e,t[r]);o.outerHandlersWrapper=n}},t}(f["default"]);e["default"]=b,t.exports=e["default"]},"listening-context.js":function(e,t,n){function r(e){return e[h]}function o(e,t){t=f.isIE&&f.version>10&&/MSPointer/.test(t)?t.replace("MS","").toLowerCase():t;var n=r(e);return n&&n[t]}function i(e){return!!e[h]}function s(e,t){for(var n=r(e)||{},o=0;o<t.length;o++)n[t[o]]||(n[t[o]]={internalHandlers:[],outerHandlers:[],outerHandlersWrapper:null,wrappers:[],cancelOuterHandlers:!1});i(e)||(e[h]=n)}function a(e){delete e[h]}function l(e,t,n){for(var o=r(e),i=0;i<t.length;i++)o[t[i]].internalHandlers.unshift(n)}function u(e,t,n){for(var o=r(e),i=0;i<t.length;i++)o[t[i]].internalHandlers.push(n)}function c(e,t,n){for(var o=r(e),i=0;i<t.length;i++){var s=o[t[i]].internalHandlers,a=s.indexOf(n);a>-1&&s.splice(a,1)}}function p(e,t,n,r){e.outerHandlers.push({fn:t,useCapture:r||!1}),e.wrappers.push(n)}function d(e,t,n){for(var r=e.outerHandlers,o=e.wrappers,i=null,s=0;s<r.length;s++){var a=r[s];if(a.fn===t&&(a.useCapture||!1)===(n||!1))return i=o[s],o.splice(s,1),r.splice(s,1),i}return null}e.__esModule=!0,e.getElementCtx=r,e.getEventCtx=o,e.isElementListening=i,e.addListeningElement=s,e.removeListeningElement=a,e.addFirstInternalHandler=l,e.addInternalHandler=u,e.removeInternalHandler=c,e.wrapEventListener=p,e.getWrapper=d;var f=n("../../utils/browser"),h="hammerhead|element-listening-events-storage-prop"},"message.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("pinkie"),u=o(l),c=n("../base"),p=o(c),d=n("../native-methods"),f=o(d),h=n("../../utils/destination-location"),m=r(h),y=n("../../utils/url"),v=n("../../json"),g=n("../../utils/browser"),E=n("../../utils/dom"),b=n("../../utils/event"),_=n("../../utils/fast-apply"),S=o(_),w=n("../../utils/fn-bind"),x=o(w),T={service:"hammerhead|service-msg",user:"hammerhead|user-msg"},C=function(e){function t(n,r){i(this,t);var o=s(this,e.call(this));return o.PING_DELAY=200,o.PING_IFRAME_TIMEOUT=7e3,o.PING_IFRAME_MIN_TIMEOUT=100,o.SERVICE_MSG_RECEIVED_EVENT="hammerhead|event|service-msg-received",o.RECEIVE_MSG_FN="hammerhead|receive-msg-function",o.pingCallback=null,o.pingCmd=null,o.topWindow=null,o.window=null,o.listeners=n,o.unloadSandbox=r,o.storedOnMessageHandler=null,o.isWindowUnloaded=!1,o.iframeInternalMsgQueue=[],o}return a(t,e),t.prototype._onMessage=function(e){var t="string"==typeof e.data?(0,v.parse)(e.data):e.data;t.type===T.service&&e.source&&(this.pingCmd&&t.message.cmd===this.pingCmd&&t.message.isPingResponse?(this.pingCallback(),this.pingCallback=null,this.pingCmd=null):this.emit(this.SERVICE_MSG_RECEIVED_EVENT,{message:t.message,source:e.source}))},t.prototype._onWindowMessage=function(e,t){var n={};for(var r in e)n[r]="function"==typeof e[r]?(0,x["default"])(e[r],e):e[r];var o="string"==typeof e.data?(0,v.parse)(e.data):e.data;if(o.type!==T.service){var i=m.get();if("*"===o.targetUrl||m.sameOriginCheck(i,o.targetUrl)){n.origin=o.originUrl;var s="string"!=typeof o.message&&(g.isIE9||o.isStringMessage);return n.data=s?(0,v.stringify)(o.message):o.message,(0,b.isObjectEventListener)(t)?t.handleEvent.call(t,n):t.call(this.window,n)}}return null},t._wrapMessage=function(e,t,n){var r=m.getParsed(),o=(0,y.formatUrl)({protocol:r.protocol,host:r.host}),i={isStringMessage:"string"==typeof t,message:t,originUrl:o,targetUrl:n,type:e};return g.isIE9?(0,v.stringify)(i):i},t.prototype._removeInternalMsgFromQueue=function(e){for(var t=0,n=this.iframeInternalMsgQueue.length;t<n;t++)if(this.iframeInternalMsgQueue[t].sendFunc===e)return this.iframeInternalMsgQueue.splice(t,1),!0;return!1},t.prototype.attach=function(t){var n=this;e.prototype.attach.call(this,t),this.topWindow=t.top,this.isWindowUnloaded=!1,this.unloadSandbox.on(this.unloadSandbox.UNLOAD_EVENT,function(){for(n.isWindowUnloaded=!0;n.iframeInternalMsgQueue.length;){var e=n.iframeInternalMsgQueue[0];f["default"].clearTimeout.call(n.window,e.timeoutId),e.sendFunc()}});var r=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,S["default"])(n,"_onMessage",t)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,S["default"])(n,"_onWindowMessage",t)};this.listeners.addInternalEventListener(t,["message"],r),this.listeners.setEventListenerWrapper(t,["message"],o),Object.defineProperty(t,this.RECEIVE_MSG_FN,{value:r,configurable:!0})},t.prototype.setOnMessage=function(e,t){var n=this;"function"==typeof t?(this.storedOnMessageHandler=t,e.onmessage=function(e){return n._onWindowMessage(e,t)}):(this.storedOnMessageHandler=null,e.onmessage=null)},t.prototype.getOnMessage=function(){return this.storedOnMessageHandler},t.prototype.postMessage=function(e,n){var r=n[1];return(0,E.isCrossDomainWindows)(this.window,e)?n[1]=(0,y.getCrossDomainProxyUrl)():(0,y.isSupportedProtocol)(e.location.toString())&&(0,y.isSupportedProtocol)(this.window.location.toString())?n[1]=(0,y.formatUrl)({protocol:this.window.location.protocol,host:this.window.location.host}):n[1]="*",n[0]=t._wrapMessage(T.user,n[0],r),isIframeWithoutSrc?(this.window.tc_cw_375fb9e7=e,this.window.tc_a_375fb9e7=n,this.window.eval("this.window.tc_cw_375fb9e7.postMessage(this.window.tc_a_375fb9e7[0], this.window.tc_a_375fb9e7[1]); delete this.window.tc_cw_375fb9e7; delete this.window.tc_a_375fb9e7")):e.postMessage(n[0],n[1])},t.prototype.sendServiceMsg=function(e,n){var r=this,o=t._wrapMessage(T.service,e),i=function(){return!(0,E.isCrossDomainWindows)(n,r.window)&&n[r.RECEIVE_MSG_FN]};if(i()){var s=function u(e){if(e||r._removeInternalMsgFromQueue(u))try{n[r.RECEIVE_MSG_FN]({data:(0,v.parse)((0,v.stringify)(o)),source:r.window})}catch(t){}};if(this.isWindowUnloaded)s(!0);else{var a=(0,E.getTopSameDomainWindow)(this.window),l=f["default"].setTimeout.call(a,s,10);this.iframeInternalMsgQueue.push({timeoutId:l,sendFunc:s})}return null}return n.postMessage(o,"*")},t.prototype.pingIframe=function(e,t,n){var r=this;return new u["default"](function(o,i){var s=null,a=null,l=null,u=function(){e.contentWindow&&(l=e.contentWindow,r.sendServiceMsg({cmd:r.pingCmd,isPingRequest:!0},l))},c=function(){f["default"].clearInterval.call(r.window,s),f["default"].clearTimeout.call(r.window,a),r.pingCallback=null,r.pingCmd=null,s=null,a=null};a=f["default"].setTimeout.call(r.window,function(){c(),i()},n?r.PING_IFRAME_MIN_TIMEOUT:r.PING_IFRAME_TIMEOUT),r.pingCallback=function(){c(),o()},r.pingCmd=t,u(),s=f["default"].setInterval.call(r.window,u,r.PING_DELAY)})},t}(p["default"]);e["default"]=C,t.exports=e["default"]},"selection.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=n("./focus-blur"),a=o(s),l=n("./listeners"),u=o(l),c=n("../native-methods"),p=o(c),d=n("../../utils/browser"),f=r(d),h=n("../../utils/dom"),m=r(h),y=n("../../../processing/dom/internal-properties"),v=o(y),g=f.isFirefox&&f.version>50,E=function(){
function e(t){i(this,e),this.focusBlurSandbox=t.focusBlur,this.timersSandbox=t.timers,this.listeners=t.listeners,this.eventSimulator=t.eventSimulator;var n=this,r=this.eventSimulator,o=this.listeners,s=this.timersSandbox;this.setSelectionRangeWrapper=function(){var t=arguments[0],o=arguments[1],i=arguments[2]||"none",s=this,a=m.isTextAreaElement(s)?p["default"].textAreaSetSelectionRange:p["default"].setSelectionRange,l=m.getActiveElement(m.findDocument(s)),u=!1,c=function(){var l,c=e._needChangeInputType(s),p=e._needForInternalSelection(s),d=s.type;c&&(s.type="text");try{l=a.call(s,t,o,i)}catch(h){l=a.call(s,0,0,i)}return p&&(s[v["default"].selectionProperty]={selectionStart:s.selectionStart,selectionEnd:s.selectionEnd,selectionDirection:s.selectionDirection}),c&&(s.type=d,u&&(n.focusBlurSandbox.blur(s,null,!0),n.focusBlurSandbox.focus(s,null,!0))),f.isIE&&f.version>11&&r.selectionchange(s),l};return l===s?(u=!0,c()):n.wrapSetterSelection(s,c,f.isIE&&f.version<12)},this.selectWrapper=function(){var e=this.parentElement();if(!e||m.getActiveElement(m.findDocument(e))===e)return p["default"].select.call(this);var t=null,n=!1,i=function(t){t.target!==e&&"none"!==e.style.display||(n=!0)};return o.addInternalEventListener(document,["focus"],i),t=p["default"].select.call(this),s.setTimeout.call(window,function(){s.setTimeout.call(window,function(){o.removeInternalEventListener(document,["focus"],i),n||r.focus(e)},0)},0),t}}return e._isNumberOrEmailInput=function(e){return m.isInputElement(e)&&/^(number|email)$/.test(e.type)},e._needChangeInputType=function(t){return(f.isWebKit||g)&&e._isNumberOrEmailInput(t)},e._needForInternalSelection=function(t){return e._isNumberOrEmailInput(t)&&g},e.prototype.setSelection=function(e,t,n,r){e.setSelectionRange?e.setSelectionRange(t,n,r):(e.selectionStart=t,e.selectionEnd=n)},e.prototype.getSelection=function(t){var n=e._needChangeInputType(t),r=m.getActiveElement(m.findDocument(t)),o=r===t,i=t.type,s=null;n&&(!g&&o&&this.focusBlurSandbox.blur(t,null,!0),t.type="text");var a=t[v["default"].selectionProperty];return s={start:a?a.selectionStart:t.selectionStart,end:a?a.selectionEnd:t.selectionEnd,direction:a?a.selectionDirection:t.selectionDirection},n&&(t.type=i,o&&this.focusBlurSandbox.focus(t,null,!0)),s},e.prototype.wrapSetterSelection=function(e,t,n,r){var o=this,i=m.findDocument(e),s=null,l=null,c=!1,p=function(t){t.target!==e&&"none"!==e.style.display||(c=!0)};return n&&this.listeners.addInternalEventListener(document,["focus"],p),u["default"].beforeDispatchEvent(e),u["default"].beforeDispatchEvent(e),l=t(),u["default"].afterDispatchEvent(e),u["default"].afterDispatchEvent(e),n&&(s=m.getActiveElement(i),f.isWebKit&&s!==e&&(c&&(e[a["default"].getInternalEventFlag("focus")]=!0),e.focus()),f.isIE&&f.version<12?this.timersSandbox.setTimeout.call(window,function(){o.timersSandbox.setTimeout.call(window,function(){o.listeners.removeInternalEventListener(document,["focus"],p),c||o.eventSimulator.focus(e)},0)},0):(this.listeners.removeInternalEventListener(document,["focus"],p),c||(r&&f.isFirefox?this.focusBlurSandbox.focus(e,null,!0,!1,!0):this.eventSimulator.focus(e)))),l},e}();e["default"]=E,t.exports=e["default"]},"simulator.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=n("../../../processing/dom/internal-properties"),a=o(s),l=n("../../utils/extend"),u=o(l),c=n("../native-methods"),p=o(c),d=n("../../utils/browser"),f=r(d),h=n("../../utils/dom"),m=r(h),y=n("../../utils/event"),v=r(y),g=n("../../utils/position"),E=n("../../utils/style"),b={0:1,1:4,2:2},_=25,S=.5,w={noButton:-1,leftButton:0,rightButton:2},x=/^key\w+$/,T=/^((mouse\w+)|((dbl)?click)|(contextmenu))$/,C=/^touch\w+$/,A=/^MSPointer(Down|Up|Move|Over|Out)$/,I=/^focus(in|out)$/,N=function(){function e(){i(this,e),this.DISPATCHED_EVENT_FLAG="hammerhead|dispatched-event",this.touchIdentifier=p["default"].dateNow(),this.savedWindowEvents=[],this.savedNativeClickCount=0}return e._dispatchStorageEvent=function(e,t){var n=p["default"].documentCreateEvent.call(document,"StorageEvent");return n.initStorageEvent("storage",t.canBubble,t.cancelable,t.key,t.oldValue,t.newValue,t.url,null),Object.defineProperty(n,"storageArea",{get:function(){return t.storageArea},configurable:!0}),null===t.key&&Object.defineProperty(n,"key",{get:function(){return null},configurable:!0}),e.dispatchEvent(n)},e._dispatchTouchEvent=function(e,t){var n=p["default"].documentCreateEvent.call(document,"TouchEvent");return n.initTouchEvent?f.isIOS?n.initTouchEvent(t.type,t.canBubble,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.pageX,t.pageY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.touches,t.targetTouches,t.changedTouches,void 0===t.scale?1:t.scale,void 0===t.rotation?0:t.rotation):12===n.initTouchEvent.length?n.initTouchEvent(t.type,t.canBubble,t.cancelable,t.view,t.detail,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.touches,t.targetTouches,t.changedTouches):n.initTouchEvent(t.touches,t.targetTouches,t.changedTouches,t.type,t.view,t.screenX,t.screenY,t.pageX-t.view.pageXOffset,t.pageY-t.view.pageYOffset,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey):n=new p["default"].WindowTouchEvent(t.type,{touches:t.touches,targetTouches:t.targetTouches,changedTouches:t.changedTouches,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,bubbles:t.canBubble,cancelable:t.cancelable,cancelBubble:!1,defaultPrevented:!1,detail:t.detail,view:t.view}),e.dispatchEvent(n)},e._getUIEventArgs=function(e,t){var n=t||{};return{type:e,canBubble:n.canBubble!==!1,cancelable:n.cancelable!==!1,view:n.view||window,detail:n.detail||0,ctrlKey:n.ctrlKey||!1,altKey:n.altKey||!1,shiftKey:n.shiftKey||!1,metaKey:n.metaKey||!1}},e._getStorageEventArgs=function(e){var t=e||{};return(0,u["default"])(t,{canBubble:t.canBubble!==!1,cancelable:t.cancelable!==!1})},e._getMouseEventArgs=function(t,n){var r=n||{};return(0,u["default"])(e._getUIEventArgs(t,n),{screenX:r.screenX||0,screenY:r.screenY||0,clientX:r.clientX||0,clientY:r.clientY||0,button:void 0===r.button?v.BUTTON.left:r.button,buttons:void 0===r.buttons?v.BUTTONS_PARAMETER.leftButton:r.buttons,relatedTarget:r.relatedTarget||null,which:void 0===r.which?v.WHICH_PARAMETER.leftButton:r.which})},e._getKeyEventArgs=function(t,n){var r={keyCode:n.keyCode||0,charCode:n.charCode||0,which:"press"===t?n.charCode:n.keyCode};return"keyIdentifier"in n&&(r.keyIdentifier=n.keyIdentifier),"key"in n&&(r.key=n.key),(0,u["default"])(e._getUIEventArgs(t,n),r)},e._getModifiersAsString=function(e){var t="";for(var n in v.KEYBOARD_MODIFIERS_PARAMETER)v.KEYBOARD_MODIFIERS_PARAMETER.hasOwnProperty(n)&&e[n]&&(t+=v.KEYBOARD_MODIFIERS_PARAMETER[n]+" ");return t},e.prototype._simulateEvent=function(t,n,r,o){var i=this,s=null,a=null,l="click"===n&&m.isAnchorElement(t),c=(0,u["default"])(r?{clientX:r.clientX,clientY:r.clientY,altKey:!l&&r.alt,shiftKey:!l&&r.shift,ctrlKey:!l&&r.ctrl,metaKey:r.meta,button:r.button,which:r.which,buttons:r.buttons,relatedTarget:r.relatedTarget}:{},o||{});return c.relatedTarget||(c.relatedTarget=document.body),"storage"===n?(c=(0,u["default"])(c,r),s=e._getStorageEventArgs(c),a=e._dispatchStorageEvent):T.test(n)?(r&&void 0!==r.button&&(c=(0,u["default"])(c,{button:r.button})),s=e._getMouseEventArgs(n,c),a=function(e,t){return i._dispatchMouseEvent(e,t)}):x.test(n)?(!r||void 0===r.keyCode&&void 0===r.charCode||(c=(0,u["default"])(c,{key:r.key||void 0,keyCode:r.keyCode||0,charCode:r.charCode||0}),"keyIdentifier"in r&&(c.keyIdentifier=r.keyIdentifier),"key"in r&&(c.key=r.key)),s=e._getKeyEventArgs(n,c),a=function(e,t){return i._dispatchKeyEvent(e,t)}):C.test(n)&&(s=this._getTouchEventArgs(n,(0,u["default"])(c,{target:t})),a=e._dispatchTouchEvent),a(t,s)},e.prototype._getTouchEventArgs=function(t,n){var r=n||{},o=(0,u["default"])(e._getUIEventArgs(t,r),{screenX:r.screenX||0,screenY:r.screenY||0,clientX:r.clientX||0,clientY:r.clientY||0,pageX:r.clientX||0,pageY:r.clientY||0,identifier:this._getTouchIdentifier(t)});return p["default"].documentCreateTouch?f.isIOS?o.touch=p["default"].documentCreateTouch.call(document,o.view,n.target,o.identifier,o.clientX,o.clientY,0,0):o.touch=p["default"].documentCreateTouch.call(document,o.view,n.target,o.identifier,o.pageX,o.pageY,o.screenX,o.screenY,o.clientX,o.clientY,null,null,void 0===o.rotation?0:o.rotation):o.touch=new p["default"].WindowTouch({identifier:o.identifier,target:n.target,clientX:o.clientX,clientY:o.clientY,pageX:o.pageX,pageY:o.pageY,screenX:o.screenX,screenY:o.screenY,rotationAngle:0,radiusX:_,radiusY:_,force:S}),p["default"].documentCreateTouchList&&(o.changedTouches=p["default"].documentCreateTouchList.call(document,o.touch),o.touches="touchend"===o.type?p["default"].documentCreateTouchList.call(document):o.changedTouches,o.targetTouches=o.touches),o},e.prototype._getTouchIdentifier=function(e){return"touchstart"===e&&this.touchIdentifier++,this.touchIdentifier},e.prototype._raiseNativeClick=function(e,t){var n=this,r=m.isElementInIframe(e)?m.getIframeByElement(e).contentWindow:window,o=r.event;f.isIE&&f.version<=11&&delete r.event,t.call(e),f.isIE&&f.version<11&&(this.savedNativeClickCount--&&this.savedWindowEvents.shift(),this.savedWindowEvents.length&&Object.defineProperty(r,"event",{get:function(){return n.savedWindowEvents[0]},configurable:!0})),f.isIE11&&o&&Object.defineProperty(r,"event",{get:function(){return o},configurable:!0})},e.prototype._dispatchKeyEvent=function(t,n){var r=null,o=!f.isIE||f.version>11;if(o&&p["default"].WindowKeyboardEvent){var i={bubbles:n.canBubble,cancelable:n.cancelable,cancelBubble:!1,defaultPrevented:!1,view:n.view,detail:n.detail,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,metaKey:n.metaKey,keyCode:n.keyCode,charCode:n.charCode,which:n.which};"keyIdentifier"in n&&(i.keyIdentifier=n.keyIdentifier),"key"in n&&(i.key=n.key),r=new p["default"].WindowKeyboardEvent(n.type,i)}else p["default"].documentCreateEvent&&(r=p["default"].documentCreateEvent.call(document,"KeyboardEvent"),r.initKeyboardEvent(n.type,n.canBubble,n.cancelable,n.view,"",0,e._getModifiersAsString(n),!1,""));if(r){Object.defineProperty(r,"keyCode",{configurable:!0,enumerable:!0,get:function(){return n.keyCode}}),Object.defineProperty(r,"charCode",{configurable:!0,enumerable:!0,get:function(){return n.charCode}}),Object.defineProperty(r,"which",{configurable:!0,enumerable:!0,get:function(){return n.which}}),"key"in n&&Object.defineProperty(r,"key",{configurable:!0,enumerable:!0,get:function(){return n.key}}),"keyIdentifier"in n&&Object.defineProperty(r,"keyIdentifier",{configurable:!0,enumerable:!0,get:function(){return n.keyIdentifier}});var s=!1,a=!0;o&&Object.defineProperty(r,"preventDefault",{get:function(){return function(){return s=!0,!1}},set:function(){}}),f.isMSEdge&&Object.defineProperty(r,"returnValue",{get:function(){return a},set:function(e){e===!1&&r.preventDefault(),a=e}});var l=this._raiseDispatchEvent(t,r,n);return f.isMSEdge?a&&!s:f.isIE?l:!s}return null},e.prototype._dispatchPointerEvent=function(e,t){var n=null,r=(0,g.getOffsetPosition)(e),o=(0,E.getBordersWidth)(e),i=(0,g.offsetToClientCoords)({x:r.left+o.left,y:r.top+o.top}),s=t.type.replace("mouse",""),a=f.isIE10?"MSPointer"+s.charAt(0).toUpperCase()+s.substring(1):"pointer"+s,l=(0,u["default"])({width:f.isIE10?0:1,height:f.isIE10?0:1,pressure:0,tiltX:0,tiltY:0,pointerId:1,pointerType:f.isIE10?4:"mouse",timeStamp:p["default"].dateNow(),isPrimary:!0},t);l.type=a,l.offsetX=t.clientX-i.x,l.offsetY=t.clientY-i.y,l.button=t.buttons===v.BUTTONS_PARAMETER.noButton?w.noButton:l.button,f.isIE?(l.rotation=0,n=p["default"].documentCreateEvent.call(document,f.isIE10?"MSPointerEvent":"PointerEvent"),n.initPointerEvent(l.type,l.canBubble,l.cancelable,window,l.detail,l.screenX,l.screenY,l.clientX,l.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,null,l.offsetX,l.offsetY,l.width,l.height,l.pressure,l.rotation,l.tiltX,l.tiltY,l.pointerId,l.pointerType,l.timeStamp,l.isPrimary),Object.defineProperty(n,"target",{get:function(){return e},configurable:!0}),Object.defineProperty(n,"relatedTarget",{get:function(){return t.relatedTarget},configurable:!0}),Object.defineProperty(n,"buttons",{get:function(){return t.buttons}})):(l.bubbles=!0,l.cancelable=!0,n=new p["default"].WindowPointerEvent(a,l)),this._raiseDispatchEvent(e,n,l)},e.prototype._dispatchMouseEvent=function(e,t){var n=null,r=/mouse(down|up|move|over|out)/;if(f.isIE&&("click"===t.type||"mouseup"===t.type||"mousedown"===t.type)){var o=m.closest(e.parentNode,"button");e.parentNode&&o&&"submit"===p["default"].getAttribute.call(o,"type")&&(e=o)}if(v.hasPointerEvents&&r.test(t.type)&&this._dispatchPointerEvent(e,t),n=p["default"].documentCreateEvent.call(document,"MouseEvents"),n.initMouseEvent(t.type,t.canBubble,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),(f.isFirefox||f.isIE)&&Object.defineProperty(n,"buttons",{get:function(){return t.buttons}}),void 0!==t.which&&f.isWebKit&&Object.defineProperty(n,a["default"].whichPropertyWrapper,{get:function(){return t.which}}),f.isIE9){var i=m.findDocument(e),s=(0,E.getElementScroll)(i);Object.defineProperty(n,"pageX",{get:function(){return n.clientX+s.left}}),Object.defineProperty(n,"pageY",{get:function(){return n.clientY+s.top}})}return this._raiseDispatchEvent(e,n,t)},e.prototype._dispatchFocusEvent=function(e,t){var n=!f.isIE||f.version>11,r=null,o=I.test(t);return n&&p["default"].WindowFocusEvent?r=new p["default"].WindowFocusEvent(t,{bubbles:o,cancelable:!1,cancelBubble:!1,defaultPrevented:!1}):p["default"].documentCreateEvent&&(r=p["default"].documentCreateEvent.call(document,"FocusEvent"),r.initEvent(t,o,!0)),r?(r[this.DISPATCHED_EVENT_FLAG]=!0,this._raiseDispatchEvent(e,r)):null},e.prototype._dispatchEvent=function(e,t,n,r){var o=null;return p["default"].documentCreateEvent&&(o=p["default"].documentCreateEvent.call(document,"Events"),o.initEvent(t,n,!0)),o?(r&&(o[r]=!0),this._raiseDispatchEvent(e,o)):null},e.prototype._raiseDispatchEvent=function(e,t,n){var r=this;if(f.isIE){var o=m.isElementInIframe(e),i=o?m.getIframeByElement(e):null,s=i?i.contentWindow:window;if(f.version<11){n=n||{type:t.type};var a=!0,l=null,c="on"+(A.test(t.type)?t.type.toLowerCase():t.type),d=e[c],h=n.button;"object"==typeof s.event&&this.savedWindowEvents.length&&s.event!==this.savedWindowEvents[0]&&(this.savedNativeClickCount++,this.savedWindowEvents.unshift(s.event)),delete s.event;var y=function(e){l=s.event||t,r.savedWindowEvents.unshift(l),v.preventDefault(e)};e.parentNode&&(e[c]=y,n.button=b[h],p["default"].fireEvent.call(e,c,(0,u["default"])(m.findDocument(e).createEventObject(),n)),e[c]=d,n.button=h),Object.defineProperty(s,"event",{get:function(){return r.savedWindowEvents[0]},configurable:!0});var g=!1;return l&&(Object.defineProperty(l,"returnValue",{get:function(){return a},set:function(e){e===!1&&t.preventDefault(),a=e},configurable:!0}),Object.defineProperty(l,"cancelBubble",{get:function(){return g},set:function(e){return t.cancelBubble=g=e,e},configurable:!0}),"mouseout"!==l.type&&"mouseover"!==l.type||(Object.defineProperty(l,"fromElement",{get:function(){return"mouseout"===l.type?e:n.relatedTarget},configurable:!0}),Object.defineProperty(l,"toElement",{get:function(){return"mouseover"===l.type?e:n.relatedTarget},configurable:!0}))),a=e.dispatchEvent(t)&&a,l&&l===this.savedWindowEvents[0]&&this.savedWindowEvents.shift(),this.savedWindowEvents.length||delete s.event,a}11===f.version&&i&&Object.defineProperty(i.contentWindow,"event",{get:function(){return window.event},configurable:!0})}var E=e.dispatchEvent(t);return f.isIE11&&delete s.event,E},e.prototype.click=function(e,t){return this._simulateEvent(e,"click",t,{button:v.BUTTON.left,buttons:v.BUTTONS_PARAMETER.leftButton})},e.prototype.nativeClick=function(e,t){this._raiseNativeClick(e,t)},e.prototype.dblclick=function(e,t){return this._simulateEvent(e,"dblclick",t,{button:v.BUTTON.left,buttons:v.BUTTONS_PARAMETER.leftButton})},e.prototype.rightclick=function(e,t){return this._simulateEvent(e,"click",t,{button:v.BUTTON.right,buttons:v.BUTTONS_PARAMETER.rightButton})},e.prototype.contextmenu=function(e,t){return this._simulateEvent(e,"contextmenu",t,{button:v.BUTTON.right,which:v.WHICH_PARAMETER.rightButton,buttons:v.BUTTONS_PARAMETER.rightButton})},e.prototype.mousedown=function(e,t){return t=t||{},t.button=void 0===t.button?v.BUTTON.left:t.button,t.which=void 0===t.which||t.button!==v.BUTTON.right?v.WHICH_PARAMETER.leftButton:v.WHICH_PARAMETER.rightButton,t.buttons=void 0===t.buttons?v.BUTTONS_PARAMETER.leftButton:t.buttons,this._simulateEvent(e,"mousedown",t)},e.prototype.mouseup=function(e,t){return t=t||{},t.button=void 0===t.button?v.BUTTON.left:t.button,t.which=void 0===t.which||t.button!==v.BUTTON.right?v.WHICH_PARAMETER.leftButton:v.WHICH_PARAMETER.rightButton,t.buttons=void 0===t.buttons?v.BUTTONS_PARAMETER.leftButton:t.buttons,this._simulateEvent(e,"mouseup",t)},e.prototype.mouseover=function(e,t){return this._simulateEvent(e,"mouseover",t)},e.prototype.mousemove=function(e,t){return this._simulateEvent(e,"mousemove",t,{cancelable:!1})},e.prototype.mouseout=function(e,t){return this._simulateEvent(e,"mouseout",t)},e.prototype.keypress=function(e,t){return this._simulateEvent(e,"keypress",t)},e.prototype.keyup=function(e,t){return this._simulateEvent(e,"keyup",t)},e.prototype.keydown=function(e,t){return this._simulateEvent(e,"keydown",t)},e.prototype.blur=function(e){return this._dispatchFocusEvent(e,"blur")},e.prototype.focus=function(e){return this._dispatchFocusEvent(e,"focus")},e.prototype.focusin=function(e){return this._dispatchFocusEvent(e,"focusin")},e.prototype.focusout=function(e){return this._dispatchFocusEvent(e,"focusout")},e.prototype.storage=function(e,t){return this._simulateEvent(e,"storage",t)},e.prototype.change=function(e){return this._dispatchEvent(e,"change",!0,this.DISPATCHED_EVENT_FLAG)},e.prototype.input=function(e){return this._dispatchEvent(e,"input",!0)},e.prototype.submit=function(e){return this._dispatchEvent(e,"submit",!0)},e.prototype.selectionchange=function(e){return this._dispatchEvent(e,"selectionchange",!1)},e.prototype.touchstart=function(e,t){return this._simulateEvent(e,"touchstart",t)},e.prototype.touchend=function(e,t){return this._simulateEvent(e,"touchend",t)},e.prototype.touchmove=function(e,t){return this._simulateEvent(e,"touchmove",t)},e.prototype.isSavedWindowsEventsExists=function(){return this.savedWindowEvents&&this.savedWindowEvents.length},e}();e["default"]=N,t.exports=e["default"]},"unload.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../base"),u=o(l),c=n("../native-methods"),p=o(c),d=n("../../utils/create-property-desc.js"),f=o(d),h=n("../../utils/browser"),m=n("../../utils/dom"),y=r(m),v=n("../../../utils/url"),g=function(e){function t(n){i(this,t);var r=s(this,e.call(this));return r.BEFORE_UNLOAD_EVENT="hammerhead|event|before-unload",r.BEFORE_BEFORE_UNLOAD_EVENT="hammerhead|event|before-before-unload",r.UNLOAD_EVENT="hammerhead|event|unload",r.listeners=n,r.isFakeIEBeforeUnloadEvent=!1,r.storedBeforeUnloadReturnValue="",r.prevented=!1,r.storedBeforeUnloadHandler=null,r.beforeUnloadEventName=h.isIOS?"pagehide":"beforeunload",r}return a(t,e),t.prototype._emitBeforeUnloadEvent=function(){this.emit(this.BEFORE_UNLOAD_EVENT,{returnValue:this.storedBeforeUnloadReturnValue,prevented:this.prevented,isFakeIEEvent:this.isFakeIEBeforeUnloadEvent}),this.isFakeIEBeforeUnloadEvent=!1},t.prototype._onBeforeUnloadHandler=function(e,t){var n=this,r=e;!e&&window.event&&window.event.type===this.beforeUnloadEventName&&(r=window.event),r&&(Object.defineProperty(r,"returnValue",(0,f["default"])({get:function(){return n.storedBeforeUnloadReturnValue},set:function(e){n.storedBeforeUnloadReturnValue=e,n.prevented=!h.isFirefox||""!==e}})),Object.defineProperty(r,"preventDefault",(0,f["default"])({get:function(){return function(){return n.prevented=!0,!0}},set:function(){}})));var o=e?t(e):t();void 0!==o&&(this.storedBeforeUnloadReturnValue=o,this.prevented=!0)},t.prototype._onDocumentClick=function(e){y.isAnchorElement(e.target)&&(this.isFakeIEBeforeUnloadEvent=!e.target.href||!v.SUPPORTED_PROTOCOL_RE.test(e.target.href))},t.prototype._reattachBeforeUnloadListener=function(){p["default"].windowRemoveEventListener.call(this.window,this.beforeUnloadEventName,this),p["default"].windowAddEventListener.call(this.window,this.beforeUnloadEventName,this)},t.prototype.attach=function(t){var n=this;e.prototype.attach.call(this,t);var r=t.document,o=this.listeners;o.setEventListenerWrapper(t,[this.beforeUnloadEventName],function(e,t){return n._onBeforeUnloadHandler(e,t)}),o.addInternalEventListener(t,["unload"],function(){return n.emit(n.UNLOAD_EVENT)}),(h.isIE9||h.isIE10)&&p["default"].addEventListener.call(r,"click",this),p["default"].windowAddEventListener.call(t,this.beforeUnloadEventName,this),o.addInternalEventListener(t,[this.beforeUnloadEventName],function(){return n.emit(n.BEFORE_BEFORE_UNLOAD_EVENT,{isFakeIEEvent:n.isFakeIEBeforeUnloadEvent})}),o.on(o.EVENT_LISTENER_ATTACHED_EVENT,function(e){e.el===t&&e.eventType===n.beforeUnloadEventName&&n._reattachBeforeUnloadListener()})},t.prototype.setOnBeforeUnload=function(e,t){var n=this;"function"==typeof t?(this.storedBeforeUnloadHandler=t,e["on"+this.beforeUnloadEventName]=function(e){return n._onBeforeUnloadHandler(e,t)},this._reattachBeforeUnloadListener()):(this.storedBeforeUnloadHandler=null,e["on"+this.beforeUnloadEventName]=null)},t.prototype.getOnBeforeUnload=function(){return this.storedBeforeUnloadHandler},t.prototype.handleEvent=function(e){e.type===this.beforeUnloadEventName?this._emitBeforeUnloadEvent():"click"===e.type&&this._onDocumentClick(e)},t}(u["default"]);e["default"]=g,t.exports=e["default"]}},"fetch.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("./base"),l=r(a),u=n("./native-methods"),c=r(u),p=n("../../request-pipeline/xhr/headers"),d=r(p),f=n("../utils/url"),h=n("../utils/destination-location"),m=n("../utils/dom"),y=n("../../request-pipeline/xhr/same-origin-policy"),v=function(e){function t(){o(this,t);var n=i(this,e.call(this));return n.FETCH_REQUEST_SEND_EVENT="hammerhead|event|fetch-request-send-event",n}return s(t,e),t._processRequestInit=function(e){var t=new c["default"].Request(""),n=e.headers||{},r=e.credentials||t.credentials;return(0,m.isFetchHeaders)(n)?(n.append(d["default"].origin,(0,h.getOriginHeader)()),n.append(d["default"].fetchRequestCredentials,r)):(n[d["default"].origin]=(0,h.getOriginHeader)(),n[d["default"].fetchRequestCredentials]=r),e.headers=n,e},t._processArguments=function(e){var n=e[0],r=e[1]||{};"string"==typeof n&&(e[0]=(0,f.getProxyUrl)(n)),e[1]=t._processRequestInit(r)},t._isValidRequestArgs=function(e){return"string"==typeof e[0]||(0,m.isFetchRequest)(e[0])},t._requestIsValid=function(e){if(!t._isValidRequestArgs(e))return!1;var n=null,r=null;return(0,m.isFetchRequest)(e[0])?(n=(0,f.parseProxyUrl)(e[0].url).destUrl,r=e[0].mode):(n=e[0],r=(e[1]||{}).mode),"same-origin"!==r||(0,h.sameOriginCheck)((0,h.get)(),n,!0)},t._processFetchPromise=function(e){var n=e.then;e.then=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=r[0];return r[0]=function(e){if(500===e.status)throw new TypeError;Object.defineProperty(e,"type",{get:function(){return t._getResponseType(e)},set:function(){},configurable:!0});var n=e.status===y.SAME_ORIGIN_CHECK_FAILED_STATUS_CODE?0:e.status;return Object.defineProperty(e,"status",{get:function(){return n},set:function(){},configurable:!0}),i.apply(this,arguments)},n.apply(this,r)}},t._getResponseType=function(e){var t=(0,f.parseProxyUrl)(e.url),n=t&&t.destUrl,r=(0,h.sameOriginCheck)((0,h.get)(),n,!0);return r?"basic":0===e.status?"opaque":"cors"},t.prototype.attach=function(n){e.prototype.attach.call(this,n,n.document);var r=this;n.fetch&&(n.Request=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t._processArguments(n),1===n.length?new c["default"].Request(n[0]):new c["default"].Request(n[0],n[1])},n.Request.prototype=c["default"].Request.prototype,n.fetch=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];if(!t._requestIsValid(n))return r.window.Promise.reject(new TypeError);t._processArguments(n);var i=c["default"].fetch.apply(this,n);return t._processFetchPromise(i),r.emit(r.FETCH_REQUEST_SEND_EVENT,i),i})},t}(l["default"]);e["default"]=v,t.exports=e["default"]},"iframe.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("../../processing/dom/internal-properties"),l=r(a),u=n("./base"),c=r(u),p=n("../settings"),d=r(p),f=n("../dom-processor"),h=r(f),m=n("../utils/dom"),y=n("../utils/browser"),v=n("../utils/url"),g=n("../utils/html"),E="hammerhead|iframe-window-inited",b=function(e){function t(n,r){o(this,t);var s=i(this,e.call(this));return s.RUN_TASK_SCRIPT="hammerhead|event|run-task-script",s.EVAL_HAMMERHEAD_SCRIPT="hammerhead|event|eval-hammerhead-script",s.EVAL_EXTERNAL_SCRIPT="hammerhead|event|eval-external-script",s.IFRAME_DOCUMENT_CREATED_EVENT="hammerhead|event|iframe-document-created",s.cookieSandbox=r,s.on(s.RUN_TASK_SCRIPT,s.iframeReadyToInitHandler),n.on(n.IFRAME_ADDED_TO_DOM_EVENT,function(e){return s.processIframe(e.iframe)}),s.iframeNativeMethodsBackup=null,s}return s(t,e),t.prototype._shouldSaveIframeNativeMethods=function(e){if(!y.isWebKit)return!1;var t=this.nativeMethods.getAttribute.call(e,"src");if(!h["default"].JAVASCRIPT_PROTOCOL_REG_EX.test(t))return!1;var n=t.replace(h["default"].JAVASCRIPT_PROTOCOL_REG_EX,""),r=n.match(h["default"].HTML_STRING_REG_EX);if(!r)return!1;var o=r[2];return(0,g.isPageHtml)(o)},t.prototype._ensureIframeNativeMethodsForChrome=function(e){!this.iframeNativeMethodsBackup&&this._shouldSaveIframeNativeMethods(e)?this.iframeNativeMethodsBackup=new this.nativeMethods.constructor(e.contentDocument,e.contentWindow):this.iframeNativeMethodsBackup&&(this.iframeNativeMethodsBackup.restoreDocumentMeths(e.contentDocument,e.contentWindow),this.iframeNativeMethodsBackup=null)},t.prototype._ensureIframeNativeMethodsForIE=function(e){var t=e.contentWindow[l["default"].iframeNativeMethods];t&&(t.restoreDocumentMeths(e.contentDocument,e.contentWindow),delete e.contentWindow[l["default"].iframeNativeMethods])},t.prototype._raiseReadyToInitEvent=function(e){if((0,m.isIframeWithoutSrc)(e)){var n=t.isIframeInitialized(e),r=e.contentWindow[E];n&&!r?(this._ensureIframeNativeMethodsForChrome(e),this._ensureIframeNativeMethodsForIE(e),Object.defineProperty(e.contentWindow,E,{value:!0}),this.emit(this.EVAL_HAMMERHEAD_SCRIPT,{iframe:e}),this.emit(this.EVAL_EXTERNAL_SCRIPT,{iframe:e}),this.emit(this.RUN_TASK_SCRIPT,{iframe:e}),e.contentWindow[l["default"].processDomMethodName]()):n||e.contentDocument.write.toString()===this.nativeMethods.documentWrite.toString()&&this.emit(this.IFRAME_DOCUMENT_CREATED_EVENT,{iframe:e})}},t.isIframeInitialized=function(e){var t=y.isFirefox&&"uninitialized"===e.contentWindow.document.readyState;return!t&&!!e.contentDocument.documentElement},t.isWindowInited=function(e){return e[E]},t.prototype.iframeReadyToInitHandler=function(e){var t=d["default"].get().iframeTaskScriptTemplate,n=function(e){return e.replace(/\$/g,"$$$$")},r=JSON.stringify(this.cookieSandbox.getCookie()),o=d["default"].get().referer||this.window.location.toString(),i=JSON.stringify(t),s=t.replace("{{{cookie}}}",n(r)).replace("{{{referer}}}",n(o)).replace("{{{iframeTaskScriptTemplate}}}",n(i));e.iframe.contentWindow.eval.call(e.iframe.contentWindow,s)},t.prototype.onIframeBeganToRun=function(e){this._raiseReadyToInitEvent(e)},t.prototype.processIframe=function(e){var t=this;if(!(0,m.isShadowUIElement)(e)){var n=this.nativeMethods.getAttribute.call(e,"src");if(n&&(0,v.isSupportedProtocol)(n))(0,m.isElementInDocument)(e)&&this._raiseReadyToInitEvent(e),this.nativeMethods.addEventListener.call(e,"load",function(){return t._raiseReadyToInitEvent(e)});else if(e.contentWindow){this._raiseReadyToInitEvent(e);var r=function(){e.contentWindow&&t._raiseReadyToInitEvent(e)};this.nativeMethods.addEventListener.call(e,"load",r),y.isFirefox&&this.nativeMethods.documentAddEventListener.call(e.contentDocument,"ready",r)}else{var o=function i(){(0,m.isCrossDomainIframe)(e)?t.nativeMethods.removeEventListener.call(e,"load",i):t._raiseReadyToInitEvent(e)};(0,m.isElementInDocument)(e)&&this._raiseReadyToInitEvent(e),this.nativeMethods.addEventListener.call(e,"load",o)}!y.isWebKit&&e.contentDocument&&this.nativeMethods.documentAddEventListener.call(e.contentDocument,"DOMContentLoaded",function(){t._raiseReadyToInitEvent(e)})}},t}(c["default"]);e["default"]=b,t.exports=e["default"]},"index.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../../processing/dom/internal-properties"),u=o(l),c=n("./code-instrumentation"),p=o(c),d=n("./cookie"),f=o(d),h=n("./event/element-editing-watcher"),m=o(h),y=n("./event"),v=o(y),g=n("./event/simulator"),E=o(g),b=n("./iframe"),_=o(b),S=n("./event/listeners"),w=o(S),x=n("./event/message"),T=o(x),C=n("./node/mutation"),A=o(C),I=n("./node"),N=o(I),M=n("./base"),P=o(M),O=n("./shadow-ui"),R=o(O),k=n("./timers"),L=o(k),j=n("./event/unload"),D=o(j),U=n("./upload"),F=o(U),B=n("./xhr"),H=o(B),W=n("./fetch"),V=o(W),q=n("./storages"),G=o(q),X=n("./electron"),K=o(X),Y=n("../utils/browser"),$=n("./backup"),z=n("../utils/url-resolver"),Q=o(z),J=n("./windows-storage"),Z=r(J),ee=function(e){
function t(){i(this,t);var n=s(this,e.call(this));(0,$.create)(window,n),Z.add(window);var r=new w["default"],o=new A["default"],a=new D["default"](r),l=new T["default"](r,a),u=new E["default"],c=new m["default"](u),d=new L["default"];return n.storageSandbox=new G["default"](r,a,u),n.cookie=new f["default"],n.xhr=new H["default"](n.cookie),n.fetch=new V["default"],n.iframe=new _["default"](o,n.cookie),n.shadowUI=new R["default"](o,l,n.iframe),n.upload=new F["default"](r,u,n.shadowUI),n.event=new v["default"](r,u,c,a,l,n.shadowUI,d),n.codeInstrumentation=new p["default"](o,n.event,n.cookie,n.upload,n.shadowUI,n.storageSandbox),n.node=new N["default"](o,n.iframe,n.event,n.upload,n.shadowUI),Y.isElectron&&(n.electron=new K["default"]),n.windowStorage=Z,n}return a(t,e),t._canUseSandbox=function(e){try{e.off()}catch(t){return!1}return!0},t.prototype._refreshNativeMethods=function(e,t){var n=this,r=function(e){try{return e()}catch(t){return!0}},o=r(function(){return!t.createElement||n.nativeMethods.createElement.toString()===t.createElement.toString()}),i=r(function(){var e=n.nativeMethods.createElement.call(t,"div");return e.getAttribute.toString()===n.nativeMethods.getAttribute.toString()}),s=r(function(){return n.nativeMethods.setTimeout.call(e,function(){},0),e.XMLHttpRequest.prototype.open.toString()===n.nativeMethods.xhrOpen.toString()});o&&this.nativeMethods.refreshDocumentMeths(t),i&&this.nativeMethods.refreshElementMeths(t),s&&this.nativeMethods.refreshWindowMeths(e)},t.prototype._restoreDocumentMethodsFromProto=function(e){var t=e.constructor.prototype;e.createDocumentFragment=e.createDocumentFragment||t.createDocumentFragment,e.createElement=e.createElement||t.createElement,e.createElementNS=e.createElementNS||t.createElementNS,e.open=e.open||t.open,e.close=e.close||t.close,e.write=e.write||t.write,e.writeln=e.writeln||t.writeln,e.elementFromPoint=e.elementFromPoint||t.elementFromPoint,e.getElementById=e.getElementById||t.getElementById,e.getElementsByClassName=e.getElementsByClassName||t.getElementsByClassName,e.getElementsByName=e.getElementsByName||t.getElementsByName,e.getElementsByTagName=e.getElementsByTagName||t.getElementsByTagName,e.querySelector=e.querySelector||t.querySelector,e.querySelectorAll=e.querySelectorAll||t.querySelectorAll,e.addEventListener=e.addEventListener||t.addEventListener,e.removeEventListener=e.removeEventListener||t.removeEventListener},t.prototype.onIframeDocumentRecreated=function(e){if(e){var n=(0,$.get)(e.contentWindow);n&&t._canUseSandbox(n)?n.reattach(e.contentWindow,e.contentDocument):(e.contentWindow[u["default"].iframeNativeMethods]&&delete e.contentWindow[u["default"].iframeNativeMethods],this.nativeMethods.restoreDocumentMeths(e.contentDocument),this.iframe.onIframeBeganToRun(e))}},t.prototype.reattach=function(e,t){(Y.isIE||Y.isWebKit)&&this._refreshNativeMethods(e,t),Q["default"].init(t),this.event.initDocumentListening(),Y.isWebKit&&e.top===e&&this.event.listeners.restartElementListening(e),this.shadowUI.attach(e),this.codeInstrumentation.attach(e),this.node.doc.attach(e,t),this._restoreDocumentMethodsFromProto(t)},t.prototype.attach=function(t){var n=this;e.prototype.attach.call(this,t),Q["default"].init(this.document),this.iframe.on(this.iframe.EVAL_HAMMERHEAD_SCRIPT,function(e){return initHammerheadClient(e.iframe.contentWindow,!0)}),this.node.mutation.on(this.node.mutation.DOCUMENT_CLEANED_EVENT,function(e){return n.reattach(e.window,e.document)}),this.iframe.attach(t),this.xhr.attach(t),this.fetch.attach(t),this.storageSandbox.attach(t),this.codeInstrumentation.attach(t),this.shadowUI.attach(t),this.event.attach(t),this.node.attach(t),this.upload.attach(t),this.cookie.attach(t),this.electron&&this.electron.attach(t)},t}(P["default"]);e["default"]=ee,t.exports=e["default"]},"native-methods.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function e(t,n){r(this,e),this.refreshDocumentMeths(t),this.refreshElementMeths(t,n),this.refreshWindowMeths(n)}return e.prototype.refreshDocumentMeths=function(e){e=e||document;var t=e.constructor.prototype;this.createDocumentFragment=e.createDocumentFragment||t.createDocumentFragment,this.createElement=e.createElement||t.createElement,this.createElementNS=e.createElementNS||t.createElementNS,this.documentOpen=e.open||t.open,this.documentClose=e.close||t.close,this.documentWrite=e.write||t.write,this.documentWriteLn=e.writeln||t.writeln,this.elementFromPoint=e.elementFromPoint||t.elementFromPoint,this.caretRangeFromPoint=e.caretRangeFromPoint||t.caretRangeFromPoint,this.caretPositionFromPoint=e.caretPositionFromPoint||t.caretPositionFromPoint,this.getElementById=e.getElementById||t.getElementById,this.getElementsByClassName=e.getElementsByClassName||t.getElementsByClassName,this.getElementsByName=e.getElementsByName||t.getElementsByName,this.getElementsByTagName=e.getElementsByTagName||t.getElementsByTagName,this.querySelector=e.querySelector||t.querySelector,this.querySelectorAll=e.querySelectorAll||t.querySelectorAll,this.documentAddEventListener=e.addEventListener||t.addEventListener,this.documentRemoveEventListener=e.removeEventListener||t.removeEventListener,this.documentCreateEvent=e.createEvent||t.createEvent,this.documentCreateTouch=e.createTouch||t.createTouch,this.documentCreateTouchList=e.createTouchList||t.createTouchList},e.prototype.refreshElementMeths=function(e,t){var n=this;t=t||window;var r=function(t){return n.createElement.call(e||document,t)},o=r("div");this.appendChild=o.appendChild,this.replaceChild=o.replaceChild,this.cloneNode=o.cloneNode,this.elementGetElementsByClassName=o.getElementsByClassName,this.elementGetElementsByTagName=o.getElementsByTagName,this.elementQuerySelector=o.querySelector,this.elementQuerySelectorAll=o.querySelectorAll,this.getAttribute=o.getAttribute,this.getAttributeNS=o.getAttributeNS,this.insertAdjacentHTML=o.insertAdjacentHTML,this.insertBefore=o.insertBefore,this.insertCell=r("tr").insertCell,this.insertTableRow=r("table").insertRow,this.insertTBodyRow=r("tbody").insertRow,this.removeAttribute=o.removeAttribute,this.removeAttributeNS=o.removeAttributeNS,this.removeChild=o.removeChild,this.setAttribute=o.setAttribute,this.setAttributeNS=o.setAttributeNS,this.hasAttribute=o.hasAttribute,this.hasAttributeNS=o.hasAttributeNS,this.hasAttributes=o.hasAttributes,this.addEventListener=o.addEventListener,this.removeEventListener=o.removeEventListener,this.blur=o.blur,this.click=o.click,this.dispatchEvent=o.dispatchEvent,this.attachEvent=o.attachEvent,this.detachEvent=o.detachEvent,this.fireEvent=o.fireEvent,this.focus=o.focus,this.select=window.TextRange?r("body").createTextRange().select:null,this.setSelectionRange=r("input").setSelectionRange,this.textAreaSetSelectionRange=r("textarea").setSelectionRange,this.svgFocus=t.SVGElement?t.SVGElement.prototype.focus:this.focus,this.svgBlur=t.SVGElement?t.SVGElement.prototype.blur:this.blur},e.prototype.refreshWindowMeths=function(e){e=e||window;var t=e.constructor.prototype;this.eval=e.eval,this.formSubmit=e.HTMLFormElement.prototype.submit,this.documentFragmentQuerySelector=e.DocumentFragment.prototype.querySelector,this.documentFragmentQuerySelectorAll=e.DocumentFragment.prototype.querySelectorAll,this.preventDefault=e.Event.prototype.preventDefault,e.history&&(this.historyPushState=e.history.pushState,this.historyReplaceState=e.history.replaceState),this.windowDispatchEvent=e.dispatchEvent,this.postMessage=e.postMessage||t.postMessage,this.windowOpen=e.open||t.open,this.setTimeout=e.setTimeout||t.setTimeout,this.setInterval=e.setInterval||t.setInterval,this.clearTimeout=e.clearTimeout||t.clearTimeout,this.clearInterval=e.clearInterval||t.clearInterval,e.navigator.registerProtocolHandler&&(this.registerProtocolHandler=e.navigator.registerProtocolHandler),e.navigator.sendBeacon&&(this.sendBeacon=e.navigator.sendBeacon),this.xhrAbort=e.XMLHttpRequest.prototype.abort,this.xhrOpen=e.XMLHttpRequest.prototype.open,this.xhrSend=e.XMLHttpRequest.prototype.send,this.xhrAddEventListener=e.XMLHttpRequest.prototype.addEventListener,this.xhrRemoveEventListener=e.XMLHttpRequest.prototype.removeEventListener,this.xhrGetResponseHeader=e.XMLHttpRequest.prototype.getResponseHeader,this.xhrGetAllResponseHeaders=e.XMLHttpRequest.prototype.getAllResponseHeaders,this.xhrSetRequestHeader=e.XMLHttpRequest.prototype.setRequestHeader;try{this.registerServiceWorker=e.navigator.serviceWorker.register}catch(n){this.registerServiceWorker=null}if(this.createContextualFragment=e.Range.prototype.createContextualFragment,e.Performance){var r=e.performance,o=e.performance.now||e.Performance.prototype.now;o&&(this.performanceNow=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.apply(r,t)})}this.fetch=e.fetch,this.Request=e.Request,this.Headers=e.Headers,this.windowAddEventListener=e.addEventListener||t.addEventListener,this.windowRemoveEventListener=e.removeEventListener||t.removeEventListener,this.WindowPointerEvent=e.PointerEvent||t.PointerEvent,this.WindowMSPointerEvent=e.MSPointerEvent||t.MSPointerEvent,this.WindowTouch=e.Touch||t.Touch,this.WindowTouchEvent=e.TouchEvent||t.TouchEvent,this.WindowKeyboardEvent=e.KeyboardEvent||t.KeyboardEvent,this.WindowFocusEvent=e.FocusEvent||t.FocusEvent,this.canvasContextDrawImage=e.CanvasRenderingContext2D.prototype.drawImage,e.FormData&&(this.formDataAppend=e.FormData.prototype.append),this.date=e.Date,this.dateNow=e.Date.now,this.objectToString=e.Object.prototype.toString,this.refreshClasses(e)},e.prototype.refreshClasses=function(e){this.windowClass=e.Window,this.documentClass=e.Document,this.locationClass=e.Location,this.styleClass=e.CSSStyleDeclaration||e.CSS2Properties||e.MSStyleCSSProperties,this.styleSheetClass=e.CSSStyleSheet,this.elementClass=e.Element,this.svgElementClass=e.SVGElement,this.Worker=e.Worker,this.Blob=e.Blob,this.XMLHttpRequest=e.XMLHttpRequest,this.Image=e.Image,this.Function=e.Function,this.functionToString=e.Function.toString,this.FontFace=e.FontFace,this.StorageEvent=e.StorageEvent,this.MutationObserver=e.MutationObserver,this.EventSource=e.EventSource},e.prototype.refreshElectronMeths=function(e){return(!this.createScript||this.createScript.toString()===e.createScript.toString())&&(this.createScript=e.createScript,this.runInDebugContext=e.runInDebugContext,this.runInContext=e.runInContext,this.runInNewContext=e.runInNewContext,this.runInThisContext=e.runInThisContext,!0)},e.prototype.restoreDocumentMeths=function(e){e.createDocumentFragment=this.createDocumentFragment,e.createElement=this.createElement,e.createElementNS=this.createElementNS,e.open=this.documentOpen,e.close=this.documentClose,e.write=this.documentWrite,e.writeln=this.documentWriteLn,e.elementFromPoint=this.elementFromPoint,e.caretRangeFromPoint=this.caretRangeFromPoint,e.caretPositionFromPoint=this.caretPositionFromPoint,e.getElementById=this.getElementById,e.getElementsByClassName=this.getElementsByClassName,e.getElementsByName=this.getElementsByName,e.getElementsByTagName=this.getElementsByTagName,e.querySelector=this.querySelector,e.querySelectorAll=this.querySelectorAll,e.addEventListener=this.documentAddEventListener,e.removeEventListener=this.documentRemoveEventListener,e.createEvent=this.documentCreateEvent,e.createTouch=this.documentCreateTouch,e.createTouchList=this.documentCreateTouchList},e}();e["default"]=new o,t.exports=e["default"]},node:{document:{"index.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../../base"),u=o(l),c=n("../../iframe"),p=o(c),d=n("../../native-methods"),f=o(d),h=n("../../../dom-processor"),m=o(h),y=n("../../../utils/url"),v=r(y),g=n("../../../utils/browser"),E=n("../../../utils/dom"),b=n("./writer"),_=o(b),S=n("./../../shadow-ui"),w=o(S),x=function(e){function t(n){i(this,t);var r=s(this,e.call(this));return r.nodeSandbox=n,r.readyStateForIE=null,r.documentWriter=null,r}return a(t,e),t.prototype._isUninitializedIframeWithoutSrc=function(e){var t=e.defaultView,n=(0,E.getFrameElement)(t);return t!==t.top&&n&&(0,E.isIframeWithoutSrc)(n)&&!p["default"].isIframeInitialized(n)},t.prototype._beforeDocumentCleaned=function(){this.nodeSandbox.mutation.onBeforeDocumentCleaned({document:this.document})},t.prototype._onDocumentClosed=function(){this.nodeSandbox.mutation.onDocumentClosed({document:this.document})},t.prototype._overridedDocumentWrite=function(e,t){var n="loading"!==(this.readyStateForIE||this.document.readyState)&&"uninitialized"!==this.document.readyState;n&&this._beforeDocumentCleaned();var r=this.documentWriter.write(e,t,n);return n||this.nodeSandbox.processNodes(null,this.document),r},t.prototype.attach=function(t,n){var r=this;this.documentWriter&&this.window===t&&this.document===n||(this.documentWriter=new _["default"](t,n)),e.prototype.attach.call(this,t,n);var o=(0,E.getFrameElement)(t);o&&!(0,E.isIframeWithoutSrc)(o)&&(g.isIE9||g.isIE10)&&(this.readyStateForIE="loading",f["default"].addEventListener.call(this.document,"DOMContentLoaded",function(){r.readyStateForIE=null}));var i=this;n.open=function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];var s=r._isUninitializedIframeWithoutSrc(n);s||r._beforeDocumentCleaned();var a=f["default"].documentOpen.apply(n,o);return s?r.attach(t,n):r.nodeSandbox.mutation.onDocumentCleaned({window:t,document:n}),a},n.close=function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];g.isIE&&!p["default"].isWindowInited(t)&&f["default"].restoreDocumentMeths(n),"string"==typeof n.designMode&&"on"===n.designMode.toLowerCase()&&w["default"].removeSelfRemovingScripts(n);var s=f["default"].documentClose.apply(n,o);return r._isUninitializedIframeWithoutSrc(n)||r._onDocumentClosed(),s},n.createElement=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=f["default"].createElement.apply(n,t);return m["default"].processElement(i,v.convertToProxyUrl),r.nodeSandbox.processNodes(i),i},n.createElementNS=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=f["default"].createElementNS.apply(n,t);return m["default"].processElement(i,v.convertToProxyUrl),r.nodeSandbox.processNodes(i),i},n.write=function(){return i._overridedDocumentWrite(arguments)},n.writeln=function(){return i._overridedDocumentWrite(arguments,!0)},n.createDocumentFragment=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=f["default"].createDocumentFragment.apply(n,t);return i.nodeSandbox.processNodes(o),o}},t}(u["default"]);e["default"]=x,t.exports=e["default"]},"writer.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=n("../../native-methods"),a=o(s),l=n("../../../utils/html"),u=r(l),c=n("../../../utils/dom"),p=n("../../../utils/browser"),d=n("../../../../shadow-ui/class-name"),f=o(d),h=n("../../../../processing/script"),m=n("../../../../processing/style"),y=o(m),v=n("../../../utils/url"),g=n("../../../../processing/dom/internal-properties"),E=o(g),b=Array.prototype.join,_="hammerhead_write_marker_begin",S="hammerhead_write_marker_end",w="<"+_+"></"+_+">",x="<"+S+"></"+S+">",T=new RegExp("^[\\S\\s]*"+w,"g"),C=new RegExp(x+"[\\S\\s]*$","g"),A=/^<[^>]+>/g,I=/<\/[^>]+>$/g,N=/<[A-Za-z][^>]*$/g,M="hammerhead|is-not-closed-element",P=('\n    <script class="'+f["default"].selfRemovingScript+'" type="text/javascript">\n        (function () {\n            var hammerhead = window["'+E["default"].hammerheadPropertyName+'"];\n            var sandbox = hammerhead && hammerhead.sandbox;\n            var script = document.currentScript || document.scripts[document.scripts.length - 1];\n            if (!sandbox) {\n                try {\n                    sandbox = window.parent["'+E["default"].hammerheadPropertyName+"\"].get('./sandbox/backup').get(window);\n                } catch(e) {}\n            }\n            if (sandbox) {\n                sandbox.node.mutation.onDocumentCleaned({\n                    window: window,\n                    document: document\n                });\n\n                /* NOTE: B234357 */\n                sandbox.node.processNodes(null, document);\n            }\n\n            script.parentNode.removeChild(script);\n        })();\n    </script>").replace(/\n\s*/g,""),O=function(){function e(t,n){i(this,e),this.window=t,this.document=n,this.pending="",this.parentTagChain=[],this.isBeginMarkerInDOM=!1,this.isEndMarkerInDOM=!1,this.isClosingContentEl=!1,this.isNonClosedComment=!1,this.isAddContentToEl=!1,this.contentForProcessing="",this.nonClosedEl=null}return e.prototype._cutPending=function(e){var t=e.match(N);return this.pending=t?t[0]:"",this.pending?e.substring(0,e.length-this.pending.length):e},e.prototype._wrapHtmlChunk=function(e){var t=this.parentTagChain.length?"<"+this.parentTagChain.join("><")+">":"";this.isNonClosedComment&&(t+="<!--");var n=t+w+e+x;return n+"-->"},e.prototype._unwrapHtmlChunk=function(e){return e?(e=e.replace(T,"").replace(C,""),this.isBeginMarkerInDOM||(e=this.isNonClosedComment?e.slice(4):e.replace(A,"")),this.isEndMarkerInDOM||(e=this.isNonClosedComment?e.slice(0,-3):e.replace(I,"")),!this.isBeginMarkerInDOM&&this.isEndMarkerInDOM&&(this.isNonClosedComment=!1),e):e},e._setIsNotClosedFlag=function(e){((0,c.isScriptElement)(e)||(0,c.isStyleElement)(e))&&(e[M]=!0)},e.hasIsNotClosedFlag=function(e){return!!e[M]},e._searchBeginMarker=function(e){var t=a["default"].elementQuerySelector.call(e,_);if(t)return t;for(t=e;t.firstElementChild;)t=t.firstElementChild;return t.parentNode.firstChild!==t?t=t.parentNode.firstChild:(0,c.isCommentNode)(t.firstChild)&&(t=t.firstChild),t},e._searchEndMarker=function(e){var t=a["default"].elementQuerySelector.call(e,S);if(t)return t;for(t=e;t.lastElementChild;)t=t.lastElementChild;return t.parentNode.lastChild!==t?t=t.parentNode.lastChild:(0,c.isCommentNode)(t.lastChild)&&(t=t.lastChild),t},e.prototype._updateParentTagChain=function(e,t){var n=(0,c.getTagName)(t)!==S?t:t.parentNode;for((0,c.isCommentNode)(t)&&(this.isNonClosedComment=!0,n=t.parentNode),this.parentTagChain=[];n!==e;)this.parentTagChain.unshift((0,c.getTagName)(n)),n=n.parentNode},e.prototype._processBeginMarkerInContent=function(t){var n=t;e._setIsNotClosedFlag(n),this.isClosingContentEl&&((0,c.isScriptElement)(n)||(0,c.isStyleElement)(n))?(this.contentForProcessing=this.nonClosedEl.textContent+n.textContent.replace(T,""),n.textContent=""):n.textContent=n.textContent.replace(T,""),t=a["default"].createElement.call(document,_),a["default"].insertBefore.call(n.parentNode,t,n)},e.prototype._processEndMarkerInContent=function(t){var n=t;e._setIsNotClosedFlag(n),n.textContent=n.textContent.replace(C,"")+this.pending,t=a["default"].createElement.call(document,S),this.pending="",a["default"].appendChild.call(n.parentNode,t)},e._addOnDocumentRecreationScript=function(e){var t=a["default"].createElement.call(e.ownerDocument,"span");a["default"].insertBefore.call(e.parentNode,t,e),t.outerHTML=P},e.prototype._prepareDom=function(t,n){var r=e._searchBeginMarker(t),o=e._searchEndMarker(t);this.isBeginMarkerInDOM=(0,c.getTagName)(r)===_,this.isEndMarkerInDOM=(0,c.getTagName)(o)===S,this.isAddContentToEl=r===o,this.isClosingContentEl=!this.isBeginMarkerInDOM&&!this.isAddContentToEl,this.isAddContentToEl||(this._updateParentTagChain(t,o),n&&e._addOnDocumentRecreationScript(o)),this.isBeginMarkerInDOM||this.isEndMarkerInDOM?this.isBeginMarkerInDOM&&!this.isEndMarkerInDOM?this._processEndMarkerInContent(o):!this.isBeginMarkerInDOM&&this.isEndMarkerInDOM&&this._processBeginMarkerInContent(r):(this._processBeginMarkerInContent(r),this._processEndMarkerInContent(o))},e.prototype._processHtmlChunk=function(e,t){var n=this;return e=this._cutPending(this.pending+e),e=this._wrapHtmlChunk(e),e=u.processHtml(e,null,function(e){return n._prepareDom(e,t)}),e=this._unwrapHtmlChunk(e),e&&this.isBeginMarkerInDOM&&(p.isFirefox||p.isIE)&&!u.isPageHtml(e)&&(e=u.INIT_SCRIPT_FOR_IFRAME_TEMPLATE+e),e},e.prototype.write=function(e,t,n){var r=this._processHtmlChunk(b.call(e,""),n);this.nonClosedEl&&this.contentForProcessing&&((0,c.isScriptElement)(this.nonClosedEl)?this.nonClosedEl.textContent=(0,h.processScript)(this.contentForProcessing,!0):(0,c.isStyleElement)(this.nonClosedEl)&&(this.nonClosedEl.textContent=y["default"].process(this.contentForProcessing,v.getProxyUrl,!0)),this.contentForProcessing="");var o=t?a["default"].documentWriteLn:a["default"].documentWrite,i=o.call(this.document,r);if(!this.isEndMarkerInDOM&&!this.isAddContentToEl){for(var s=this.document.documentElement;s.lastElementChild;)s=s.lastElementChild;this.nonClosedEl=s}return i},e}();e["default"]=O,t.exports=e["default"]}},"element.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../base"),u=o(l),c=n("../node/index"),p=o(c),d=n("../../../processing/dom/index"),f=o(d),h=n("../native-methods"),m=o(h),y=n("../../dom-processor"),v=o(y),g=n("../../../processing/script"),E=n("../../../processing/style"),b=o(E),_=n("../../utils/url"),S=r(_),w=n("../../utils/dom"),x=r(w),T=n("../upload/hidden-info"),C=r(T),A=n("../../utils/url-resolver"),I=r(A),N=n("../../utils/destination-location"),M=n("../../utils/event"),P=n("../../utils/html"),O=n("../../transport"),R=o(O),k=n("../../utils/get-native-query-selector-all"),L=o(k),j=n("../../../utils/url"),D=n("../windows-storage"),U=r(D),F=n("../code-instrumentation/properties/attributes-wrapper"),B=o(F),H=["_blank","_self","_parent","_top"],W="hammerhead|element|has-load-handler-flag",V=function(e){function t(n,r,o,a,l){i(this,t);var u=s(this,e.call(this));return u.nodeSandbox=n,u.shadowUI=a,u.uploadSandbox=r,u.iframeSandbox=o,u.eventSandbox=l,u.overridedMethods=null,u.BEFORE_FORM_SUBMIT="hammerhead|event|before-form-submit",u.SCRIPT_ELEMENT_ADDED="hammerhead|event|script-added",u}return a(t,e),t._isKeywordTarget=function(e){return e=e.toLowerCase(),H.indexOf(e)!==-1},t._onTargetChanged=function(e){var t=x.getTagName(e);if(f["default"].isIframeFlagTag(t)){var n="form"===t?"action":"href",r=v["default"].getStoredAttrName(n);if(e.hasAttribute(r)){var o=e.getAttribute(r);S.isSupportedProtocol(o)&&e.setAttribute(n,o)}}},t.setHasLoadHandlerFlag=function(e){e[W]=!0},t.removeHasLoadHandlerFlag=function(e){delete e[W]},t._setProxiedSrc=function(e){e[W]||(t.setHasLoadHandlerFlag(e),e.src&&e.setAttribute("src",e.src))},t.prototype._getAttributeCore=function(e,t,n){var r=String(t[n?1:0]),o=r.toLowerCase(),i=n?t[0]:null,s=n?m["default"].getAttributeNS:m["default"].getAttribute;if(v["default"].isUrlAttr(e,o,i)||"sandbox"===o||v["default"].EVENTS.indexOf(o)!==-1||"autocomplete"===o||"target"===o){var a=v["default"].getStoredAttrName(r),l=s.apply(e,n?[i,a]:[a]);if(f["default"].isAddedAutocompleteAttr(o,l))return null;e.hasAttribute(a)&&(t[n?1:0]=a)}return s.apply(e,t)},t.prototype._setAttributeCore=function(e,n,r){var o=r?n[0]:null,i=String(n[r?1:0]),s=i.toLowerCase(),a=r?2:1,l=n[a],u=r?m["default"].setAttributeNS:m["default"].setAttribute,c=x.getTagName(e),p=v["default"].isUrlAttr(e,i,o),d=v["default"].EVENTS.indexOf(i)!==-1,h=!1;l=String(l);var y=S.isSpecialPage(l),E=S.isSupportedProtocol(l);if(p&&!E&&!y||d){var b=v["default"].JAVASCRIPT_PROTOCOL_REG_EX.test(l),_=v["default"].getStoredAttrName(i);if(p&&b||d){var w=l.replace(v["default"].JAVASCRIPT_PROTOCOL_REG_EX,""),T=w.match(v["default"].HTML_STRING_REG_EX),C="";if(T&&b){var A=T[2],M=T[1];(0,P.isPageHtml)(A)||(A="<html><body>"+A+"</body></html>"),A=A.replace(new RegExp("\\\\"+M,"g"),M),A=(0,P.processHtml)(A),A=A.replace(new RegExp(M,"g"),"\\"+M),C="javascript:"+M+A+M}else C=(b?"javascript:":"")+(0,g.processScript)(w,!1);u.apply(e,r?[o,_,l]:[_,l]),n[a]=C}else u.apply(e,r?[o,_,l]:[_,l])}else if(p&&(E||y)){var O=v["default"].getStoredAttrName(i);if(u.apply(e,r?[o,O,l]:[O,l]),"img"!==c||e[W]){if(""!==l&&(!y||"a"===c)){var R="iframe"===c,k="script"===c,L=E&&!(0,N.sameOriginCheck)(location.toString(),l),D=v["default"].getElementResourceType(e),U=k&&e.charset;if("formaction"===s&&(D="f",e.form)){var F=S.parseProxyUrl(e.form.action);F&&(D=F.resourceType)}t._isHrefAttrForBaseElement(e,i)&&x.isElementInDocument(e,this.document)&&I.updateBase(l,this.document),n[a]=R&&L?S.getCrossDomainIframeProxyUrl(l):S.getProxyUrl(l,{resourceType:D,charset:U})}}else!l||y||S.parseProxyUrl(l)||(n[a]=e[this.nodeSandbox.win.FORCE_PROXY_SRC_FOR_IMAGE]?S.getProxyUrl(l):S.resolveUrlAsDest(l))}else if("autocomplete"===s){var B=v["default"].getStoredAttrName(i);u.apply(e,r?[o,B,l]:[B,l]),n[a]="off"}else if("target"===s&&f["default"].isTagWithTargetAttr(c)){var H=this.getTarget(e,l);if(H===e.target)return null;var V=v["default"].getStoredAttrName(i);u.apply(e,r?[o,V,l]:[V,l]),n[a]=H,h=!0}else if("sandbox"===i){var q=v["default"].getStoredAttrName(i),G=l.indexOf("allow-same-origin")!==-1,X=l.indexOf("allow-scripts")!==-1;u.apply(e,r?[o,q,l]:[q,l]),G&&X||(n[a]+=G?"":" allow-same-origin",n[a]+=X?"":" allow-scripts")}else{if("meta"===c&&["http-equiv","content"].indexOf(i)!==-1)return null;if("xlink:href"===s&&v["default"].SVG_XLINK_HREF_TAGS.indexOf(c)!==-1&&x.isSVGElement(e)){var K=v["default"].getStoredAttrName(i);u.apply(e,r?[o,K,l]:[K,l]),j.HASH_RE.test(l)||(n[a]=S.getProxyUrl(l))}}var Y=u.apply(e,n);return h&&t._onTargetChanged(e),Y},t.prototype._hasAttributeCore=function(e,t,n){var r=n?1:0,o=n?m["default"].hasAttributeNS:m["default"].hasAttribute,i=v["default"].getStoredAttrName("autocomplete"),s=m["default"].getAttribute.call(e,i);return("string"!=typeof t[r]||!f["default"].isAddedAutocompleteAttr(t[r],s))&&o.apply(e,t)},t.prototype._removeAttributeCore=function(e,n,r){var o=String(n[r?1:0]),i=o.toLowerCase(),s=r?m["default"].removeAttributeNS:m["default"].removeAttribute,a=x.getTagName(e),l=void 0;if(v["default"].isUrlAttr(e,i,r?n[0]:null)||"sandbox"===i||"autocomplete"===i||v["default"].EVENTS.indexOf(i)!==-1||"target"===i&&f["default"].isTagWithTargetAttr(a)){var u=v["default"].getStoredAttrName(o);"autocomplete"===i?m["default"].setAttribute.call(e,u,v["default"].AUTOCOMPLETE_ATTRIBUTE_ABSENCE_MARKER):s.apply(e,r?[n[0],u]:[u])}return t._isHrefAttrForBaseElement(e,i)&&I.updateBase((0,N.get)(),this.document),"autocomplete"!==i&&(l=s.apply(e,n)),"target"===i&&f["default"].isTagWithTargetAttr(a)&&t._onTargetChanged(e),l},t.prototype._prepareNodeForInsertion=function(e,n){x.isTextNode(e)&&t._processTextNodeContent(e,n),this.nodeSandbox.processNodes(e)},t.prototype._createOverridedMethods=function(){var e=this;this.overridedMethods={insertRow:function(){var t=x.isTableElement(this)?m["default"].insertTableRow:m["default"].insertTBodyRow,n=t.apply(this,arguments);return e.nodeSandbox.processNodes(n),n},insertCell:function(){var t=m["default"].insertCell.apply(this,arguments);return e.nodeSandbox.processNodes(t),t},insertAdjacentHTML:function(){var t=arguments[1];arguments.length>1&&null!==t&&(arguments[1]=(0,P.processHtml)(""+t,this.parentNode&&this.parentNode.tagName)),m["default"].insertAdjacentHTML.apply(this,arguments),e.nodeSandbox.processNodes(this.parentNode||this)},formSubmit:function(){var t=this,n=arguments;R["default"].waitCookieMsg(function(){return e._ensureTargetContainsExistingBrowsingContext(t),e.emit(e.BEFORE_FORM_SUBMIT,{form:t}),m["default"].formSubmit.apply(t,n)})},insertBefore:function(){var t=arguments[0],n=arguments[1];e._prepareNodeForInsertion(t,this);var r=null;return r=x.isBodyElementWithChildren(this)&&!n&&x.isElementInDocument(this)?e.shadowUI.insertBeforeRoot(t):m["default"].insertBefore.apply(this,arguments),e._onElementAdded(t),r},appendChild:function(){var t=arguments[0];e._prepareNodeForInsertion(t,this);var n=null;return n=x.isBodyElementWithChildren(this)&&x.isElementInDocument(this)?e.shadowUI.insertBeforeRoot(t):m["default"].appendChild.apply(this,arguments),e._onElementAdded(t),n},removeChild:function(){var t=arguments[0];e._onRemoveFileInputInfo(t),e._onRemoveIframe(t);var n=m["default"].removeChild.apply(this,arguments);return e.onElementRemoved(t),n},replaceChild:function(){var n=arguments[0],r=arguments[1];x.isTextNode(n)&&t._processTextNodeContent(n,this),e._onRemoveFileInputInfo(r);var o=m["default"].replaceChild.apply(this,arguments);return e._onAddFileInputInfo(n),o},cloneNode:function(){var t=m["default"].cloneNode.apply(this,arguments);return e.nodeSandbox.processNodes(t),t},getAttribute:function(){return e._getAttributeCore(this,arguments)},getAttributeNS:function(){return e._getAttributeCore(this,arguments,!0)},setAttribute:function(){var n=e._setAttributeCore(this,arguments);return t._refreshAttributesWrappers(this),n},setAttributeNS:function(){var n=e._setAttributeCore(this,arguments,!0);return t._refreshAttributesWrappers(this),n},removeAttribute:function(){var n=e._removeAttributeCore(this,arguments);return t._refreshAttributesWrappers(this),n},removeAttributeNS:function(){var n=e._removeAttributeCore(this,arguments,!0);return t._refreshAttributesWrappers(this),n},querySelector:function(){"string"==typeof arguments[0]&&(arguments[0]=p["default"].processSelector(arguments[0]));var e=x.isDocumentFragmentNode(this)?m["default"].documentFragmentQuerySelector:m["default"].elementQuerySelector;return e.apply(this,arguments)},querySelectorAll:function(){return"string"==typeof arguments[0]&&(arguments[0]=p["default"].processSelector(arguments[0])),(0,L["default"])(this).apply(this,arguments)},hasAttribute:function(){return e._hasAttributeCore(this,arguments,!1)},hasAttributeNS:function(){return e._hasAttributeCore(this,arguments,!0)},hasAttributes:function(){return 2===this.attributes.length&&this.attributes.getNamedItem("autocomplete")&&this.attributes.getNamedItem(v["default"].getStoredAttrName("autocomplete"))?e._hasAttributeCore(this,["autocomplete"],!1):m["default"].hasAttributes.apply(this,arguments)}}},t._processTextNodeContent=function(e,t){t.tagName&&(x.isScriptElement(t)?e.data=(0,g.processScript)(e.data,!0):x.isStyleElement(t)&&(e.data=b["default"].process(e.data,S.getProxyUrl)))},t._isHrefAttrForBaseElement=function(e,t){return x.isBaseElement(e)&&"href"===t},t._removeFileInputInfo=function(e){C.removeInputInfo(e)},t._refreshAttributesWrappers=function(e){B["default"].refreshWrappers(e)},t.prototype._onAddFileInputInfo=function(e){
if(x.isDomElement(e))for(var t=x.getFileInputs(e),n=0;n<t.length;n++)this.addFileInputInfo(t[n])},t.prototype._onRemoveFileInputInfo=function(e){x.isDomElement(e)&&(x.isFileInput(e)?t._removeFileInputInfo(e):x.find(e,"input[type=file]",t._removeFileInputInfo))},t.prototype._onRemoveIframe=function(e){x.isDomElement(e)&&x.isIframeElement(e)&&U.remove(e.contentWindow)},t.prototype._onElementAdded=function(e){if((x.isElementNode(e)||x.isDocumentNode(e))&&x.isElementInDocument(e))for(var t=x.getIframes(e),n=0;n<t.length;n++)this.onIframeAddedToDOM(t[n]),U.add(t[n].contentWindow);if((x.isInputElement(e)||x.isButtonElement(e))&&e.form&&m["default"].hasAttribute.call(e,"formaction")&&e.setAttribute("formaction",e.getAttribute("formaction")),x.isBodyElement(e)&&this.shadowUI.onBodyElementMutation(),this._onAddFileInputInfo(e),x.isBaseElement(e)){var r=v["default"].getStoredAttrName("href"),o=e.getAttribute(r);I.updateBase(o,this.document)}x.isScriptElement(e)&&this.emit(this.SCRIPT_ELEMENT_ADDED,{el:e})},t.prototype.onElementRemoved=function(e){x.isBodyElement(e)?this.shadowUI.onBodyElementMutation():x.isBaseElement(e)&&I.updateBase((0,N.get)(),this.document)},t.prototype.addFileInputInfo=function(e){var t=this.uploadSandbox.infoManager;C.addInputInfo(e,t.getFiles(e),t.getValue(e))},t.prototype.onIframeAddedToDOM=function(e){x.isCrossDomainIframe(e,!0)||this.nodeSandbox.mutation.onIframeAddedToDOM({iframe:e})},t.prototype.attach=function(n){e.prototype.attach.call(this,n),this._createOverridedMethods(),n.Element.prototype.insertBefore=this.overridedMethods.insertBefore,n.Element.prototype.appendChild=this.overridedMethods.appendChild,n.Element.prototype.replaceChild=this.overridedMethods.replaceChild,n.Element.prototype.removeChild=this.overridedMethods.removeChild,n.Element.prototype.setAttribute=this.overridedMethods.setAttribute,n.Element.prototype.setAttributeNS=this.overridedMethods.setAttributeNS,n.Element.prototype.getAttribute=this.overridedMethods.getAttribute,n.Element.prototype.getAttributeNS=this.overridedMethods.getAttributeNS,n.Element.prototype.removeAttribute=this.overridedMethods.removeAttribute,n.Element.prototype.removeAttributeNS=this.overridedMethods.removeAttributeNS,n.Element.prototype.cloneNode=this.overridedMethods.cloneNode,n.Element.prototype.querySelector=this.overridedMethods.querySelector,n.Element.prototype.querySelectorAll=this.overridedMethods.querySelectorAll,n.Element.prototype.hasAttribute=this.overridedMethods.hasAttribute,n.Element.prototype.hasAttributeNS=this.overridedMethods.hasAttributeNS,n.Element.prototype.hasAttributes=this.overridedMethods.hasAttributes,n.Node.prototype.cloneNode=this.overridedMethods.cloneNode,n.Node.prototype.appendChild=this.overridedMethods.appendChild,n.Node.prototype.removeChild=this.overridedMethods.removeChild,n.Node.prototype.insertBefore=this.overridedMethods.insertBefore,n.Node.prototype.replaceChild=this.overridedMethods.replaceChild,n.DocumentFragment.prototype.querySelector=this.overridedMethods.querySelector,n.DocumentFragment.prototype.querySelectorAll=this.overridedMethods.querySelectorAll,n.HTMLTableElement.prototype.insertRow=this.overridedMethods.insertRow,n.HTMLTableSectionElement.prototype.insertRow=this.overridedMethods.insertRow,n.HTMLTableRowElement.prototype.insertCell=this.overridedMethods.insertCell,n.HTMLFormElement.prototype.submit=this.overridedMethods.formSubmit,n.Element.prototype.insertAdjacentHTML?n.Element.prototype.insertAdjacentHTML=this.overridedMethods.insertAdjacentHTML:n.HTMLElement.prototype.insertAdjacentHTML&&(n.HTMLElement.prototype.insertAdjacentHTML=this.overridedMethods.insertAdjacentHTML),this._setValidBrowsingContextOnElementClick(n),this.eventSandbox.listeners.on(this.eventSandbox.listeners.EVENT_LISTENER_ATTACHED_EVENT,function(e){"load"===e.eventType&&x.isImgElement(e.el)&&t._setProxiedSrc(e.el)}),this.eventSandbox.on(this.eventSandbox.EVENT_ATTACHED_EVENT,function(e){"load"===e.eventType&&x.isImgElement(e.el)&&t._setProxiedSrc(e.el)}),this.eventSandbox.listeners.on(this.eventSandbox.listeners.EVENT_LISTENER_DETACHED_EVENT,function(e){"load"===e.eventType&&x.isImgElement(e.el)&&t.removeHasLoadHandlerFlag(e.el)}),this.eventSandbox.on(this.eventSandbox.EVENT_DETACHED_EVENT,function(e){"load"===e.eventType&&x.isImgElement(e.el)&&t.removeHasLoadHandlerFlag(e.el)})},t.prototype._ensureTargetContainsExistingBrowsingContext=function(e){var t=m["default"].getAttribute.call(e,v["default"].getStoredAttrName("target"));e.setAttribute("target",t||e.target)},t.prototype._setValidBrowsingContextOnElementClick=function(e){var t=this;this.eventSandbox.listeners.initElementListening(e,["click"]),this.eventSandbox.listeners.addInternalEventListener(e,["click"],function(e){var n=e.target;x.isInputElement(n)&&n.form&&(n=n.form);var r=x.getTagName(n);f["default"].isTagWithTargetAttr(r)&&t._ensureTargetContainsExistingBrowsingContext(n)})},t.prototype._setProxiedSrcUrlOnError=function(e){e.addEventListener("error",function(t){var n=m["default"].getAttribute.call(e,v["default"].getStoredAttrName("src"));n&&!S.parseProxyUrl(e.src)&&S.isSupportedProtocol(e.src)&&!S.isSpecialPage(e.src)&&(m["default"].setAttribute.call(e,"src",S.getProxyUrl(n)),(0,M.stopPropagation)(t))},!1)},t.prototype.getTarget=function(e,n){var r=n||"";return r&&!t._isKeywordTarget(r)&&!U.findByName(r)||/_blank/i.test(r)?"_top":r},t.prototype.processElement=function(e){var t=x.getTagName(e);switch(t){case"img":e[this.nodeSandbox.win.FORCE_PROXY_SRC_FOR_IMAGE]||this._setProxiedSrcUrlOnError(e);break;case"iframe":this.iframeSandbox.processIframe(e);break;case"base":I.updateBase(m["default"].getAttribute.call(e,v["default"].getStoredAttrName("href")),this.document)}f["default"].isIframeFlagTag(t)&&"_parent"===e.target&&v["default"].processElement(e,S.convertToProxyUrl)},t}(u["default"]);e["default"]=V,t.exports=e["default"]},"index.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../../../processing/dom/internal-properties"),u=o(l),c=n("../base"),p=o(c),d=n("./window"),f=o(d),h=n("./document"),m=o(h),y=n("./element"),v=o(y),g=n("../event/focus-blur"),E=o(g),b=n("../../dom-processor"),_=o(b),S=n("../../utils/dom"),w=r(S),x=n("../../utils/get-native-query-selector-all"),T=o(x),C=/\[([\w-]+)(\^?=.+?)]/g,A=/^\W+\s*#/,I=function(e){function t(n,r,o,a,l){i(this,t);var c=s(this,e.call(this));return c.raiseBodyCreatedEvent=c._onBodyCreated,Object.defineProperty(document,u["default"].documentCharset,{value:w.parseDocumentCharset(),writable:!0}),c.eventSandbox=o,c.iframeSandbox=r,c.shadowUI=l,c.mutation=n,c.doc=new m["default"](c),c.win=new f["default"](c,o.message),c.element=new v["default"](c,a,r,l,o),c}return a(t,e),t.prototype._onBodyCreated=function(){this.eventSandbox.listeners.initDocumentBodyListening(this.document),this.mutation.onBodyCreated({body:this.document.body})},t.prototype._processElement=function(e){if(e[u["default"].processedContext]!==this.window){var t=null;e[u["default"].processedContext]&&(t=_["default"].getUrlAttr(e),t=e.hasAttribute(t)?t:null),e[u["default"].processedContext]=this.window,t&&e.setAttribute(t,e.getAttribute(t)),this.element.processElement(e)}},t.prototype.processNodes=function(e,t){if(e){if(e.querySelectorAll){this._processElement(e);for(var n=(0,T["default"])(e).call(e,"*"),r=0;r<n.length;r++)this._processElement(n[r])}}else t=t||this.document,t.documentElement&&this.processNodes(t.documentElement)},t.prototype.attach=function(t){var n=this,r=t.document,o=!1;e.prototype.attach.call(this,t,r),this.iframeSandbox.on(this.iframeSandbox.IFRAME_DOCUMENT_CREATED_EVENT,function(e){var t=new n.nativeMethods.constructor(e.iframe.contentDocument,e.iframe.contentWindow);e.iframe.contentWindow[u["default"].iframeNativeMethods]=t,n.doc.attach(e.iframe.contentWindow,e.iframe.contentDocument)}),Object.defineProperty(t,u["default"].processDomMethodName,{value:function(e,t){o||n.shadowUI.onBodyElementMutation(),n.processNodes(e,t)},configurable:!0}),r.addEventListener("DOMContentLoaded",function(){o=!0,n.processNodes(null,r)},!1),this.doc.attach(t,r),this.win.attach(t),this.element.attach(t)},t._processAttributeSelector=function(e){return C.test(e)?e.replace(C,function(e,t,n){return _["default"].URL_ATTRS.indexOf(t)===-1||A.test(n)?e:(t=_["default"].getStoredAttrName(t),"["+t+n+"]")}):e},t.processSelector=function(e){return e&&(e=E["default"]._processFocusPseudoClassSelector(e),e=t._processAttributeSelector(e)),e},t}(p["default"]);e["default"]=I,t.exports=e["default"]},"mutation.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("../../utils/event-emitter"),l=r(a),u=function(e){function t(){o(this,t);var n=i(this,e.call(this));return n.BEFORE_DOCUMENT_CLEANED_EVENT="hammerhead|event|before-document-cleaned",n.DOCUMENT_CLEANED_EVENT="hammerhead|event|document-cleaned",n.DOCUMENT_CLOSED_EVENT="hammerhead|event|document-closed",n.BODY_CONTENT_CHANGED_EVENT="hammerhead|event|body-content-changed",n.BODY_CREATED_EVENT="hammerhead|event|body-created",n.IFRAME_ADDED_TO_DOM_EVENT="hammerhead|event|iframe-added-to-dom",n}return s(t,e),t.prototype.onIframeAddedToDOM=function(e){this.emit(this.IFRAME_ADDED_TO_DOM_EVENT,e)},t.prototype.onBeforeDocumentCleaned=function(e){this.emit(this.BEFORE_DOCUMENT_CLEANED_EVENT,e)},t.prototype.onDocumentCleaned=function(e){this.emit(this.DOCUMENT_CLEANED_EVENT,e)},t.prototype.onDocumentClosed=function(e){this.emit(this.DOCUMENT_CLOSED_EVENT,e)},t.prototype.onBodyContentChanged=function(e){this.emit(this.BODY_CONTENT_CHANGED_EVENT,e)},t.prototype.onBodyCreated=function(e){this.emit(this.BODY_CREATED_EVENT,e)},t}(l["default"]);e["default"]=u,t.exports=e["default"]},"window.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../base"),u=o(l),c=n("../shadow-ui"),p=o(c),d=n("../code-instrumentation"),f=o(d),h=n("../native-methods"),m=o(h),y=n("../../../processing/script"),v=n("../../../processing/style"),g=o(v),E=n("../../utils/destination-location"),b=r(E),_=n("../../utils/html"),S=n("../../utils/url"),w=n("../../utils/browser"),x=n("../../utils/dom"),T=n("../../../processing/dom/internal-attributes"),C=o(T),A=Array.prototype.slice,I=m["default"].Function.toString(),N=function(e){function t(n,r){i(this,t);var o=s(this,e.call(this));return o.nodeSandbox=n,o.messageSandbox=r,o.UNCAUGHT_JS_ERROR_EVENT="hammerhead|event|uncaught-js-error",o.FORCE_PROXY_SRC_FOR_IMAGE="hammerhead|image|force-proxy-src-flag",o}return a(t,e),t.prototype._raiseUncaughtJsErrorEvent=function(e,t,n){if(!(0,x.isCrossDomainWindows)(t,t.top)){var r=t!==t.top;n||(n=b.get()),r?(this.emit(this.UNCAUGHT_JS_ERROR_EVENT,{msg:e,pageUrl:n,inIframe:!0}),this.messageSandbox.sendServiceMsg({msg:e,pageUrl:n,cmd:this.UNCAUGHT_JS_ERROR_EVENT},t.top)):this.emit(this.UNCAUGHT_JS_ERROR_EVENT,{msg:e,pageUrl:n})}},t.prototype.attach=function(t){var n=this;e.prototype.attach.call(this,t);var r=this.messageSandbox,o=this.nodeSandbox,i=this;r.on(r.SERVICE_MSG_RECEIVED_EVENT,function(e){var r=e.message;r.cmd===n.UNCAUGHT_JS_ERROR_EVENT&&n._raiseUncaughtJsErrorEvent(r.msg,t,r.pageUrl)}),t.CanvasRenderingContext2D.prototype.drawImage=function(){var e=arguments[0];if((0,x.isImgElement)(e)&&!e[i.FORCE_PROXY_SRC_FOR_IMAGE]){var n=A.call(arguments),r=e.src;b.sameOriginCheck(location.toString(),r)&&(n[0]=m["default"].createElement.call(t.document,"img"),n[0].src=(0,S.getProxyUrl)(r))}return m["default"].canvasContextDrawImage.apply(this,n||arguments)},t.onerror=function(e,r,o,i,s){if(e.indexOf("NS_ERROR_NOT_INITIALIZED")!==-1)return!0;var a=f["default"].getOriginalErrorHandler(t),l=a&&a.call(t,e,r,o,i,s)===!0;return!!l||(n._raiseUncaughtJsErrorEvent(e,t),!1)},t.open=function(){var e=[],n=arguments[1]?o.element.getTarget(null,arguments[1]):"_self";return e.push((0,S.getProxyUrl)(arguments[0])),e.push(n),arguments.length>2&&e.push(arguments[2]),arguments.length>3&&e.push(arguments[3]),m["default"].windowOpen.apply(t,e)},t.FontFace&&(t.FontFace=function(e,t,n){return t=g["default"].process(t,S.convertToProxyUrl),new m["default"].FontFace(e,t,n)},t.FontFace.prototype=m["default"].FontFace.prototype),t.Worker&&(t.Worker=function(e){return"string"==typeof e&&(e=(0,S.getProxyUrl)(e)),new m["default"].Worker(e)},t.Worker.prototype=m["default"].Worker.prototype),t.Blob&&(t.Blob=function(e,t){if(0===arguments.length)return new m["default"].Blob;var n=t&&t.type&&t.type.toString().toLowerCase();return n&&"text/javascript"!==n&&"application/javascript"!==n&&"application/x-javascript"!==n||(e=[(0,y.processScript)(e.join(""),!0)]),1===arguments.length?new m["default"].Blob(e):new m["default"].Blob(e,t)},t.Blob.prototype=m["default"].Blob.prototype),t.EventSource&&(t.EventSource=function(e){return new m["default"].EventSource((0,S.getProxyUrl)(e))},t.EventSource.prototype=m["default"].EventSource.prototype),t.MutationObserver&&(t.MutationObserver=function(e){var t=function(t){for(var n=[],r=0;r<t.length;r++)p["default"].isShadowUIMutation(t[r])||n.push(t[r]);n.length&&e(n)};return new m["default"].MutationObserver(t)},t.MutationObserver.prototype=m["default"].MutationObserver.prototype),m["default"].registerServiceWorker&&(t.navigator.serviceWorker.register=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return"string"==typeof n[0]&&(n[0]=(0,S.getProxyUrl)(n[0])),n[1]&&"string"==typeof n[1].scope&&(n[1].scope=(0,S.getProxyUrl)(n[1].scope)),m["default"].registerServiceWorker.apply(t.navigator.serviceWorker,n)}),t.Range.prototype.createContextualFragment&&(t.Range.prototype.createContextualFragment=function(){"string"==typeof arguments[0]&&(arguments[0]=(0,_.processHtml)(arguments[0]));var e=m["default"].createContextualFragment.apply(this,arguments);return o.processNodes(e),e}),t.Image=function(){var e=null;return e=arguments.length?1===arguments.length?new m["default"].Image(arguments[0]):new m["default"].Image(arguments[0],arguments[1]):new m["default"].Image,e[i.FORCE_PROXY_SRC_FOR_IMAGE]=!0,o.processNodes(e),e},t.Image.prototype=m["default"].Image.prototype;var s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.length-1;return"string"==typeof t[r]&&(t[r]=(0,y.processScript)(t[r],!1)),m["default"].Function.apply(this,t)};t.Function=s,t.Function.prototype=m["default"].Function.prototype,t.Function.prototype.constructor=s,t.Function.toString=function(){return this===s?I:m["default"].functionToString.call(this)},"function"==typeof t.history.pushState&&"function"==typeof t.history.replaceState&&(t.history.pushState=function(){return"string"==typeof arguments[2]&&(arguments[2]=(0,S.getProxyUrl)(arguments[2])),m["default"].historyPushState.apply(history,arguments)},t.history.replaceState=function(){return"string"==typeof arguments[2]&&(arguments[2]=(0,S.getProxyUrl)(arguments[2])),m["default"].historyReplaceState.apply(history,arguments)}),t.navigator.sendBeacon&&(t.navigator.sendBeacon=function(){return"string"==typeof arguments[0]&&(arguments[0]=(0,S.getProxyUrl)(arguments[0])),m["default"].sendBeacon.apply(this,arguments)}),t.navigator.registerProtocolHandler&&(t.navigator.registerProtocolHandler=function(){var e=A.call(arguments),t=1;if("string"==typeof e[t]){var n=b.getParsed().hostname,r="";if(w.isFirefox){var o=(0,S.parseUrl)(e[t]);r=o.hostname&&(0,S.isSubDomain)(n,o.hostname)}else r=b.sameOriginCheck(b.get(),e[t]);r&&(e[t]=(0,S.getProxyUrl)(e[t]))}return m["default"].registerProtocolHandler.apply(navigator,e)}),t.FormData&&(t.FormData.prototype.append=function(e,t){e!==C["default"].uploadInfoHiddenInputName&&(2===arguments.length&&(0,x.isBlob)(t)&&"name"in t?m["default"].formDataAppend.call(this,e,t,t.name):m["default"].formDataAppend.apply(this,arguments))}),t.XDomainRequest&&(t.XDomainRequest=t.XMLHttpRequest)},t}(u["default"]);e["default"]=N,t.exports=e["default"]}},"shadow-ui.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../../processing/dom/internal-properties"),u=o(l),c=n("./base"),p=o(c),d=n("./node/index"),f=o(d),h=n("./native-methods"),m=o(h),y=n("../utils/dom"),v=r(y),g=n("../dom-processor"),E=n("../utils/position"),b=n("../../shadow-ui/class-name"),_=o(b),S=n("../utils/style"),w=n("../utils/event"),x=function(e){function t(n,r,o){i(this,t);var a=s(this,e.call(this));return a.BODY_CONTENT_CHANGED_COMMAND="hammerhead|command|body-content-changed",a.CLASSNAME_REGEX=/\.((?:\\.|[-\w]|[^\x00-\xa0])+)/g,a.ROOT_CLASS="root",a.ROOT_ID="root",a.HIDDEN_CLASS="hidden",a.BLIND_CLASS="blind",a.nodeMutation=n,a.messageSandbox=r,a.iframeSandbox=o,a.root=null,a.lastActiveElement=null,a.uiStyleSheetsHtmlBackup=null,a}return a(t,e),t._filterElement=function(e){return!e||v.isDocument(e)||v.isWindow(e)?e:v.isShadowUIElement(e)?null:e},t._filterList=function(e,t){for(var n=[],r=e.length,o=0;o<r;o++){var i=t(e[o]);i&&n.push(e[o])}return n.item=function(e){return e>=n.length?null:n[e]},e.namedItem&&(n.namedItem=function(t){return e.namedItem(t)}),n.length===r?e:n},t._filterNodeList=function(e){return t._filterList(e,function(e){return t._filterElement(e)})},t._filterStyleSheetList=function(e){return t._filterList(e,function(e){return t._filterElement(e.ownerNode)})},t.prototype._bringRootToWindowTopLeft=function(){for(var e=!1,t=this.root.parentNode;t;){var n=(0,S.get)(t,"position");/fixed|relative|absolute/.test(n)&&(e=!0),t=t.parentNode}if(e){var r=(0,E.getOffsetPosition)(this.root);if(0!==r.left||0!==r.top){var o=((parseFloat((0,S.get)(this.root,"left"))||0)-r.left).toString()+"px",i=((parseFloat((0,S.get)(this.root,"top"))||0)-r.top).toString()+"px";(0,S.set)(this.root,"left",o),(0,S.set)(this.root,"top",i)}}},t.prototype._overrideDocumentMethods=function(e){var n=this,r=e.constructor.prototype;r.elementFromPoint=function(){n.addClass(n.getRoot(),n.HIDDEN_CLASS);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=t._filterElement(m["default"].elementFromPoint.apply(this,r));return n.removeClass(n.getRoot(),n.HIDDEN_CLASS),i},e.caretRangeFromPoint&&(r.caretRangeFromPoint=function(){n.addClass(n.getRoot(),n.HIDDEN_CLASS);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=m["default"].caretRangeFromPoint.apply(this,r);return i&&i.startContainer&&!t._filterElement(i.startContainer)&&(i=null),n.removeClass(n.getRoot(),n.HIDDEN_CLASS),i}),e.caretPositionFromPoint&&(r.caretPositionFromPoint=function(){n.addClass(n.getRoot(),n.HIDDEN_CLASS);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=m["default"].caretPositionFromPoint.apply(this,r);return i&&i.offsetNode&&!t._filterElement(i.offsetNode)&&(i=null),n.removeClass(n.getRoot(),n.HIDDEN_CLASS),i}),r.getElementById=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t._filterElement(m["default"].getElementById.apply(this,n))},r.getElementsByClassName=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t._filterNodeList(m["default"].getElementsByClassName.apply(this,n))},r.getElementsByName=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t._filterNodeList(m["default"].getElementsByName.apply(this,n))},r.getElementsByTagName=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t._filterNodeList(m["default"].getElementsByTagName.apply(this,n))},r.querySelector=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return"string"==typeof n[0]&&(n[0]=f["default"].processSelector(n[0])),t._filterElement(m["default"].querySelector.apply(this,n))},r.querySelectorAll=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return"string"==typeof n[0]&&(n[0]=f["default"].processSelector(n[0])),t._filterNodeList(m["default"].querySelectorAll.apply(this,n))},r.querySelectorAll.toString=function(){return m["default"].querySelectorAll.toString()},r.getElementsByClassName.toString=function(){return m["default"].getElementsByClassName.toString()}},t.prototype._overrideElementMethods=function(e){var n={getElementsByClassName:function(){return t._filterNodeList(m["default"].elementGetElementsByClassName.apply(this,arguments))},getElementsByTagName:function(){return t._filterNodeList(m["default"].elementGetElementsByTagName.apply(this,arguments))},querySelector:function(){return"string"==typeof arguments[0]&&(arguments[0]=f["default"].processSelector(arguments[0])),t._filterElement(m["default"].elementQuerySelector.apply(this,arguments))},querySelectorAll:function(){return"string"==typeof arguments[0]&&(arguments[0]=f["default"].processSelector(arguments[0])),t._filterNodeList(m["default"].elementQuerySelectorAll.apply(this,arguments))}},r=e.HTMLBodyElement.prototype,o=e.HTMLHeadElement.prototype;r.getElementsByClassName=n.getElementsByClassName,r.getElementsByTagName=n.getElementsByTagName,r.querySelector=n.querySelector,r.querySelectorAll=n.querySelectorAll,o.getElementsByClassName=n.getElementsByClassName,o.getElementsByTagName=n.getElementsByTagName,o.querySelector=n.querySelector,o.querySelectorAll=n.querySelectorAll},t.prototype._getUIStyleSheetsHtml=function(){for(var e=this.nativeMethods.querySelectorAll.call(this.document,"link."+_["default"].uiStylesheet),t="",n=0;n<e.length;n++)t+=e[n].outerHTML;return t},t.prototype._restoreUIStyleSheets=function(e,t){if(e&&t){var n=this.nativeMethods.createElement.call(this.document,"div");n.innerHTML=t;for(var r=0;r<n.children.length;r++){var o=e.children[r]||null,i=m["default"].cloneNode.call(n.children[r]);this.nativeMethods.insertBefore.call(e,i,o)}}},t.prototype.getRoot=function(){var e=this;if(!this.root||!this.document.body.contains(this.root))if(this.root)m["default"].appendChild.call(this.document.body,this.root);else{this.root=m["default"].createElement.call(this.document,"div"),m["default"].setAttribute.call(this.root,"id",t.patchId(this.ROOT_ID)),m["default"].setAttribute.call(this.root,"contenteditable","false"),this.addClass(this.root,this.ROOT_CLASS),m["default"].appendChild.call(this.document.body,this.root);for(var n=0;n<g.EVENTS.length;n++)this.root.addEventListener(g.EVENTS[n],w.stopPropagation);this._bringRootToWindowTopLeft(),m["default"].documentAddEventListener.call(this.document,"DOMContentLoaded",function(){e.onBodyElementMutation(),e._bringRootToWindowTopLeft()})}return this.root},t.prototype.attach=function(t){var n=this;e.prototype.attach.call(this,t,t.document),this._overrideDocumentMethods(t.document),this._overrideElementMethods(t),this.iframeSandbox.on(this.iframeSandbox.RUN_TASK_SCRIPT,function(e){var t=e.iframe.contentDocument.head;n._restoreUIStyleSheets(t,n._getUIStyleSheetsHtml())}),this.nodeMutation.on(this.nodeMutation.BEFORE_DOCUMENT_CLEANED_EVENT,function(){n.uiStyleSheetsHtmlBackup=n._getUIStyleSheetsHtml()}),this.nodeMutation.on(this.nodeMutation.DOCUMENT_CLEANED_EVENT,function(e){n._restoreUIStyleSheets(e.document.head,n.uiStyleSheetsHtmlBackup),n.uiStyleSheetsHtmlBackup=null}),this.nodeMutation.on(this.nodeMutation.DOCUMENT_CLOSED_EVENT,function(e){n._restoreUIStyleSheets(e.document.head,n.uiStyleSheetsHtmlBackup),n.uiStyleSheetsHtmlBackup=null}),this.nodeMutation.on(this.nodeMutation.BODY_CONTENT_CHANGED_EVENT,function(e){var r=e[u["default"].processedContext];r!==t?n.messageSandbox.sendServiceMsg({cmd:n.BODY_CONTENT_CHANGED_COMMAND},r):n.onBodyElementMutation()}),this.messageSandbox.on(this.messageSandbox.SERVICE_MSG_RECEIVED_EVENT,function(e){e.message.cmd===n.BODY_CONTENT_CHANGED_COMMAND&&n.onBodyElementMutation()})},t.prototype.onBodyElementMutation=function(){if(this.root&&this.document.body){var e=v.closest(this.root,"html"),t=!this.root.nextElementSibling,n=this.root.parentNode===this.document.body;e&&t&&n||this.nativeMethods.appendChild.call(this.document.body,this.root)}},t.prototype.getFirstChild=function(e){var n=t._filterNodeList(e.childNodes);return n.length&&n[0]?n[0]:null},t.prototype.getFirstElementChild=function(e){for(var n=t._filterNodeList(e.childNodes),r=n.length,o=0;o<r;o++)if(v.isElementNode(n[o]))return n[o];return null},t.prototype.getLastChild=function(e){var n=t._filterNodeList(e.childNodes),r=n.length-1;return r>=0?n[r]:null},t.prototype.getLastElementChild=function(e){for(var n=t._filterNodeList(e.childNodes),r=n.length,o=r-1;o>=0;o--)if(v.isElementNode(n[o]))return n[o];return null},t.checkElementsPosition=function(e){if(e.length){var t=e[0].parentNode,n=[];if(t){for(var r=0;r<e.length;r++)v.isShadowUIElement(e[r])&&n.push(e[r]);for(var o=0;o<n.length;o++)m["default"].appendChild.call(t,n[o])}}},t.isShadowContainer=function(e){return!!v.isDomElement(e)&&(v.isBodyElement(e)||v.isHeadElement(e))},t.isShadowContainerCollection=function(e){try{if(e&&e.length&&!v.isWindow(e)&&e[0]&&e[0].nodeType){var n=e[0].parentNode;if(n&&(n.childNodes===e||n.children===e))return t.isShadowContainer(n)}}catch(r){}return!1},t.isShadowUIMutation=function(e){return!(!e.removedNodes||1!==e.removedNodes.length||!v.isShadowUIElement(e.removedNodes[0]))||!(!e.addedNodes||1!==e.addedNodes.length||!v.isShadowUIElement(e.addedNodes[0]))},t.removeSelfRemovingScripts=function(e){for(var t=m["default"].querySelectorAll.call(e,"."+_["default"].selfRemovingScript),n=0;n<t.length;n++){var r=t[n];m["default"].removeChild.call(r.parentNode,r)}},t.prototype.addClass=function(e,n){var r=t.patchClassNames(n);v.addClass(e,r)},t.prototype.removeClass=function(e,n){var r=t.patchClassNames(n);v.removeClass(e,r)},t.hasClass=function(e,n){var r=t.patchClassNames(n);return v.hasClass(e,r)},t.patchId=function(e){return e+_["default"].postfix},t.patchClassNames=function(e){for(var t=e.split(/\s+/),n=0;n<t.length;n++)t[n]+=_["default"].postfix;return t.join(" ")},t.prototype.select=function(e,t){var n=e.replace(this.CLASSNAME_REGEX,function(e){return e+_["default"].postfix});return t?m["default"].elementQuerySelectorAll.call(t,n):m["default"].querySelectorAll.call(this.document,n)},t.prototype.setBlind=function(e){e?this.addClass(this.getRoot(),this.BLIND_CLASS):this.removeClass(this.getRoot(),this.BLIND_CLASS)},t.prototype.getLastActiveElement=function(){return this.lastActiveElement},t.prototype.setLastActiveElement=function(e){this.lastActiveElement=e},t.prototype.insertBeforeRoot=function(e){var t=this.getRoot().parentNode;return m["default"].insertBefore.call(t,e,t.lastChild)},t}(p["default"]);e["default"]=x,t.exports=e["default"]},storages:{"index.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var l=n("../base"),u=o(l),c=n("./wrapper"),p=o(c),d=n("../../settings"),f=o(d),h=n("../../utils/destination-location"),m=r(h),y=n("../native-methods"),v=r(y),g=n("../../utils/dom"),E=n("../../../processing/dom/internal-properties"),b=o(E),_="hammerhead|storage-wrapper|",S=function(e){function t(n,r,o){i(this,t);var a=s(this,e.call(this));return a.localStorage=null,a.sessionStorage=null,a.listeners=n,a.unloadSandbox=r,a.eventSimulator=o,a.storages={},a}return a(t,e),t._getStorageKey=function(e,t){return _+e+"|"+t},t.prototype._simulateStorageEvent=function(e,t,n,r,o){this.isDeactivated()||this.eventSimulator.storage(this.window,{key:e,oldValue:t,newValue:n,url:r,storageArea:o})},t.prototype._createStorageWrappers=function(){var e=this,n=f["default"].get().sessionId,r=m.getParsed().host,o=t._getStorageKey(n,r),i=(0,g.getTopSameDomainWindow)(this.window),s=i[b["default"].hammerheadPropertyName].sandbox.storageSandbox.storages;s[o]?(this.localStorage=s[o].localStorage,this.sessionStorage=s[o].sessionStorage):(this.localStorage=new p["default"](this.window,this.window.localStorage,o),this.sessionStorage=new p["default"](this.window,this.window.sessionStorage,o),this.unloadSandbox.on(this.unloadSandbox.BEFORE_UNLOAD_EVENT,function(){e.localStorage.saveToNativeStorage(),e.sessionStorage.saveToNativeStorage()}),s[o]={localStorage:this.localStorage,sessionStorage:this.sessionStorage})},t.prototype._overrideStorageEvent=function(){this.window.StorageEvent=function(e,t){if(0===arguments.length)throw new TypeError;var n=t.storageArea||null;n&&delete t.storageArea;var r=new v.StorageEvent(e,t);return n&&Object.defineProperty(r,"storageArea",{get:function(){return n},set:function(){}}),r}},t.prototype.attach=function(t){var n=this;e.prototype.attach.call(this,t),this._createStorageWrappers();var r=function(e,t,r,o,i){i.getContext()!==n.window&&n._simulateStorageEvent(e,t,r,o,i)};this.localStorage.on(this.localStorage.STORAGE_CHANGED_EVENT,function(e){
return r(e.key,e.oldValue,e.newValue,e.url,n.localStorage)}),this.sessionStorage.on(this.sessionStorage.STORAGE_CHANGED_EVENT,function(e){return r(e.key,e.oldValue,e.newValue,e.url,n.sessionStorage)}),this.listeners.initElementListening(t,["storage"]),this.listeners.addInternalEventListener(t,["storage"],function(e,t,n){t||n()}),this._overrideStorageEvent()},t}(u["default"]);e["default"]=S,t.exports=e["default"]},"wrapper.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=[];for(var t in s.prototype)e.push(t);return e}function s(e,t,n){var r=this,o=arguments;this.eventEmitter=new l["default"],this.on=function(e,t){return r.eventEmitter.on(e,t)},this.emit=function(e,t){return r.eventEmitter.emit(e,t)},this.nativeStorage=t,this.nativeStorageKey=n,this.lastState=null,this.window=e,this.initialProperties=[],this.wrapperMethods=[],this.context=e,this.STORAGE_CHANGED_EVENT="hammerhead|event|storage-changed",this.EMPTY_OLD_VALUE_ARG=u.isIE?"":null;var s=function(){var e=[];for(var t in r)r.hasOwnProperty(t)&&r.initialProperties.indexOf(t)===-1&&e.push(t);return e};Object.defineProperty(this,"length",{get:function(){return s().length},set:function(){}});var a=function(){var e=r.nativeStorage[r.nativeStorageKey];e=JSON.parse(e||"[[],[]]");for(var t=0;t<e[m].length;t++)r[e[m][t]]=e[y][t]},p=function(){for(var e=s(),t=[[],[]],n=0;n<e.length;n++)t[m].push(e[n]),t[y].push(r[e[n]]);return t},v=function(e,t,n){var o=null;try{var i=(0,c.parseProxyUrl)(r.context.location.toString());o=i?i.destUrl:d.get()}catch(s){r.context=r.window,o=d.get()}r.emit(r.STORAGE_CHANGED_EVENT,{key:e,oldValue:t,newValue:n,url:o})},g=function(){for(var e=p(),t=0;t<r.lastState[m].length;t++){var n=r.lastState[m][t],o=r.lastState[y][t],i=e[m].indexOf(n);i!==-1?(e[y][i]!==o&&v(e[m][i],o,e[y][i]),e[m].splice(i,1),e[y].splice(i,1)):v(n,o,null)}for(var s=0;s<e[m].length;s++)v(e[m][s],r.EMPTY_OLD_VALUE_ARG,e[y][s]);r.lastState=p()},E=function(){a(),r.lastState=p(),e.setInterval(function(){return g()},10)};this.setContext=function(e){r.context=e},this.getContext=function(){return r.context},this.saveToNativeStorage=function(){var e=JSON.stringify(p());r.nativeStorage[r.nativeStorageKey]!==e&&(r.nativeStorage[r.nativeStorageKey]=e)};var b=function(e){return r.nativeStorage[f]=e,r.nativeStorage[f]},_=function(e){var t=r.wrapperMethods.indexOf(e)!==-1||r.initialProperties.indexOf(e)!==-1;return e=t?h+e:e,b(e)};this.clear=function(){for(var e=s(),t=!1,n=0;n<e.length;n++)delete r[e[n]],t=!0;t&&(v(null,null,null),r.lastState=p())},this.getItem=function(e){if(0===o.length)throw new TypeError;return e=_(e),r.hasOwnProperty(e)?r[e]:null},this.key=function(e){if(void 0===e)throw new TypeError;e%=4294967296;var t=s();return e>=0&&e<t.length?t[e]:null},this.removeItem=function(e){if(0===o.length)throw new TypeError;e=_(e),delete r[e],g()},this.setItem=function(e,t){if(o.length<2)throw new TypeError;e=_(e),t=b(t),r[e]=t,g()},this.initialProperties=Object.getOwnPropertyNames(this),this.wrapperMethods=i(),E()}e.__esModule=!0,e["default"]=s;var a=n("../../utils/event-emitter"),l=o(a),u=n("../../utils/browser"),c=n("../../utils/url"),p=n("../../utils/destination-location"),d=r(p),f="hammerhead|storages-sandbox-temp",h="hammerhead|api-key-prefix|",m=0,y=1;s.prototype=Storage.prototype,t.exports=e["default"]}},"timers.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("./base"),l=r(a),u=n("./native-methods"),c=r(u),p=n("../../processing/script"),d=n("../utils/browser"),f=function(e){function t(){o(this,t);var n=i(this,e.call(this));return n.timeouts=[],n.deferredFunctions=[],n.setTimeout=c["default"].setTimeout,n}return s(t,e),t.prototype._wrapTimeoutFunctionsArguments=function(e){var t=this,n="string"==typeof e[0],r=n?null:e[0],o=n?(0,p.processScript)(e[0],!1):null;if(d.isIE&&d.version<12){var i=this,s=n?function(){var e=t.window.eval;return e(o)}:r;e[0]=function(){return i._callDeferredFunction(s,arguments)}}else n&&(e[0]=o);return e},t.prototype._callDeferredFunction=function(e,t){if(this.timeouts.length){for(var n=[],r=[],o=0;o<this.timeouts.length;o++)n.push(this.timeouts[o]),r.push(this.deferredFunctions[o]);this.timeouts=[],this.deferredFunctions=[];for(var i=0;i<n.length;i++)c["default"].clearInterval.call(this.window,n[i]),r[i]();return this._callDeferredFunction(e,t)}return e.apply(this.window,t)},t.prototype.attach=function(t){e.prototype.attach.call(this,t);var n=this;t.setTimeout=function(){for(var e=new Array(arguments.length),r=0;r<e.length;++r)e[r]=arguments[r];return c["default"].setTimeout.apply(t,n._wrapTimeoutFunctionsArguments(e))},t.setInterval=function(){for(var e=new Array(arguments.length),r=0;r<e.length;++r)e[r]=arguments[r];return c["default"].setInterval.apply(t,n._wrapTimeoutFunctionsArguments(e))},this.setTimeout=t.setTimeout},t.prototype.deferFunction=function(e){var t=this,n=function r(){e();for(var n=0;n<t.deferredFunctions.length;n++)if(t.deferredFunctions[n]===r){t.deferredFunctions.splice(n,1),t.timeouts.splice(n,1);break}};this.deferredFunctions.push(n),this.timeouts.push(c["default"].setTimeout.call(window,n,0))},t}(l["default"]);e["default"]=f,t.exports=e["default"]},upload:{"file-list-wrapper.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function e(t){r(this,e),Object.defineProperty(this,"length",{get:function(){return t.length}});for(var n=0;n<t.length;n++)this[n]=e._createFileWrapper(t[n])}return e.prototype.item=function(e){return this[e]},e._base64ToBlob=function(e,t,n){t=t||"",n=n||512;for(var r=atob(e),o=[],i=0;i<r.length;i+=n){for(var s=r.slice(i,i+n),a=new Array(s.length),l=0;l<s.length;l++)a[l]=s.charCodeAt(l);o.push(new Uint8Array(a))}return new Blob(o,{type:t})},e._createFileWrapper=function(t){var n=null;return n=window.Blob?t.blob?new Blob([t.blob],{type:t.info.type}):e._base64ToBlob(t.data,t.info.type):{size:t.info.size,type:t.info.type},n.name=t.info.name,n.lastModifiedDate=new Date(t.info.lastModifiedDate),n.base64=t.data,n},e}();e["default"]=o,window.FileList&&(o.prototype=FileList.prototype),t.exports=e["default"]},"hidden-info.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=h["default"].createElement.call(document,"input");return t.type="hidden",t.name=d["default"].uploadInfoHiddenInputName,t.value="[]",h["default"].appendChild.call(e,t),t}function i(e){var t='[name="'+d["default"].uploadInfoHiddenInputName+'"]';return h["default"].elementQuerySelector.call(e,t)||o(e)}function s(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t.id||e[n].name===t.name)return n;return-1}function a(e,t,n){var r=l(e);if(r){var o=[];t=m.call(t);for(var i=0,a=t.length;i<a;i++){var c=t[i];o.push({name:c.name,type:c.type,data:c.base64})}var p=s(r,e),d={id:e.id,name:e.name,files:o,value:n};p===-1?r.push(d):r[p]=d,u(e,r)}}function l(e){return e.form?JSON.parse(i(e.form).value):null}function u(e,t){if(e.form){var n=i(e.form);n.value=JSON.stringify(t)}}function c(e){var t=l(e);if(t){var n=s(t,e);if(n!==-1)return t.splice(n,1),u(e,t),!0}return!1}e.__esModule=!0,e.addInputInfo=a,e.getFormInfo=l,e.setFormInfo=u,e.removeInputInfo=c;var p=n("../../../processing/dom/internal-attributes"),d=r(p),f=n("../native-methods"),h=r(f),m=Array.prototype.slice},"index.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("../../../processing/dom/internal-properties"),l=r(a),u=n("../base"),c=r(u),p=n("./info-manager"),d=r(p),f=n("../../utils/dom"),h=n("../../utils/browser"),m=n("../../utils/event"),y=n("../backup"),v=function(e){function t(n,r,s){o(this,t);var a=i(this,e.call(this));return a.START_FILE_UPLOADING_EVENT="hammerhead|event|start-file-uploading",a.END_FILE_UPLOADING_EVENT="hammerhead|event|end-file-uploading",a.infoManager=new d["default"](s),a.listeners=n,a.eventSimulator=r,a}return s(t,e),t.prototype._riseChangeEvent=function(e){this.eventSimulator.change(e)},t._getCurrentInfoManager=function(e){var t=e[l["default"].processedContext];return(0,y.get)(t).upload.infoManager},t.prototype.attach=function(n){var r=this;e.prototype.attach.call(this,n),this.listeners.addInternalEventListener(n,["change"],function(e,n){var o=e.target,i=t._getCurrentInfoManager(o);if((0,f.isFileInput)(o)&&!n&&((0,m.stopPropagation)(e),(0,m.preventDefault)(e),o.value||i.getValue(o))){var s=d["default"].getFileNames(o.files,o.value);r.emit(r.START_FILE_UPLOADING_EVENT,s,o),i.loadFileListData(o,o.files).then(function(e){return i.setUploadInfo(o,e,o.value),d["default"].sendFilesInfoToServer(e,s)}).then(function(e){r._riseChangeEvent(o),r.emit(r.END_FILE_UPLOADING_EVENT,e)})}}),h.isIE&&this.listeners.addInternalEventListener(n,["click"],function(e,t){var n=e.target||e.srcElement;(0,f.isFileInput)(n)&&t&&(0,m.preventDefault)(e,!0)})},t.getFiles=function(e){return void 0!==e.files?t._getCurrentInfoManager(e).getFiles(e):void 0},t.getUploadElementValue=function(e){return t._getCurrentInfoManager(e).getValue(e)},t.prototype.setUploadElementValue=function(e,n){return""===n&&t._getCurrentInfoManager(e).clearUploadInfo(e)&&h.isIE&&h.version>10&&this._riseChangeEvent(e),n},t.prototype.doUpload=function(e,n){var r=this,o=t._getCurrentInfoManager(e);return n=n||[],d["default"].loadFilesInfoFromServer(n).then(function(e){return d["default"].prepareFileListWrapper(e)}).then(function(t){if(!t.errs.length){var i=d["default"].formatValue(n);o.setUploadInfo(e,t.fileList,i),r._riseChangeEvent(e)}return t.errs})},t}(c["default"]);e["default"]=v,t.exports=e["default"]},"info-manager.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=n("../../../session/command"),a=o(s),l=n("./file-list-wrapper"),u=o(l),c=n("../native-methods"),p=o(c),d=n("../../transport"),f=o(d),h=n("../../settings"),m=o(h),y=n("../../utils/browser"),v=r(y),g=n("./hidden-info"),E=r(g),b=n("../../../shadow-ui/class-name"),_=o(b),S=n("pinkie"),w=o(S),x="C:\\fakepath\\",T="uploadIframeForIE9"+_["default"].postfix,C=function(){function e(t){i(this,e),this.shadowUI=t,this.uploadInfo=[]}return e._getFileListData=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].base64);return t},e._getUploadIframeForIE9=function(){var e=p["default"].querySelector.call(document,"#"+T);return e||(e=p["default"].createElement.call(document,"iframe"),p["default"].setAttribute.call(e,"id",T),p["default"].setAttribute.call(e,"name",T),e.style.display="none",p["default"].appendChild.call(this.shadowUI.getRoot(),e)),e},e.prototype._loadFileListDataForIE9=function(t){return(0,w["default"])(function(n){var r=t.form;if(r&&t.value){var o=r.target,i=r.action,s=r.method,a=e._getUploadIframeForIE9(),l=function c(){var e=new u["default"]([JSON.parse(a.contentWindow.document.body.innerHTML)]);a.removeEventListener("load",c),n(e)};a.addEventListener("load",l),r.action=m["default"].get().ie9FileReaderShimUrl+"?input-name="+t.name+"&filename="+t.value,r.target=T,r.method="post",p["default"].formSubmit.call(r),r.action=i,r.target=o,r.method=s}else n(new u["default"]([]))})},e.formatValue=function(e){var t="";if(e="string"==typeof e?[e]:e,e&&e.length)if(v.isWebKit)t=x+e[0].split("/").pop();else{if(!v.isIE9&&!v.isIE10)return e[0].split("/").pop();for(var n=[],r=0;r<e.length;r++)n.push(x+e[r].split("/").pop());t=n.join(", ")}return t},e.getFileNames=function(e,t){var n=[];if(e)for(var r=0;r<e.length;r++)n.push(e[r].name);else t.lastIndexOf("\\")!==-1&&n.push(t.substr(t.lastIndexOf("\\")+1));return n},e.loadFilesInfoFromServer=function(e){return f["default"].asyncServiceMsg({cmd:a["default"].getUploadedFiles,filePaths:"string"==typeof e?[e]:e})},e.prepareFileListWrapper=function(e){for(var t=[],n=[],r=0;r<e.length;r++)e[r].err?t.push(e[r]):n.push(e[r]);return{errs:t,fileList:new u["default"](n)}},e.sendFilesInfoToServer=function(t,n){return f["default"].asyncServiceMsg({cmd:a["default"].uploadFiles,data:e._getFileListData(t),fileNames:n})},e.prototype.clearUploadInfo=function(e){var t=this.getUploadInfo(e);return t?(t.files=new u["default"]([]),t.value="",E.removeInputInfo(e)):null},e.prototype.getFiles=function(e){var t=this.getUploadInfo(e);return t?t.files:new u["default"]([])},e.prototype.getUploadInfo=function(e){for(var t=0;t<this.uploadInfo.length;t++)if(this.uploadInfo[t].input===e)return this.uploadInfo[t];return null},e.prototype.getValue=function(e){var t=this.getUploadInfo(e);return t?t.value:""},e.prototype.loadFileListData=function(e,t){return v.isIE9?this._loadFileListDataForIE9(e):t.length?new w["default"](function(e){var n=0,r=new FileReader,o=t[n],i=[];r.addEventListener("load",function(s){i.push({data:s.target.result.substr(s.target.result.indexOf(",")+1),blob:o.slice(0,o.size),info:{type:o.type,name:o.name,lastModifiedDate:o.lastModifiedDate}}),t[++n]?(o=t[n],r.readAsDataURL(o)):e(new u["default"](i))}),r.readAsDataURL(o)}):w["default"].resolve(new u["default"]([]))},e.prototype.setUploadInfo=function(e,t,n){var r=this.getUploadInfo(e);r||(r={input:e},this.uploadInfo.push(r)),r.files=t,r.value=n,E.addInputInfo(e,t,n)},e}();e["default"]=C,t.exports=e["default"]}},"windows-storage.js":function(e,t,n){function r(){var e=(0,a.getTopSameDomainWindow)(window),t=e[l];return t||(t=[],e[l]=t),t}function o(e){for(var t=r(),n=t.length-1;n>=0;n--)try{if(t[n]===e)return}catch(o){t.splice(n,1)}t.push(e)}function i(e){var t=r(),n=t.indexOf(e);n!==-1&&t.splice(n,1)}function s(e){for(var t=r(),n=0;n<t.length;n++)try{if(t[n].name===e)return t[n]}catch(o){t.splice(n,1),n--}return null}e.__esModule=!0,e.add=o,e.remove=i,e.findByName=s;var a=n("../utils/dom"),l="hammerhead|windows-storage"},"xhr.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("./base"),l=r(a),u=n("./native-methods"),c=r(u),p=n("../utils/url"),d=n("../../request-pipeline/xhr/headers"),f=r(d),h=n("../../request-pipeline/xhr/authorization"),m=r(h),y=n("../utils/destination-location"),v=n("../../utils/regexp-escape"),g=r(v),E="hammerhead|xhr|is-opened-xhr",b=new RegExp((0,g["default"])(f["default"].setCookie)+":[^\n]*\n","g"),_=function(e){function t(n){o(this,t);var r=i(this,e.call(this));r.XHR_COMPLETED_EVENT="hammerhead|event|xhr-completed",r.XHR_ERROR_EVENT="hammerhead|event|xhr-error",r.XHR_SEND_EVENT="hammerhead|event|xhr-send",r.cookieSandbox=n;var s=new c["default"].XMLHttpRequest;return r.corsSupported="undefined"!=typeof s.withCredentials,r}return s(t,e),t.isOpenedXhr=function(e){return e[E]},t.createNativeXHR=function(){var e=new c["default"].XMLHttpRequest;return e.open=c["default"].xhrOpen,e.abort=c["default"].xhrAbort,e.send=c["default"].xhrSend,e.addEventListener=c["default"].xhrAddEventListener,e.removeEventListener=c["default"].xhrRemoveEventListener,e},t.prototype.attach=function(t){e.prototype.attach.call(this,t);var n=this,r=t.XMLHttpRequest.prototype,o=function i(){if(!(this.readyState<this.HEADERS_RECEIVED)){var e=c["default"].xhrGetResponseHeader.call(this,f["default"].setCookie);if(e){e=JSON.parse(e);for(var r=e,o=Array.isArray(r),s=0,r=o?r:r[Symbol.iterator]();;){var a;if(o){if(s>=r.length)break;a=r[s++]}else{if(s=r.next(),s.done)break;a=s.value}var l=a;n.cookieSandbox.setCookie(t.document,l)}}c["default"].xhrRemoveEventListener.call(this,"readystatechange",i)}};r.abort=function(){c["default"].xhrAbort.apply(this,arguments),n.emit(n.XHR_ERROR_EVENT,{err:new Error("XHR aborted"),xhr:this})},r.open=function(){this[E]=!0,n.corsSupported||(this.withCredentials=!1),"string"==typeof arguments[1]&&(arguments[1]=(0,p.getProxyUrl)(arguments[1])),c["default"].xhrAddEventListener.call(this,"readystatechange",o),c["default"].xhrOpen.apply(this,arguments)},r.send=function(){var e=this,t=this;n.emit(n.XHR_SEND_EVENT,{xhr:t});var r=function(){4===e.readyState&&n.emit(n.XHR_COMPLETED_EVENT,{xhr:t})};4===this.readyState?r():c["default"].setTimeout.call(n.window,function(){if(4===e.readyState)r();else if("function"==typeof e.onreadystatechange){var t=e.onreadystatechange;e.onreadystatechange=function(n){r(),t.call(e,n)}}else e.addEventListener("readystatechange",r,!1)},0),c["default"].xhrSetRequestHeader.call(this,f["default"].requestMarker,"true"),c["default"].xhrSetRequestHeader.call(this,f["default"].origin,(0,y.getOriginHeader)()),n.corsSupported&&c["default"].xhrSetRequestHeader.call(this,f["default"].corsSupported,"true"),this.withCredentials&&c["default"].xhrSetRequestHeader.call(this,f["default"].withCredentials,"true"),c["default"].xhrSend.apply(this,arguments),o.call(this)},r.getResponseHeader=function(e){return e===f["default"].setCookie?null:c["default"].xhrGetResponseHeader.call(this,e)},r.getAllResponseHeaders=function(){var e=c["default"].xhrGetAllResponseHeaders.call(this);return e?e.replace(b,""):e},r.setRequestHeader=function(e,t){return"string"==typeof e&&m["default"].headers.indexOf(e.toLowerCase())!==-1&&(t=m["default"].valuePrefix+t),c["default"].xhrSetRequestHeader.call(this,e,t)}},t}(l["default"]);e["default"]=_,t.exports=e["default"]}},"settings.js":function(e,t,n){e.__esModule=!0;var r={settings:{},set:function(e){this.settings=e},get:function(){return this.settings}};e["default"]=r,t.exports=e["default"]},"transport.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.__esModule=!0;var a=n("./utils/event-emitter"),l=r(a),u=n("../session/command"),c=r(u),p=n("./sandbox/native-methods"),d=r(p),f=n("./settings"),h=r(f),m=n("./sandbox/xhr"),y=r(m),v=n("./json"),g=n("./utils/browser"),E=n("pinkie"),b=r(E),_=function(e){function t(){o(this,t);var n=i(this,e.call(this));return n.SWITCH_BACK_TO_ASYNC_XHR_DELAY=2e3,n.SERVICE_MESSAGES_WAITING_INTERVAL=50,n.MSG_RECEIVED_EVENT="hammerhead|event|message-received",n.msgQueue={},n.useAsyncXhr=!0,n.activeServiceMessagesCounter=0,window.addEventListener("beforeunload",function(){n.useAsyncXhr=!1,d["default"].setTimeout.call(window,function(){return n.useAsyncXhr=!0,n.SWITCH_BACK_TO_ASYNC_XHR_DELAY})},!0),n}return s(t,e),t._createXMLHttpRequest=function(e){var t=y["default"].createNativeXHR();return t.open("POST",h["default"].get().serviceMsgUrl,e),t.setRequestHeader("Cache-Control","no-cache, no-store, must-revalidate"),t},t._storeMessage=function(e){var n=t._getStoredMessages();n.push(e),window.localStorage.setItem(h["default"].get().sessionId,(0,v.stringify)(n))},t._getStoredMessages=function(){var e=window.localStorage.getItem(h["default"].get().sessionId);return e?(0,v.parse)(e):[]},t._removeMessageFromStore=function(e){for(var n=t._getStoredMessages(),r=0;r<n.length;r++)if(n[r].cmd===e){n.splice(r,1);break}window.localStorage.setItem(h["default"].get().sessionId,(0,v.stringify)(n))},t.prototype._cookieMsgInProgress=function(){return this.msgQueue[c["default"].setCookie]&&!!this.msgQueue[c["default"].setCookie].length},t.prototype._sendNextQueuedMsg=function(e){var t=this,n=this.msgQueue[e][0];this.asyncServiceMsg(n.msg).then(function(r){n.callback&&n.callback(r),t.msgQueue[e].shift(),t.emit(t.MSG_RECEIVED_EVENT,{}),t.msgQueue[e].length&&t._sendNextQueuedMsg(e)})},t.prototype._performRequest=function(e,n){var r=this;e.sessionId=h["default"].get().sessionId,isIframeWithoutSrc&&(e.referer=h["default"].get().referer);var o=function i(o){r.activeServiceMessagesCounter++;var s=r.useAsyncXhr;o&&(s=!1);var a=r,l=t._createXMLHttpRequest(s),u=function(){a.activeServiceMessagesCounter--,n(this.responseText&&(0,v.parse)(this.responseText))},c=function(){e.disableResending||(g.isWebKit?(t._storeMessage(e),u.call(this)):i(!0))};o?l.addEventListener("readystatechange",function(){4===this.readyState&&u.call(this)}):g.isIE9?l.addEventListener("readystatechange",function(){if(4===this.readyState){var e=0;try{e=this.status}catch(t){c()}200===e&&u.call(this)}}):(l.addEventListener("load",u),l.addEventListener("abort",c),l.addEventListener("error",c),l.addEventListener("timeout",c)),l.send((0,v.stringify)(e))};t._removeMessageFromStore(e.cmd),o()},t.prototype.waitCookieMsg=function(e){var t=this,n=function r(){t._cookieMsgInProgress()||(t.off(t.MSG_RECEIVED_EVENT,r),e())};this._cookieMsgInProgress()?this.on(this.MSG_RECEIVED_EVENT,n):e()},t.prototype.waitForServiceMessagesCompleted=function(e){var t=this;return new b["default"](function(n){if(!t.activeServiceMessagesCounter)return void n();var r=null,o=window.setTimeout(function(){d["default"].clearInterval.call(window,r),n()},e);r=window.setInterval(function(){t.activeServiceMessagesCounter||(d["default"].clearInterval.call(window,r),d["default"].clearTimeout.call(window,o),n())},t.SERVICE_MESSAGES_WAITING_INTERVAL)})},t.prototype.asyncServiceMsg=function(e){var t=this;return new b["default"](function(n){t._performRequest(e,function(e){return n(e)})})},t.prototype.batchUpdate=function(){var e=t._getStoredMessages();if(e.length){var n=[];window.localStorage.removeItem(h["default"].get().sessionId);for(var r=0,o=e.length;r<o;r++)n.push(this.queuedAsyncServiceMsg(e[r]));return b["default"].all(n)}return b["default"].resolve()},t.prototype.queuedAsyncServiceMsg=function(e){var t=this;return new b["default"](function(n){t.msgQueue[e.cmd]||(t.msgQueue[e.cmd]=[]),t.msgQueue[e.cmd].push({msg:e,callback:n}),1===t.msgQueue[e.cmd].length&&t._sendNextQueuedMsg(e.cmd)})},t}(l["default"]);e["default"]=new _,t.exports=e["default"]},utils:{"browser.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0,e.isTouchDevice=e.hasTouchPoints=e.hasTouchEvents=e.isElectron=e.isWebKit=e.isSafari=e.isChrome=e.isMSEdge=e.isFirefox=e.isIE9=e.isIE10=e.isIE11=e.isIE=e.version=e.isIOS=e.isAndroid=e.isMacPlatform=void 0;var o=n("bowser"),i=r(o),s=navigator.userAgent.toLowerCase(),a=i["default"]._detect(s),l=(e.isMacPlatform=!!a.mac,e.isAndroid=!!a.android,e.isIOS=!!a.ios,e.version=parseInt(a.version,10)),u=e.isIE=!(!a.msie&&!a.msedge),c=(e.isIE11=u&&11===l,e.isIE10=u&&10===l,e.isIE9=u&&9===l,e.isFirefox=!!a.firefox,e.isMSEdge=!!a.msedge,e.isChrome=!!a.chrome,e.isSafari=!!a.safari,e.isWebKit=!(!a.webkit&&!a.blink),e.isElectron=/electron/gi.test(s),e.hasTouchEvents=!!("ontouchstart"in window));e.hasTouchPoints=u&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),e.isTouchDevice=!(!a.mobile&&!a.tablet)&&c},"cookie.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){e=(0,u["default"])(e);var t=p.exec(e);t&&(e=e.slice(0,t.index));var n=e.indexOf(";"),r=n>-1?e.substr(0,n):e,o=c.exec(r);if(!o)return null;var i={key:o[1]?(0,u["default"])(o[2]):"",value:(0,u["default"])(o[3])};if(n===-1)return i;var s=(0,u["default"])(e.slice(n).replace(/^\s*;\s*/,""));if(0===s.length)return i;for(var a=s.split(/\s*;\s*/);a.length;){var l=a.shift(),d=l.indexOf("="),f=null,h=null;switch(d===-1?f=l:(f=l.substr(0,d),h=(0,u["default"])(l.substr(d+1))),f=(0,u["default"])(f.toLowerCase())){case"expires":case"max-age":case"path":i[f]=h;break;case"secure":case"httponly":i[f]=!0;break;case"domain":i.domain=(0,u["default"])(h.replace(/^\./,""))}}return i}function i(e){var t=e.value||"";""!==e.key&&(t=e.key+"="+t),t+=";";for(var n in e)e.hasOwnProperty(n)&&"key"!==n&&"value"!==n&&(t+=n,void 0!==e[n]&&e[n]!==!0&&(t+="="+e[n]),t+=";");return t}function s(e,t){for(var n=e.cookie.split(";"),r=0;r<n.length;r++){var o=(0,u["default"])(n[r]);if(0===o.indexOf(t+"=")||o===t)return o}return null}function a(e,t){t.expires="Thu, 01 Jan 1970 00:00:01 GMT",t.value="",e.cookie=i(t)}e.__esModule=!0,e.parse=o,e.format=i,e.get=s,e.del=a;var l=n("../../utils/string-trim"),u=r(l),c=/^((?:=)?([^=;]*)\s*=\s*)?([^\n\r\0]*)/,p=/;+$/},"create-property-desc.js":function(e,t,n){function r(e){return e.configurable=!0,e.enumerable=!0,e}e.__esModule=!0,e["default"]=r,t.exports=e["default"]},"destination-location.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(){if(S)return S;var e=v.getFrameElement(window);return e&&v.isIframeWithoutSrc(e)?_["default"].get().referer:window.location.toString()}function s(e){S=e}function a(e,t,n){return t&&(t=l(t)),m.sameOriginCheck(e,t,n)}function l(e,t){return e=m.prepareUrl(e),e&&0===e.indexOf("//")&&(e=d().protocol+e),E.resolve(e,t||document)}function u(){var e=i();return m.parseProxyUrl(e).destUrl}function c(e){var t=u();return t=t.replace(/(#.*)$/,""),t+e}function p(){var e=m.parseProxyUrl(i());return e.partAfterHost.replace(e.destResourceInfo.partAfterHost,"")}function d(){var e=E.getResolverElement(document),t=u(),n=m.parseUrl(t);e.href=u();var r=0===e.pathname.indexOf("/")?e.pathname:"/"+e.pathname;return{protocol:e.protocol,port:n.port?e.port:"",hostname:e.hostname,host:n.port?e.host:e.host.replace(/:\d+$/,""),pathname:r,hash:e.hash,search:e.search}}function f(){var e=d();return"file:"===e.protocol?u():m.getDomain(e)}e.__esModule=!0,e.forceLocation=s,e.sameOriginCheck=a,e.resolveUrl=l,e.get=u,e.withHash=c,e.getCookiePathPrefix=p,e.getParsed=d,e.getOriginHeader=f;var h=n("../../utils/url"),m=o(h),y=n("./dom"),v=o(y),g=n("./url-resolver"),E=o(g),b=n("../settings"),_=r(b),S=null},"dom.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(){return'input, select, textarea, button, body, iframe, [contenteditable="true"], [contenteditable=""], [tabIndex]'}function s(e){return e.offsetWidth<=0&&e.offsetHeight<=0}function a(e){var t=M(e),n=/select|option|applet|area|audio|canvas|datalist|keygen|map|meter|object|progress|source|track|video|img/,r=/input|textarea|button/;return t&&(n.test(t)||r.test(t))}function l(e,t){for(;e;){if(Ce(e,t))return e;e=e.parentNode}return null}function u(e,t){if(t){for(var n=t.split(/\s+/),r=" "+e.className+" ",o=0;o<n.length;o++)r.indexOf(" "+n[o]+" ")===-1&&(r+=n[o]+" ");e.className=(0,$e["default"])(r)}}function c(e,t){if(e.className&&t){var n=(t||"").split(/\s+/);t=(" "+e.className+" ").replace(/[\n\t\r]/g," ");for(var r=0;r<n.length;r++)t=t.replace(" "+n[r]+" "," ");e.className=(0,$e["default"])(t)}}function p(e,t){var n=(" "+e.className+" ").replace(/[\n\t\r]/g," ");return t=" "+t+" ",n.indexOf(t)!==-1}function d(e){return Je.instanceAndPrototypeToStringAreEqual?e&&"object"==typeof e?We["default"].objectToString.call(Object.getPrototypeOf(e)):"":We["default"].objectToString.call(e)}function f(e){for(var t=e||document,n=N(t.activeElement)?t.activeElement:t.body;n&&n.shadowRoot;){var r=n.shadowRoot.activeElement;if(!r)break;n=r}return n}function h(e,t){var n=S(e);return n.indexOf(t)}function m(e){var t=e[Ue["default"].processedContext];return v(t)}function y(e){var t=null;try{t=e.contentDocument.location.href}catch(n){t=null}var r=We["default"].getAttribute.call(e,"src"+je["default"].storedAttrPostfix)||We["default"].getAttribute.call(e,"src")||e.src,o=t&&qe.isSupportedProtocol(t)&&qe.parseProxyUrl(t),i=r&&qe.isSupportedProtocol(r)&&qe.parseProxyUrl(r);return{documentLocation:o?o.destUrl:t,srcLocation:i?i.destUrl:r}}function v(e){try{return e.frameElement}catch(t){return null}}function g(e){var t=Ae(e,"map"),n=We["default"].getAttribute.call(t,"name"),r='[usemap="#'+n+'"]';return We["default"].querySelector.call(T(e),r)}function E(e){var t=e.parent,n=null;if(e===e.top)return e;if(t===e.top||I(e,t))return t;try{n=t.frameElement}catch(r){n=null}return null!==n&&j(n)?E(t):t}function b(){if(!et){var e=We["default"].createElement.call(document,"div");e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.width="100px",We["default"].appendChild.call(document.body,e);var t=e.offsetWidth-e.clientWidth;et=t,e.parentNode.removeChild(e)}return et}function _(e){return Ae(e.parentNode,"select")}function S(e){var t=We["default"].elementQuerySelectorAll.call(e,"optgroup, option");if(t=Ze.call(t),Ke.isFirefox){for(var n=[],r=0,o=t.length;r<o;r++)("optgroup"!==M(t[r])||t[r].label)&&n.push(t[r]);t=n}return t}function w(e){var t=e,n=e.parent;if(t===e.top)return t;for(;n;){if(!I(e,n)){var r=v(n);r&&j(r)||(t=n)}n=n!==e.top?n.parent:null}return t}function x(e,t,n){var r=(0,Qe["default"])(e).call(e,t);if(n)for(var o=0;o<r.length;o++)n(r[o]);return r}function T(e){return e.documentElement?e:e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument:e.parentNode?T(e.parentNode):document}function C(e){var t=!1,n=null;return n=ge(e)?e.parentElement||e.parentNode:e,n&&(t=n.isContentEditable&&!a(n)&&!me(n)),ee(n)&&(t||"on"===T(e).designMode)}function A(e,t){var n=y(e);if(!t&&null===n.documentLocation)return!0;var r=t?n.srcLocation:n.documentLocation;return!(!r||!qe.isSupportedProtocol(r))&&!(0,Xe.sameOriginCheck)(location.toString(),r)}function I(e,t){try{if(e===t)return!1;var n=e.location.toString(),r=t.location.toString();return!(!qe.isSupportedProtocol(n)||!qe.isSupportedProtocol(r))&&!(0,Xe.sameOriginCheck)(n,r)}catch(o){return!0}}function N(e){return e instanceof We["default"].elementClass||(!e||tt.indexOf(d(e))===-1)&&(e&&!Se(e)&&"string"==typeof e.nodeName&&e.tagName)}function M(e){return e&&"string"==typeof e.tagName?e.tagName.toLowerCase():""}function P(e){return e&&e.nodeType}function O(e,t){var n=t||document;
return n.documentElement.contains(e)}function R(e,t){var n=t||T(e);return window.document!==n}function k(e){return e===je["default"].focusPseudoClass||e===je["default"].hoverPseudoClass||e.indexOf(je["default"].storedAttrPostfix)!==-1}function L(e){return"[object HTMLIFrameElement]"===d(e)}function j(e){var t=y(e),n=t.srcLocation,r=t.documentLocation;if(null===r)return!1;var o=qe.isSupportedProtocol(r);if(!(o||e.attributes.src&&e.attributes.src.value))return!0;var i=E(e.contentWindow),s=qe.parseProxyUrl(i.location.toString()),a=s?s.destUrl:i.location.toString();if(o){var l=qe.isSupportedProtocol(n)?qe.parseUrl(n):null;return(!l||!l.partAfterHost||r!==a)&&r===a}return n===a||(!n||!qe.isSupportedProtocol(n))&&!o}function D(e){return"[object HTMLImageElement]"===d(e)}function U(e){return"[object HTMLInputElement]"===d(e)}function F(e){return"[object HTMLButtonElement]"===d(e)}function B(e){return"[object HTMLHtmlElement]"===d(e)}function H(e){return"[object HTMLBodyElement]"===d(e)}function W(e){return"[object HTMLHeadElement]"===d(e)}function V(e){return"[object HTMLBaseElement]"===d(e)}function q(e){return"[object HTMLScriptElement]"===d(e)}function G(e){return"[object HTMLStyleElement]"===d(e)}function X(e){return"[object HTMLLabelElement]"===d(e)}function K(e){return"[object HTMLTextAreaElement]"===d(e)}function Y(e){return"[object HTMLOptionElement]"===d(e)}function $(e){return"[object HTMLSelectElement]"===d(e)}function z(e){return"[object HTMLFormElement]"===d(e)}function Q(e){return U(e)&&"file"===e.type.toLowerCase()}function J(e){return H(e)&&e.children.length}function Z(e){return nt.indexOf(d(e))!==-1}function ee(e){return!(Ee(e)||be(e)||/^(script|style)$/i.test(e.nodeName))}function te(e){var t=We["default"].getAttribute.call(e,"tabIndex");return t=parseInt(t,10),isNaN(t)?null:t}function ne(e){if(!e)return!1;var t=te(e),n=Ce(e,":disabled"),r="hidden"===(0,Ge.get)(e,"visibility"),o="none"===(0,Ge.get)(e,"display"),a=Ke.isWebKit?s(e)&&!Y(e):s(e);return!(n||r||o||a)&&((!Y(e)||!Ke.isIE)&&(we(e)?t>0||(Ke.isIE&&Ke.version<11?Ce(e,'a[href]:not([href = ""])'):Ce(e,"a[href]")):!(!Te(e)||!Ke.isIE)||(Ce(e,i())||null!==t)))}function re(e){for(;e;){if("BODY"===e.tagName||"HEAD"===e.tagName)return!1;if("string"==typeof e.className&&e.className.indexOf(Be["default"].postfix)>-1)return!0;e=e.parentNode}return!1}function oe(e){if(e instanceof We["default"].windowClass)return!0;try{return e&&e.toString&&rt===d(e)}catch(t){try{return!!e.top}catch(n){return!1}}}function ie(e){if(e instanceof We["default"].documentClass)return!0;try{return e&&ot===d(e)}catch(t){return!1}}function se(e){return e&&(e instanceof XMLHttpRequest||"[object XMLHttpRequest]"===d(e))}function ae(e){return e&&"[object Blob]"===d(e)}function le(e){if(e instanceof We["default"].locationClass)return!0;try{return e&&"object"==typeof e&&void 0!==e.href&&void 0!==e.assign}catch(t){return e.replace&&e.assign}}function ue(e){return e instanceof We["default"].svgElementClass||e&&it.test(d(e))}function ce(e){return!!Ae(e,"svg")}function pe(e){return!!(We["default"].Headers&&e instanceof We["default"].Headers)||e&&"[object Headers]"===d(e)}function de(e){return!!(We["default"].Request&&e instanceof We["default"].Request)||e&&"[object Request]"===d(e)}function fe(e){return e.readOnly||"readonly"===e.getAttribute("readonly")}function he(e){var t=/^(email|number|password|search|tel|text|url)$/,n=e.getAttribute("type");return U(e)&&n?t.test(n):t.test(e.type)}function me(e){return he(e)||K(e)}function ye(e){return me(e)&&!fe(e)}function ve(e){return 1===P(e)}function ge(e){return 3===P(e)}function Ee(e){return 7===P(e)}function be(e){return 8===P(e)}function _e(e){return 9===P(e)}function Se(e){return 11===P(e)}function we(e){return"[object HTMLAnchorElement]"===d(e)}function xe(e){return"[object HTMLTableElement]"===d(e)}function Te(e){return d(e)===st}function Ce(e,t){if(!e)return!1;var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return!!n&&n.call(e,t)}function Ae(e,t){return e&&e.closest?e.closest(t):l(e,t)}function Ie(e,t){if(e)if(e&&e.classList)for(var n=t.split(/\s+/),r=0,o=n.length;r<o;r++)e.classList.add(n[r]);else u(e,t)}function Ne(e,t){if(e)if(e.classList)for(var n=t.split(/\s+/),r=0,o=n.length;r<o;r++)e.classList.remove(n[r]);else c(e,t)}function Me(e,t){return!!e&&(e.classList?e.classList.contains(t):p(e,t))}function Pe(){var e=We["default"].querySelector.call(document,"."+Be["default"].charset);return e&&e.getAttribute("charset")}function Oe(e,t){for(var n=e.parentNode,r=[];n;)(ve(n)&&!t||t&&Ce(n,t))&&r.push(n),n=n.parentNode;return r}function Re(e){return Q(e)?[e]:(0,Qe["default"])(e).call(e,"input[type=file]")}function ke(e){return L(e)?[e]:(0,Qe["default"])(e).call(e,"iframe")}e.__esModule=!0,e.instanceToString=d,e.getActiveElement=f,e.getChildVisibleIndex=h,e.getIframeByElement=m,e.getIframeLocation=y,e.getFrameElement=v,e.getMapContainer=g,e.getParentWindowWithSrc=E,e.getScrollbarSize=b,e.getSelectParent=_,e.getSelectVisibleChildren=S,e.getTopSameDomainWindow=w,e.find=x,e.findDocument=T,e.isContentEditableElement=C,e.isCrossDomainIframe=A,e.isCrossDomainWindows=I,e.isDomElement=N,e.getTagName=M,e.getNodeType=P,e.isElementInDocument=O,e.isElementInIframe=R,e.isHammerheadAttr=k,e.isIframeElement=L,e.isIframeWithoutSrc=j,e.isImgElement=D,e.isInputElement=U,e.isButtonElement=F,e.isHtmlElement=B,e.isBodyElement=H,e.isHeadElement=W,e.isBaseElement=V,e.isScriptElement=q,e.isStyleElement=G,e.isLabelElement=X,e.isTextAreaElement=K,e.isOptionElement=Y,e.isSelectElement=$,e.isFormElement=z,e.isFileInput=Q,e.isBodyElementWithChildren=J,e.isMapElement=Z,e.isRenderedNode=ee,e.getTabIndex=te,e.isElementFocusable=ne,e.isShadowUIElement=re,e.isWindow=oe,e.isDocument=ie,e.isXMLHttpRequest=se,e.isBlob=ae,e.isLocation=le,e.isSVGElement=ue,e.isSVGElementOrChild=ce,e.isFetchHeaders=pe,e.isFetchRequest=de,e.isElementReadOnly=fe,e.isTextEditableInput=he,e.isTextEditableElement=me,e.isTextEditableElementAndEditingAllowed=ye,e.isElementNode=ve,e.isTextNode=ge,e.isProcessingInstructionNode=Ee,e.isCommentNode=be,e.isDocumentNode=_e,e.isDocumentFragmentNode=Se,e.isAnchorElement=we,e.isTableElement=xe,e.isTableDataCellElement=Te,e.matches=Ce,e.closest=Ae,e.addClass=Ie,e.removeClass=Ne,e.hasClass=Me,e.parseDocumentCharset=Pe,e.getParents=Oe,e.getFileInputs=Re,e.getIframes=ke;var Le=n("../../processing/dom/internal-attributes"),je=o(Le),De=n("../../processing/dom/internal-properties"),Ue=o(De),Fe=n("../../shadow-ui/class-name"),Be=o(Fe),He=n("../sandbox/native-methods"),We=o(He),Ve=n("./url"),qe=r(Ve),Ge=n("./style"),Xe=n("./destination-location"),Ke=n("./browser"),Ye=n("../../utils/string-trim"),$e=o(Ye),ze=n("./get-native-query-selector-all"),Qe=o(ze),Je=n("../utils/feature-detection"),Ze=Array.prototype.slice,et=null,tt=[d(We["default"].elementClass.prototype),d(Object.getPrototypeOf(We["default"].elementClass.prototype))],nt=["[object HTMLMapElement]","[object HTMLAreaElement]"],rt=d(window),ot=d(document),it=/^\[object SVG\w+?Element]$/i,st=d(We["default"].createElement.call(document,"td"))},"event-emitter.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=Array.prototype.slice,i=function(){function e(){r(this,e),this.eventsListeners=[]}return e.prototype.emit=function(e){var t=this.eventsListeners[e];if(t)for(var n=0;n<t.length;n++)try{t[n]&&t[n].apply(this,o.apply(arguments,[1]))}catch(r){if(!(r.message&&r.message.indexOf("freed script")>-1))throw r;t[n]=null}},e.prototype.off=function(e,t){var n=this.eventsListeners[e];if(n){for(var r=[],o=0,i=n.length;o<i;o++)n[o]!==t&&r.push(n[o]);this.eventsListeners[e]=r}},e.prototype.on=function(e,t){this.eventsListeners[e]||(this.eventsListeners[e]=[]),this.eventsListeners[e].push(t)},e}();e["default"]=i,t.exports=e["default"]},"event.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t||i(e)}function i(e){e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}function s(e){return"object"==typeof e&&"function"==typeof e.handleEvent}e.__esModule=!0,e.hasPointerEvents=e.DOM_EVENTS=e.KEYBOARD_MODIFIERS_PARAMETER=e.WHICH_PARAMETER=e.BUTTONS_PARAMETER=e.BUTTON=void 0,e.preventDefault=o,e.stopPropagation=i,e.isObjectEventListener=s;var a=n("../sandbox/native-methods"),l=r(a);e.BUTTON={left:0,middle:1,right:2},e.BUTTONS_PARAMETER={noButton:0,leftButton:1,rightButton:2},e.WHICH_PARAMETER={noButton:0,leftButton:1,middleButton:2,rightButton:3},e.KEYBOARD_MODIFIERS_PARAMETER={altKey:"Alt",ctrlKey:"Control",shiftKey:"Shift",metaKey:"Meta"},e.DOM_EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mousemove","mouseover","mouseout","touchstart","touchmove","touchend","keydown","keypress","input","keyup","change","focus","blur","MSPointerDown","MSPointerMove","MSPointerOver","MSPointerOut","MSPointerUp","pointerdown","pointermove","pointerover","pointerout","pointerup","focusin","focusout","mouseenter","mouseleave","pointerenter","pointerleave"],e.hasPointerEvents=!(!l["default"].WindowPointerEvent&&!l["default"].WindowMSPointerEvent)},"extend.js":function(e,t,n){function r(){var e=arguments[0]||{},t=null,n=null;"object"!=typeof e&&"[object Function]"!==e.toString()&&(e={});for(var r=1;r<arguments.length;r++)if(t=arguments[r],null!==t)for(var o in t)n=t[o],e!==n&&void 0!==n&&(e[o]=n);return e}e.__esModule=!0,e["default"]=r,t.exports=e["default"]},"fast-apply.js":function(e,t,n){function r(e,t,n){var r=e[t];switch(n.length){case 1:return r.call(e,n[0]);case 2:return r.call(e,n[0],n[1]);case 3:return r.call(e,n[0],n[1],n[2]);case 4:return r.call(e,n[0],n[1],n[2],n[3]);case 5:return r.call(e,n[0],n[1],n[2],n[3],n[4]);default:return r.apply(e,n)}}e.__esModule=!0,e["default"]=r,t.exports=e["default"]},"feature-detection.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0,e.instanceAndPrototypeToStringAreEqual=e.emptyActionAttrFallbacksToTheLocation=void 0;var o=n("../sandbox/native-methods"),i=r(o);e.emptyActionAttrFallbacksToTheLocation=i["default"].createElement.call(document,"form").action===window.location.toString(),e.instanceAndPrototypeToStringAreEqual=i["default"].objectToString.call(window)===i["default"].objectToString.call(Window.prototype)},"fn-bind.js":function(e,t,n){function r(e,t){return function(){return e.apply(t,arguments)}}e.__esModule=!0,e["default"]=r,t.exports=e["default"]},"get-native-query-selector-all.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return(0,a.isDocumentNode)(e)?s["default"].querySelectorAll:(0,a.isDocumentFragmentNode)(e)?s["default"].documentFragmentQuerySelectorAll:s["default"].elementQuerySelectorAll}e.__esModule=!0,e["default"]=o;var i=n("../sandbox/native-methods"),s=r(i),a=n("./dom");t.exports=e["default"]},"html.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(){try{K.location&&K.location.toString()}catch(e){K=document.implementation.createHTMLDocument("title"),Y=K.createDocumentFragment()}return K}function s(e){return e.replace(H,W).replace(U,F).replace(j,D)}function a(e){return e.replace(V,"<!doctype$1>").replace(B,"<$2$1$4$3").replace(L,"$1")}function l(e){return/^\s*(<\s*(!doctype|html|head|body)[^>]*>)/i.test(e)}function u(e,t){var n=i().createElement("div");e=s(e),Y.innerHTML="",g["default"].appendChild.call(Y,n),n.innerHTML=e;var r=t(n)?n.innerHTML:e;return r=a(r),C.isIE&&!C.isMSEdge&&e!==r&&(r=d(e,r)),r}function c(e){return u(e,function(e){for(var t=!1,n=0;n<b["default"].URL_ATTRS.length;n++){var r=b["default"].URL_ATTRS[n],o=b["default"].getStoredAttrName(r);(0,x.find)(e,"["+o+"]",function(e){e.hasAttribute(r)&&(g["default"].setAttribute.call(e,r,g["default"].getAttribute.call(e,o)),g["default"].removeAttribute.call(e,o),t=!0)})}return(0,x.find)(e,'[class*="'+y["default"].postfix+'"]',function(e){e.parentNode&&(g["default"].removeChild.call(e.parentNode,e),t=!0)}),(0,x.find)(e,"script",function(e){var n=e.textContent,r=(0,_.remove)(n);n!==r&&(e.textContent=r,t=!0)}),(0,x.find)(e,"style",function(e){var n=e.textContent,r=w["default"].cleanUp(n,T.parseProxyUrl);n!==r&&(e.textContent=r,t=!0)}),(0,x.find)(e,"["+h["default"].hoverPseudoClass+"]",function(e){g["default"].removeAttribute.call(e,h["default"].hoverPseudoClass),t=!0}),(0,x.find)(e,O+"head, "+O+"body",function(e){e.innerHTML.indexOf(X)!==-1&&(e.innerHTML=e.innerHTML.replace(X,""),t=!0)}),t})}function p(e,t,n){return u(e,function(e){var r=[],o=[],i=N.getBaseUrl(document);n&&n(e),1===e.children.length&&e.children[0].children&&!e.children[0].children.length?o=[e.children[0]]:e.children.length&&(o=g["default"].elementQuerySelectorAll.call(e,"*"));var s=g["default"].elementQuerySelector.call(e,"base");s&&N.updateBase(g["default"].getAttribute.call(s,"href"),document);for(var l=0;l<o.length;l++){var u=o[l];if(!(0,A.hasIsNotClosedFlag)(u)){(0,x.isScriptElement)(u)&&(u.textContent=a(u.textContent)),b["default"].processElement(u,T.convertToProxyUrl);var c=(0,x.getTagName)(u);c!==O+"head"&&c!==O+"body"||r.push(u)}}if(!t)for(var p=0;p<r.length;p++)r[p].innerHTML=X+r[p].innerHTML;return N.updateBase(i,document),!0})}function d(e,t){var n=e.match(q),r=0;return n?t.replace(q,function(e){var t=n[r],o=t?t.match(G):null;return t&&r++,t?e.replace(G,function(){var e=o?o.join(""):"";return o&&(o=null),e}):e}):t}e.__esModule=!0,e.INIT_SCRIPT_FOR_IFRAME_TEMPLATE=void 0,e.isPageHtml=l,e.cleanUpHtml=c,e.processHtml=p;var f=n("../../processing/dom/internal-attributes"),h=o(f),m=n("../../shadow-ui/class-name"),y=o(m),v=n("../sandbox/native-methods"),g=o(v),E=n("../dom-processor"),b=o(E),_=n("../../processing/script/header"),S=n("../../processing/style"),w=o(S),x=n("./dom"),T=n("./url"),C=n("./browser"),A=n("../sandbox/node/document/writer"),I=n("./url-resolver"),N=r(I),M=n("../../processing/dom/internal-properties"),P=o(M),O="hh_fake_tag_name_",R="hh_fake_doctype",k="hh_fake_attr",L=new RegExp("(<\\/?)"+O,"ig"),j=/(<\/?)(html|head|body|table|tbody|tfoot|thead|tr|td|th|caption|colgroup)((?:\s[^>]*)?>)/gi,D="$1"+O+"$2$3",U=/<(\/?(?:col|noscript))(\s[^>]*?)?(\s?\/)?>/gi,F="<br "+k+'="$1|$3"$2>',B=new RegExp("<br([^>]*?) "+k+'="([^|]+)\\|([^"]*)"([^>]*)',"ig"),H=/<!doctype([^>]*)>/gi,W="<"+R+">$1</"+R+">",V=new RegExp("<"+R+">([\\S\\s]*?)</"+R+">","ig"),q=/<svg\s?[^>]*>/gi,G=/\s(?:NS[0-9]+:[^"']+('|")[\S\s]*?\1|[^:]+:NS[0-9]+=(?:""|''))/g,X=e.INIT_SCRIPT_FOR_IFRAME_TEMPLATE=('\n    <script class="'+y["default"].selfRemovingScript+'" type="text/javascript">\n        (function () {\n            var parentHammerhead = null;\n            try {\n                parentHammerhead = window.parent["'+P["default"].hammerheadPropertyName+'"];\n            } catch(e) {}\n            if (parentHammerhead) parentHammerhead.sandbox.onIframeDocumentRecreated(window.frameElement);\n            var script = document.currentScript || document.scripts[document.scripts.length - 1];\n            script.parentNode.removeChild(script);\n        })();\n    </script>').replace(/\n\s*/g,""),K=document.implementation.createHTMLDocument("title"),Y=K.createDocumentFragment();b["default"].on(b["default"].HTML_PROCESSING_REQUIRED_EVENT,function(e,t){l(e)||(e="<html><body>"+e+"</body></html>"),t(p(e))})},"is-jquery-object.js":function(e,t,n){function r(e){return e&&!!e.jquery}e.__esModule=!0,e["default"]=r,t.exports=e["default"]},"next-tick.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0,e["default"]=function(){return new i["default"](function(e){return a["default"].setTimeout.call(window,e,0)})};var o=n("pinkie"),i=r(o),s=n("../sandbox/native-methods"),a=r(s);t.exports=e["default"]},"position.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=f["default"].getAttribute.call(e,"shape"),r=f["default"].getAttribute.call(e,"coords"),o=0;if("default"===n)return u(t);if(!n||!r)return null;if(r=r.split(","),!r.length)return null;for(o=0;o<r.length;o++)if(r[o]=parseInt(r[o],10),"number"!=typeof r[o])return null;var i=null;switch(n){case"rect":4===r.length&&(i={height:r[3]-r[1],left:r[0],top:r[1],width:r[2]-r[0]});break;case"circle":3===r.length&&(i={height:2*r[2],left:r[0]-r[2],top:r[1]-r[2],width:2*r[2]});break;case"poly":if(r.length>=6&&r.length%2===0){for(i={},i.left=i.right=r[0],i.top=i.bottom=r[1],o=2;o<r.length;o+=2)i.left=r[o]<i.left?r[o]:i.left,i.right=r[o]>i.right?r[o]:i.right;for(o=3;o<r.length;o+=2)i.top=r[o]<i.top?r[o]:i.top,i.bottom=r[o]>i.bottom?r[o]:i.bottom;i.height=i.bottom-i.top,i.width=i.right-i.left}}if(i){var s=c(t);i.left+=s.left,i.top+=s.top}return i}function s(e){var t=m.getMapContainer(e);if(t){if(/^map$/i.test(e.tagName))return u(t);if(/^area$/i.test(e.tagName)){var n=i(e,t);if(n)return n}}return{height:0,left:0,top:0,width:0}}function a(e){var t=m.getSelectParent(e);if(t){var n=u(t),r=v.getBordersWidth(t),o=v.getInnerWidth(t)===t.clientWidth?0:m.getScrollbarSize(),i=v.getOptionHeight(t),s=m.getChildVisibleIndex(t,e),a=Math.max(s-v.getScrollTop(t)/i,0);return{height:i,left:n.left+r.left,top:n.top+r.top+v.getElementPadding(t).top+a*i,width:n.width-(r.left+r.right)-o}}return u(e)}function l(e){var t=m.matches(e,"tspan")||m.matches(e,"tref")||"textpath"===m.getTagName(e),n=e.getBoundingClientRect(),r={height:t?e.offsetHeight:n.height,left:n.left+(document.body.scrollLeft||document.documentElement.scrollLeft),top:n.top+(document.body.scrollTop||document.documentElement.scrollTop),width:t?e.offsetWidth:n.width};if(t){var o=v.getOffsetParent(e),i=v.getOffset(e),s=v.getOffset(o),a=m.matches(o,"body");return{height:r.height||n.height,left:a?e.offsetLeft||i.left:s.left+e.offsetLeft,top:a?e.offsetTop||i.top:s.top+e.offsetTop,width:r.width||n.width}}if(g.isFirefox||g.isIE)return r;var l=f["default"].getAttribute.call(e,"stroke-width")||v.get(e,"stroke-width");return l=l?+l.replace(/px|em|ex|pt|pc|cm|mm|in/,""):1,l&&+l%2!==0&&(l=+l+1),!(m.matches(e,"line")||m.matches(e,"polyline")||m.matches(e,"polygon")||m.matches(e,"path"))||r.width&&r.height?(m.matches(e,"polygon")&&(r.height+=2*l,r.left-=l,r.top-=l,r.width+=2*l),r.height+=l,r.left-=l/2,r.top-=l/2,r.width+=l):!r.width&&r.height?(r.left-=l/2,r.width=l):r.width&&!r.height&&(r.height=l,r.top-=l/2),r}function u(e){var t={};if(m.isMapElement(e))t=s(e);else if(v.isVisibleChild(e))t=a(e);else{var n=c(e),r=m.isSVGElementOrChild(e)?l(e):e.getBoundingClientRect();t={height:r.height,left:n.left,top:n.top,width:r.width}}return t.height=Math.round(t.height),t.left=Math.round(t.left),t.top=Math.round(t.top),t.width=Math.round(t.width),t}function c(e){if(m.isMapElement(e)){var t=s(e);return{left:t.left,top:t.top}}var n=m.findDocument(e),r=m.isElementInIframe(e,n),o=r?m.getIframeByElement(n):null,i=n===e?v.getOffset(n.documentElement):v.getOffset(e),a=null,u=n.body?v.getBordersWidth(n.body):{left:0,top:0};if(!r||!o){var d=m.isSVGElementOrChild(e);return a=d?l(e):null,{left:Math.round(d?a.left+u.left:i.left+u.left),top:Math.round(d?a.top+u.top:i.top+u.top)}}var f=v.getBordersWidth(o);u.left+=f.left,u.top+=f.top;var h=c(o),y=v.getElementPadding(o),g=null;return m.isSVGElementOrChild(e)?(a=l(e),g={x:a.left-(document.body.scrollLeft||document.documentElement.scrollLeft)+u.left,y:a.top-(document.body.scrollTop||document.documentElement.scrollTop)+u.top}):g=p({x:i.left+u.left,y:i.top+u.top},n),{left:Math.round(h.left+g.x+y.left),top:Math.round(h.top+g.y+y.top)}}function p(e,t){var n=t||document;return{x:e.x-v.getScrollLeft(n),y:e.y-v.getScrollTop(n)}}e.__esModule=!0,e.getElementRectangle=u,e.getOffsetPosition=c,e.offsetToClientCoords=p;var d=n("../sandbox/native-methods"),f=o(d),h=n("./dom"),m=r(h),y=n("./style"),v=r(y),g=n("./browser")},"style.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){e=e||"";var t=parseInt(e.replace("px",""),10);return isNaN(t)?0:t}function s(e){return e instanceof L["default"].styleClass||D.indexOf(P.instanceToString(e))!==-1}function a(e){return e instanceof L["default"].styleSheetClass||"[object CSSStyleSheet]"===P.instanceToString(e)}function l(e,t,n){e=e.documentElement||e;var r=p(e,n);return r&&r[t]}function u(e,t,n){e=e.documentElement||e,e.style[t]=n}function c(e){return{bottom:i(l(e,"borderBottomWidth")),left:i(l(e,"borderLeftWidth")),right:i(l(e,"borderRightWidth")),top:i(l(e,"borderTopWidth"))}}function p(e,t){return t=t||document,t.defaultView.getComputedStyle(e,null)}function d(e){return{bottom:i(l(e,"marginBottom")),left:i(l(e,"marginLeft")),right:i(l(e,"marginRight")),top:i(l(e,"marginTop"))}}function f(e){return{bottom:i(l(e,"paddingBottom")),left:i(l(e,"paddingLeft")),right:i(l(e,"paddingRight")),top:i(l(e,"paddingTop"))}}function h(e){var t=P.isHtmlElement(e),n=window;if(t&&P.isElementInIframe(e)){var r=P.getIframeByElement(e);r&&(n=r.contentWindow)}var o=t?n:e;return{left:S(o),top:w(o)}}function m(e){if(!e)return null;if(P.isWindow(e))return e.document.documentElement.clientWidth;if(P.isDocumentNode(e)){var t=e.documentElement,n="clientWidth",r="scrollWidth",o="offsetWidth";return t[n]>=t[r]?t[n]:Math.max(e.body[r],t[r],e.body[o],t[o])}var s=e.offsetWidth;return s-=i(l(e,"paddingLeft")),s-=i(l(e,"paddingRight")),s-=i(l(e,"borderLeftWidth")),s-=i(l(e,"borderRightWidth"))}function y(e){if(!e)return null;if(P.isWindow(e))return e.document.documentElement.clientHeight;if(P.isDocumentNode(e)){var t=e.documentElement,n="clientHeight",r="scrollHeight",o="offsetHeight";return t[n]>=t[r]?t[n]:Math.max(e.body[r],t[r],e.body[o],t[o])}var s=e.offsetHeight;return s-=i(l(e,"paddingTop")),s-=i(l(e,"paddingBottom")),s-=i(l(e,"borderTopWidth")),s-=i(l(e,"borderBottomWidth"))}function v(e){if(!e)return null;if(P.isWindow(e))return e.document.documentElement.clientWidth;if(P.isDocument(e))return e.documentElement.clientWidth;var t=e.offsetWidth;return t-=i(l(e,"borderLeftWidth")),t-=i(l(e,"borderRightWidth"))}function g(e){if(!e)return null;if(P.isWindow(e))return e.document.documentElement.clientHeight;if(P.isDocument(e))return e.documentElement.clientHeight;var t=e.offsetHeight;return t-=i(l(e,"borderTopWidth")),t-=i(l(e,"borderBottomWidth"))}function E(e){var t=b(e),n=f(e),r=e.scrollHeight-(n.top+n.bottom),o=P.getSelectVisibleChildren(e).length;return 1===t?y(e):R.isIE&&t>o?Math.round(r/o):Math.round(r/Math.max(o,t))}function b(e){if(R.isSafari&&R.hasTouchEvents||R.isAndroid)return 1;var t=L["default"].getAttribute.call(e,"size"),n=L["default"].getAttribute.call(e,"multiple"),r=t?parseInt(t,10):1;return n&&(!t||r<1)&&(r=j),r}function _(e){var t=P.getSelectParent(e),n=P.getTagName(e);return P.isSelectElement(t)&&b(t)>1&&("option"===n||"optgroup"===n)&&(!R.isFirefox||e.label)}function S(e){return e?P.isWindow(e)?e.pageXOffset:P.isDocument(e)?e.defaultView.pageXOffset:e.scrollLeft:null}function w(e){return e?P.isWindow(e)?e.pageYOffset:P.isDocument(e)?e.defaultView.pageYOffset:e.scrollTop:null}function x(e,t){if(e)if(P.isWindow(e)||P.isDocument(e)){var n=P.findDocument(e).defaultView,r=w(e);n.scrollTo(t,r)}else e.scrollLeft=t}function T(e,t){if(e)if(P.isWindow(e)||P.isDocument(e)){var n=P.findDocument(e).defaultView,r=S(e);n.scrollTo(r,t)}else e.scrollTop=t}function C(e){if(e){for(var t=e.offsetParent||document.body;t&&!/^(?:body|html)$/i.test(t.nodeName)&&"static"===l(t,"position");)t=t.offsetParent;return t}}function A(e){if(!e||P.isWindow(e)||P.isDocument(e))return null;var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement;if(!r.contains(e)||e===r)return{top:t.top,left:t.left};var o=n.defaultView,i=r.clientTop||n.body.clientTop||0,s=r.clientLeft||n.body.clientLeft||0,a=o.pageYOffset||r.scrollTop||n.body.scrollTop,l=o.pageXOffset||r.scrollLeft||n.body.scrollLeft;return t=e.getBoundingClientRect(),{top:t.top+a-i,left:t.left+l-s}}function I(e,t){if(!P.isElementInDocument(e,t))return!1;for(;e;){if("none"===l(e,"display",t)||"hidden"===l(e,"visibility",t))return!1;e=e.parentNode}return!0}function N(e){var t=P.getIframeByElement(e);return t&&!I(t,P.findDocument(t))}e.__esModule=!0,e.isStyle=s,e.isStyleSheet=a,e.get=l,e.set=u,e.getBordersWidth=c,e.getComputedStyle=p,e.getElementMargin=d,e.getElementPadding=f,e.getElementScroll=h,e.getWidth=m,e.getHeight=y,e.getInnerWidth=v,e.getInnerHeight=g,e.getOptionHeight=E,e.getSelectElementSize=b,e.isVisibleChild=_,e.getScrollLeft=S,e.getScrollTop=w,e.setScrollLeft=x,e.setScrollTop=T,e.getOffsetParent=C,e.getOffset=A,e.isElementVisible=I,e.isElementInInvisibleIframe=N;var M=n("./dom"),P=o(M),O=n("./browser"),R=o(O),k=n("../sandbox/native-methods"),L=r(k),j=4,D=["[object CSSStyleDeclaration]","[object CSS2Properties]","[object MSStyleCSSProperties]"]},"types.js":function(e,t,n){function r(e){return null===e?"null":"undefined"}function o(e){return!e&&(null===e||"undefined"==typeof e)}function i(e){return"object"==typeof e}function s(e){return"string"==typeof e}function a(e){return"undefined"==typeof e}function l(e){return"function"==typeof e}e.__esModule=!0,e.inaccessibleTypeToStr=r,e.isNullOrUndefined=o,e.isObject=i,e.isString=s,e.isUndefined=a,e.isFunction=l},"url-resolver.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var i=n("../sandbox/native-methods"),s=o(i),a=n("../utils/destination-location"),l=r(a),u=n("../../utils/url"),c="hammerhead|document-url-resolver";e["default"]={_createResolver:function(e){var t=e.implementation.createHTMLDocument("title"),n=s["default"].createElement.call(t,"a"),r=s["default"].createElement.call(t,"base");return s["default"].appendChild.call(t.body,n),s["default"].appendChild.call(t.head,r),t},_getResolver:function(e){return e[c]||(e[c]=this._createResolver(e)),e[c]},init:function(e){this.updateBase(l.get(),e)},getResolverElement:function(e){return this._getResolver(e).body.firstChild},resolve:function(e,t){var n=this.getResolverElement(t);if(null===e)s["default"].removeAttribute.call(n,"href");else{n.href=e;var r=e&&isIframeWithoutSrc&&window.parent&&window.parent.document&&(!n.href||0===n.href.indexOf("/"));if(r)return this.resolve(e,window.parent.document)}return(0,u.ensureTrailingSlash)(e,n.href)},updateBase:function(e,t){var n=this._getResolver(t),r=s["default"].elementGetElementsByTagName.call(n.head,"base")[0];e=e||l.get();var o=(0,u.parseUrl)(e),i="file:"!==o.protocol&&!o.host,a=/^\/\//.test(e)&&!!o.host;if(i||a){var c=l.get();this.updateBase(c,t),e=this.resolve(e,t)}s["default"].setAttribute.call(r,"href",e)},getBaseUrl:function(e){var t=s["default"].elementGetElementsByTagName.call(this._getResolver(e).head,"base")[0];return s["default"].getAttribute.call(t,"href")},changeUrlPart:function(e,t,n,r){var o=this.getResolverElement(r);return o.href=e,o[t]=n,o.href}},t.exports=e["default"]},"url.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!m(e)&&!y(e))return e;if(e=T.resolveUrl(e),!w.isValidUrl(e))return e;var n=t&&t.proxyHostname||location.hostname,r=t&&t.proxyPort||location.port.toString(),o=t&&t.sessionId||N["default"].get().sessionId,s=t&&t.resourceType,a=t&&t.charset,l=N["default"].get().crossDomainProxyPort===r?location.port.toString():N["default"].get().crossDomainProxyPort,u=w.parseProxyUrl(e),c=!!u&&u.proxy.hostname===n&&(u.proxy.port===r||u.proxy.port===l);if(c){if(s&&u.resourceType===s)return e;var p=w.formatUrl(u.destResourceInfo);return i(p,{proxyHostname:n,proxyPort:r,sessionId:o,resourceType:s,charset:a})}var d=w.parseUrl(e),f=w.parseResourceType(s).isScript;if(a=a||f&&document[_["default"].documentCharset],"http:"===d.protocol&&d.hostname===n&&d.port===r){var h=T.getParsed();d.protocol=h.protocol,d.host=h.host,d.hostname=h.hostname,d.port=h.port||"",e=w.formatUrl(d)}return w.getProxyUrl(e,{proxyHostname:n,proxyPort:r,sessionId:o,resourceType:s,charset:a})}function s(e){return i(e,{proxyPort:N["default"].get().crossDomainProxyPort,resourceType:w.getResourceTypeString({isIframe:!0})})}function a(){return location.protocol+"//"+location.hostname+":"+N["default"].get().crossDomainProxyPort+"/"}function l(e){return w.resolveUrlAsDest(e,i)}function u(e){return w.formatUrl(e)}function c(e){return w.parseProxyUrl(e)}function p(e){return w.parseUrl(e)}function d(e,t,n){return i(e,{resourceType:t,charset:n})}function f(e,t,n,r){var o=w.parseProxyUrl(e);if(o){var s=o.sessionId,a=o.proxy,l=A.changeUrlPart(o.destUrl,t,n,document);return i(l,{proxyHostname:a.hostname,proxyPort:a.port,sessionId:s,resourceType:r})}return e}function h(e,t){return w.isSubDomain(e,t)}function m(e){return w.isSupportedProtocol(e)}function y(e){return w.isSpecialPage(e)}function v(e){return w.parseResourceType(e)}function g(e){return w.getResourceTypeString(e)}function E(e,t){return i(e).replace(M,"")===i(t).replace(M,"")}e.__esModule=!0,e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR=void 0,e.getProxyUrl=i,e.getCrossDomainIframeProxyUrl=s,e.getCrossDomainProxyUrl=a,e.resolveUrlAsDest=l,e.formatUrl=u,e.parseProxyUrl=c,e.parseUrl=p,e.convertToProxyUrl=d,e.changeDestUrlPart=f,e.isSubDomain=h,e.isSupportedProtocol=m,e.isSpecialPage=y,e.parseResourceType=v,e.stringifyResourceType=g,e.isChangedOnlyHash=E;var b=n("../../processing/dom/internal-properties"),_=o(b),S=n("../../utils/url"),w=r(S),x=n("./destination-location"),T=r(x),C=n("./url-resolver"),A=r(C),I=n("../settings"),N=o(I),M=/#[\S\s]*$/;e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR=w.REQUEST_DESCRIPTOR_VALUES_SEPARATOR}}},processing:{dom:{"base-dom-adapter.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function e(){r(this,e),this.EVENTS=["onblur","onchange","onclick","oncontextmenu","oncopy","oncut","ondblclick","onerror","onfocus","onfocusin","onfocusout","onhashchange","onkeydown","onkeypress","onkeyup","onload","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onreset","onresize","onscroll","onselect","onsubmit","ontextinput","onunload","onwheel","onpointerdown","onpoi nterup","onpointercancel","onpointermove","onpointerover","onpointerout","onpointerenter","onpointerleave","ongotpointercapture","onlostpointercapture","onmspointerdown","onmspointerup","onmspointercancel","onmspointermove","onmspointerover","onmspointerout","onmspointerenter","onmspointerleave","onmsgotpointercapture","onmslostpointercapture"]}return e.prototype.removeAttr=function(){throw new Error("Not implemented")},e.prototype.getAttr=function(){throw new Error("Not implemented")},e.prototype.hasAttr=function(){throw new Error("Not implemented")},e.prototype.isSVGElement=function(){throw new Error("Not implemented")},e.prototype.hasEventHandler=function(){throw new Error("Not implemented")},e.prototype.getTagName=function(){throw new Error("Not implemented")},e.prototype.setAttr=function(){throw new Error("Not implemented")},e.prototype.setScriptContent=function(){throw new Error("Not implemented")},e.prototype.getScriptContent=function(){throw new Error("Not implemented")},e.prototype.getStyleContent=function(){throw new Error("Not implemented")},e.prototype.setStyleContent=function(){throw new Error("Not implemented")},
e.prototype.getElementForSelectorCheck=function(){throw new Error("Not implemented")},e.prototype.needToProcessUrl=function(){throw new Error("Not implemented")},e.prototype.attachEventEmitter=function(){throw new Error("Not implemented")},e.prototype.hasIframeParent=function(){throw new Error("Not implemented")},e.prototype.getCrossDomainPort=function(){throw new Error("Not implemented")},e.prototype.getProxyUrl=function(){throw new Error("Not implemented")},e.prototype.isTopParentIframe=function(){throw new Error("Not implemented")},e.prototype.sameOriginCheck=function(){throw new Error("Not implemented")},e.prototype.getClassName=function(){throw new Error("Not implemented")},e}();e["default"]=o,t.exports=e["default"]},"index.js":function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=n("../../processing/dom/internal-attributes"),a=o(s),l=n("../../shadow-ui/class-name"),u=o(l),c=n("../script"),p=n("../../processing/style"),d=o(p),f=n("../../utils/url"),h=r(f),m=n("./namespaces"),y=/^(\s)*\/\/<!\[CDATA\[([\s\S]*)\/\/\]\]>(\s)*$/,v=/(\/\/[^\n]*|\n\s*)-->[^\n]*([\n\s]*)?$/,g=/^(\s)*<!--[^\n]*\n/,E=/-->\s*$/,b=/^\s*('|")\s*(<[\s\S]+>)\s*('|")\s*$/,_=/^\s*javascript\s*:/i,S=/^\s*(application\/(x-)?(ecma|java)script|text\/(javascript(1\.[0-5])?|((x-)?ecma|x-java|js|live)script))\s*$/,w={href:["a","link","image","area","base"],src:["img","embed","script","source","video","audio","input","frame","iframe"],action:["form"],formaction:["button","input"],manifest:["html"],data:["object"]},x=Object.keys(w),T=["animate","animateColor","animateMotion","animateTransform","mpath","set","linearGradient","radialGradient","stop","a","altglyph","color-profile","cursor","feimage","filter","<font-face-uri","glyphref","image","mpath","pattern","script","textpath","use","tref"],C=["a","form","area","base"],A=function(){for(var e=[],t=C,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if(r=t.next(),r.done)break;o=r.value}var i=o;"base"!==i&&e.push(i)}return e}(),I="hammerhead|element-processed",N="hammerhead|autocomplete-attribute-absence-marker",M=function(){function e(t){i(this,e),this.adapter=t,this.adapter.attachEventEmitter(this),this.HTML_STRING_REG_EX=b,this.JAVASCRIPT_PROTOCOL_REG_EX=_,this.URL_ATTRS=x,this.SVG_XLINK_HREF_TAGS=T,this.AUTOCOMPLETE_ATTRIBUTE_ABSENCE_MARKER=N,this.HTML_PROCESSING_REQUIRED_EVENT="hammerhead|event|html-processing-required",this.EVENTS=this.adapter.EVENTS,this.elementProcessorPatterns=this._createProcessorPatterns(this.adapter)}return e.isTagWithTargetAttr=function(e){return C.indexOf(e)!==-1},e.isIframeFlagTag=function(e){return e&&A.indexOf(e)!==-1},e.isAddedAutocompleteAttr=function(e,t){return"autocomplete"===e&&t===N},e.prototype._createProcessorPatterns=function(e){var t=this,n={HAS_HREF_ATTR:function(e){return t.isUrlAttr(e,"href")},HAS_SRC_ATTR:function(e){return t.isUrlAttr(e,"src")},HAS_ACTION_ATTR:function(e){return t.isUrlAttr(e,"action")},HAS_FORMACTION_ATTR:function(e){return t.isUrlAttr(e,"formaction")},HAS_MANIFEST_ATTR:function(e){return t.isUrlAttr(e,"manifest")},HAS_DATA_ATTR:function(e){return t.isUrlAttr(e,"data")},HTTP_EQUIV_META:function(t){var n=e.getTagName(t);return"meta"===n&&e.hasAttr(t,"http-equiv")},ALL:function(){return!0},IS_SCRIPT:function(t){return"script"===e.getTagName(t)},IS_LINK:function(t){return"link"===e.getTagName(t)},IS_INPUT:function(t){return"input"===e.getTagName(t)},IS_STYLE:function(t){return"style"===e.getTagName(t)},HAS_EVENT_HANDLER:function(t){return e.hasEventHandler(t)},IS_SANDBOXED_IFRAME:function(t){return"iframe"===e.getTagName(t)&&e.hasAttr(t,"sandbox")},IS_SVG_ELEMENT_WITH_XLINK_HREF_ATTR:function(t){return e.isSVGElement(t)&&e.hasAttr(t,"xlink:href")&&T.indexOf(e.getTagName(t))!==-1},IS_SVG_ELEMENT_WITH_XML_BASE_ATTR:function(t){return e.isSVGElement(t)&&e.hasAttr(t,"xml:base")}};return[{selector:n.HAS_HREF_ATTR,urlAttr:"href",elementProcessors:[this._processTargetBlank,this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HAS_SRC_ATTR,urlAttr:"src",elementProcessors:[this._processTargetBlank,this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HAS_ACTION_ATTR,urlAttr:"action",elementProcessors:[this._processTargetBlank,this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HAS_FORMACTION_ATTR,urlAttr:"formaction",elementProcessors:[this._processTargetBlank,this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HAS_MANIFEST_ATTR,urlAttr:"manifest",elementProcessors:[this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HAS_DATA_ATTR,urlAttr:"data",elementProcessors:[this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HTTP_EQUIV_META,urlAttr:"content",elementProcessors:[this._processMetaElement]},{selector:n.IS_SCRIPT,elementProcessors:[this._processScriptElement,this._processIntegrityAttr]},{selector:n.ALL,elementProcessors:[this._processStyleAttr]},{selector:n.IS_LINK,elementProcessors:[this._processIntegrityAttr]},{selector:n.IS_STYLE,elementProcessors:[this._processStylesheetElement]},{selector:n.IS_INPUT,elementProcessors:[this._processAutoComplete]},{selector:n.HAS_EVENT_HANDLER,elementProcessors:[this._processEvtAttr]},{selector:n.IS_SANDBOXED_IFRAME,elementProcessors:[this._processSandboxedIframe]},{selector:n.IS_SVG_ELEMENT_WITH_XLINK_HREF_ATTR,urlAttr:"xlink:href",elementProcessors:[this._processSVGXLinkHrefAttr,this._processUrlAttrs]},{selector:n.IS_SVG_ELEMENT_WITH_XML_BASE_ATTR,urlAttr:"xml:base",elementProcessors:[this._processUrlAttrs]}]},e.prototype.processElement=function(e,t){if(!e[I])for(var n=this.adapter.getElementForSelectorCheck(e),r=0;r<this.elementProcessorPatterns.length;r++){var o=this.elementProcessorPatterns[r];if(o.selector(n)&&!this._isShadowElement(e)){for(var i=0;i<o.elementProcessors.length;i++)o.elementProcessors[i].call(this,e,t,o);e[I]=!0}}},e.prototype.getElementResourceType=function(e){var t=this.adapter.getTagName(e);return h.getResourceTypeString({isIframe:"iframe"===t||this._isOpenLinkInIframe(e),isForm:"form"===t||"input"===t||"button"===t,isScript:"script"===t})},e.prototype.getStoredAttrName=function(e){return e+a["default"].storedAttrPostfix},e.prototype.isUrlAttr=function(e,t,n){var r=this.adapter.getTagName(e);return t=t?t.toLowerCase():t,!(!w[t]||w[t].indexOf(r)===-1)||this.adapter.isSVGElement(e)&&("xml:base"===t||"base"===t&&n===m.XML_NAMESPACE)},e.prototype.getUrlAttr=function(e){for(var t=this.adapter.getTagName(e),n=x,r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if(o=n.next(),o.done)break;i=o.value}var s=i;if(w[s].indexOf(t)!==-1)return s}return null},e.prototype._isOpenLinkInIframe=function(t){var n=this.adapter.getTagName(t),r=this.adapter.getAttr(t,"target");if("_top"!==r){var o=e.isIframeFlagTag(n),i=!!r&&"_"!==r[0];if("_parent"===r)return o&&!this.adapter.isTopParentIframe(t);if(o&&(this.adapter.hasIframeParent(t)||i))return!0}return!1},e.prototype._isShadowElement=function(e){var t=this.adapter.getClassName(e);return"string"==typeof t&&t.indexOf(u["default"].postfix)>-1},e.prototype._processAutoComplete=function(e){var t=this.getStoredAttrName("autocomplete"),n=this.adapter.hasAttr(e,t),r=this.adapter.getAttr(e,n?t:"autocomplete");n||this.adapter.setAttr(e,t,r||""===r?r:N),this.adapter.setAttr(e,"autocomplete","off")},e.prototype._processIntegrityAttr=function(e){this.adapter.removeAttr(e,"integrity")},e.prototype._processJsAttr=function(e,t,n){var r=this.getStoredAttrName(t),o=this.adapter.hasAttr(e,r),i=this.adapter.getAttr(e,o?r:t),s=n?i.replace(_,""):i,a=s.match(b),l=this,u=function(n,s,a){n!==s&&(o||l.adapter.setAttr(e,r,i),l.adapter.setAttr(e,t,a))};if(a&&n){var p=a[2];this.emit(this.HTML_PROCESSING_REQUIRED_EVENT,p,function(e){var t="javascript:'"+e.replace(/'/g,"\\'")+"'";u(p,e,t)})}else{var d=(0,c.processScript)(s,!1),f=d;n&&(f="javascript:"+f),u(s,d,f)}},e.prototype._processEvtAttr=function(e){for(var t=this.adapter.EVENTS,n=0;n<t.length;n++){var r=this.adapter.getAttr(e,t[n]);r&&this._processJsAttr(e,t[n],_.test(r))}},e.prototype._processMetaElement=function(e,t,n){var r=this.adapter.getAttr(e,"http-equiv").toLowerCase();if("refresh"===r){var o=this.adapter.getAttr(e,n.urlAttr);o=o.replace(/(url=)(.*)$/i,function(e,n,r){return n+t(r)}),this.adapter.setAttr(e,n.urlAttr,o)}else"content-security-policy"===r&&(this.adapter.removeAttr(e,"http-equiv"),this.adapter.removeAttr(e,"content"))},e.prototype._processSandboxedIframe=function(e){var t=this.adapter.getAttr(e,"sandbox"),n=t.indexOf("allow-same-origin")!==-1,r=t.indexOf("allow-scripts")!==-1,o=this.getStoredAttrName("sandbox");this.adapter.setAttr(e,o,t),n&&r||(t+=n?"":" allow-same-origin",t+=r?"":" allow-scripts"),this.adapter.setAttr(e,"sandbox",t)},e.prototype._processScriptElement=function(e){var t=this.adapter.getScriptContent(e);if(t){var n=(0,c.isScriptProcessed)(t);if(!n){var r=this.adapter.getAttr(e,"type"),o=!r||S.test(r);if(o){var i=t,s="",a=i.match(g),l="",u=null,p=y.test(i);a&&(s=a[0],u=i.match(v),u?l=u[0]:E.test(s)||(l="//-->"),i=i.replace(s,"").replace(l,"")),p&&(i=i.replace(y,"$2")),i=s+(0,c.processScript)(i,!0)+l,p&&(i="\n//<![CDATA[\n"+i+"//]]>"),this.adapter.setScriptContent(e,i)}}}},e.prototype._processStyleAttr=function(e,t){var n=this.adapter.getAttr(e,"style");n&&this.adapter.setAttr(e,"style",d["default"].process(n,t))},e.prototype._processStylesheetElement=function(e,t){var n=this.adapter.getStyleContent(e);n&&t&&(n=d["default"].process(n,t,!0),this.adapter.setStyleContent(e,n))},e.prototype._processTargetBlank=function(e){var t=this.getStoredAttrName("target"),n=this.adapter.hasAttr(e,t);if(!n){var r=this.adapter.getAttr(e,"target");r=r&&r.replace(/\s/g,""),"_blank"!==r&&"blank"!==r||(this.adapter.setAttr(e,"target","_top"),this.adapter.setAttr(e,t,r))}},e.prototype._processUrlAttrs=function(e,t,n){if(t&&n.urlAttr){var r=this.getStoredAttrName(n.urlAttr),o=this.adapter.getAttr(e,n.urlAttr),i=h.isSpecialPage(o),s=this.adapter.hasAttr(e,r);if((o||""===o)&&!s&&(h.isSupportedProtocol(o)||i)){var a=this.adapter.getTagName(e),l="iframe"===a,u="script"===a,c="a"===a,p=this.adapter.getAttr(e,"target");if(!this.adapter.needToProcessUrl(a,p))return;var d=this.getElementResourceType(e),f=h.parseUrl(o),m="file:"!==f.protocol&&!f.host,y="",v=u&&this.adapter.getAttr(e,"charset");if(l&&!i&&!m){var g=t("/"),E=h.parseProxyUrl(g),b=E.destUrl;if(f.protocol||(o=E.destResourceInfo.protocol+o),!this.adapter.sameOriginCheck(b,o)){var _=h.parseUrl(g).hostname,S=this.adapter.getCrossDomainPort(),w=h.getResourceTypeString({isIframe:!0});y=o?this.adapter.getProxyUrl(o,{proxyHostname:_,proxyPort:S,sessionId:E.sessionId,resourceType:w}):""}}i&&!c&&(y=o),y=""===y&&o?t(o,d,v):y,this.adapter.setAttr(e,r,o),"img"!==a||""===y||i?this.adapter.setAttr(e,n.urlAttr,y):this.adapter.setAttr(e,n.urlAttr,h.resolveUrlAsDest(o,t))}}},e.prototype._processUrlJsAttr=function(e,t,n){_.test(this.adapter.getAttr(e,n.urlAttr))&&this._processJsAttr(e,n.urlAttr,!0)},e.prototype._processSVGXLinkHrefAttr=function(e,t,n){var r=this.adapter.getAttr(e,n.urlAttr);if(h.HASH_RE.test(r)){var o=this.getStoredAttrName(n.urlAttr);this.adapter.setAttr(e,o,r)}},e}();e["default"]=M,t.exports=e["default"]},"internal-attributes.js":function(e,t,n){e.__esModule=!0,e["default"]={storedAttrPostfix:"-hammerhead-stored-value",hoverPseudoClass:"data-hammerhead-hovered",focusPseudoClass:"data-hammerhead-focused",uploadInfoHiddenInputName:"hammerhead|upload-info-hidden-input-name"},t.exports=e["default"]},"internal-properties.js":function(e,t,n){e.__esModule=!0,e["default"]={processDomMethodName:"hammerhead|process-dom-method",processedContext:"hammerhead|processed-context",whichPropertyWrapper:"hammerhead|which-property-wrapper",documentCharset:"hammerhead|document-charset",iframeNativeMethods:"hammerhead|iframe-native-methods",hammerheadPropertyName:"%hammerhead%",selectionProperty:"hammerhead|selection-property"},t.exports=e["default"]},"namespaces.js":function(e,t,n){e.__esModule=!0;var r=(e.SVG_NAMESPACE="http://www.w3.org/2000/svg",e.XML_NAMESPACE="http://www.w3.org/XML/1998/namespace"),o=e.XMLNS_NAMESPACE="http://www.w3.org/2000/xmlns/",i=e.XLINK_NAMESPACE="http://www.w3.org/1999/xlink";e.NAMESPACE_PREFIX_MAP={xml:r,xlink:i,xmlns:o}}},script:{"header.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e.replace(v,"").replace(g,"")}function i(e,t){var n=y.replace(m,t?'"use strict";':"");return n+e+"\n"+f}e.__esModule=!0,e.SCRIPT_PROCESSING_END_HEADER_COMMENT=e.SCRIPT_PROCESSING_END_COMMENT=e.SCRIPT_PROCESSING_START_COMMENT=void 0,e.remove=o,e.add=i;var s=n("../../utils/regexp-escape"),a=r(s),l=n("../../processing/dom/internal-properties"),u=r(l),c=n("./instruction"),p=r(c),d=e.SCRIPT_PROCESSING_START_COMMENT="/*hammerhead|script|start*/",f=e.SCRIPT_PROCESSING_END_COMMENT="/*hammerhead|script|end*/",h=e.SCRIPT_PROCESSING_END_HEADER_COMMENT="/*hammerhead|script|processing-header-end*/",m="{strict-placeholder}",y=[d,m,'if(typeof window!=="undefined"&&window){','window["'+u["default"].processDomMethodName+'"] && window["'+u["default"].processDomMethodName+'"]();',"}","else{","var "+p["default"].getLocation+"=function(l){return l},",p["default"].setLocation+"=function(l,v){return l = v},",p["default"].setProperty+"=function(o,p,v){return o[p] = v},",p["default"].getProperty+"=function(o,p){return o[p]},",p["default"].callMethod+"=function(o,p,a){return o[p].apply(o,a)},",p["default"].getEval+"=function(e){return e},",p["default"].processScript+"=function(s){return s},",p["default"].getStorage+"=function(s){return s},",p["default"].getPostMessage+"=function(w,p){return arguments.length===1?w.postMessage:p};","}",h,"\n"].join(""),v=new RegExp((0,a["default"])(d)+"[\\S\\s]+?"+(0,a["default"])(h)+"\n?","gi"),g=new RegExp("\n?"+(0,a["default"])(f)+"\\s*","gi")},"index.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){do e=e.replace(A,"\n");while(A.test(e));return e}function i(e){var t=(0,C["default"])(e),n=t?e.substring(t.length):e;return n=(0,b.remove)(n),{bom:t,preprocessed:n}}function s(e,t,n,r){return t&&(e=(0,b.add)(e,r)),n?n+e:e}function a(e,t){return N.test(t)?e:e.replace(N,"")}function l(e,t){e=t?"("+e+")":e;try{return(0,_.parse)(e,{allowReturnOutsideFunction:!0})}catch(n){return null}}function u(e,t){var n=(0,S.generate)(e,{format:{quotes:"double",escapeless:!0,compact:!0}});return t?a(n,t):n}function c(e){var t=I.test(e),n=l(e,t);return!n&&t&&(n=l(e,!1),t=!1),{ast:n,isObject:t}}function p(e){return 1===e.body.length&&e.body[0].type===S.Syntax.ExpressionStatement&&e.body[0].expression.type===S.Syntax.ArrayExpression}function d(e){if(e.body.length){var t=e.body[0];if(t.type===S.Syntax.ExpressionStatement&&t.expression.type===S.Syntax.Literal)return"use strict"===t.expression.value}return!1}function f(e,t,n){var r=n?-1:0,o=[],i=0;if(!t.length)return e;t.sort(function(e,t){return e.start-t.start});for(var s=0;s<t.length;s++){var a=t[s],l=a.start+r,c=a.end+r,p=a.parent[a.key];p=a.index!==-1?p[a.index]:p,o.push(e.substring(i,l)),o.push(" "),o.push(u(p,e.substring(l,c))),i+=c-i}return o.push(e.substring(i)),o.join("")}function h(e){return P.test(e)}function m(e,t){var n=i(e),r=n.bom,a=n.preprocessed,l=o(a),u=c(l),h=u.ast,m=u.isObject;if(!h)return e;t=t&&!m&&!p(h);var y=(0,v["default"])(h),g=y.length?f(l,y,m):a;return g=s(g,t,r,d(h)),m&&(g=g.replace(M,"$1")),g}e.__esModule=!0,e.isScriptProcessed=h,e.processScript=m;var y=n("./transform"),v=r(y),g=n("./instruction"),E=r(g),b=n("./header"),_=n("./tools/acorn"),S=n("./tools/esotope"),w=n("../../utils/regexp-escape"),x=r(w),T=n("../../utils/get-bom"),C=r(T),A=/(^|\n)\s*<!--[^\n]*(\n|$)/g,I=/^\s*\{.*\}\s*$/,N=/;\s*$/,M=/^\s*\((.*)\);\s*$/,P=new RegExp([(0,x["default"])(E["default"].getLocation),(0,x["default"])(E["default"].setLocation),(0,x["default"])(E["default"].getProperty),(0,x["default"])(E["default"].setProperty),(0,x["default"])(E["default"].callMethod),(0,x["default"])(E["default"].processScript),(0,x["default"])(E["default"].getStorage),(0,x["default"])(E["default"].getPostMessage)].join("|"))},"instruction.js":function(e,t,n){e.__esModule=!0,e["default"]={getLocation:"__get$Loc",setLocation:"__set$Loc",getProperty:"__get$",setProperty:"__set$",callMethod:"__call$",processScript:"__proc$Script",getEval:"__get$Eval",getStorage:"__get$Storage",getPostMessage:"__get$PostMessage"},t.exports=e["default"]},"instrumented.js":function(e,t,n){function r(e){return c(a,e)}function o(e){return c(l,e)}e.__esModule=!0,e.shouldInstrumentMethod=r,e.shouldInstrumentProperty=o;var i=e.METHODS=["postMessage","replace","assign"],s=e.PROPERTIES=["action","activeElement","attributes","autocomplete","background","backgroundImage","borderImage","childElementCount","cookie","cssText","cursor","data","documentURI","domain","files","firstChild","firstElementChild","formAction","host","hostname","href","innerHTML","innerText","lastChild","lastElementChild","length","listStyle","listStyleImage","localStorage","location","manifest","nextElementSibling","nextSibling","onbeforeunload","onpagehide","onerror","onload","onmessage","origin","outerHTML","pathname","port","protocol","referrer","responseURL","sandbox","scripts","search","sessionStorage","src","status","styleSheets","target","text","textContent","URL","value","which","baseURI"],a=new RegExp("^("+i.join("|")+")$"),l=new RegExp("^("+s.join("|")+")$"),u=RegExp.prototype.test,c=function(e,t){return e.test?e.test(t):u.call(e,t)}},"internal-literal.js":function(e,t,n){e.__esModule=!0,e["default"]={tempVar:"__set$temp"},t.exports=e["default"]},"node-builder.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return{type:b.Syntax.Literal,value:e,raw:'"'+e+'"'}}function i(){return{type:b.Syntax.Identifier,name:S["default"].tempVar}}function s(e,t){return{type:b.Syntax.ExpressionStatement,expression:{type:b.Syntax.AssignmentExpression,operator:"=",left:e,right:t}}}function a(e){return{type:b.Syntax.VariableDeclaration,declarations:[{type:b.Syntax.VariableDeclarator,id:e,init:null}],kind:"var"}}function l(e,t){var n={type:b.Syntax.CallExpression,callee:{type:b.Syntax.Identifier,name:x["default"].processScript},arguments:[e]};return t&&n.arguments.push({type:b.Syntax.Literal,value:!0,raw:"true"}),n}function u(e){return{type:b.Syntax.CallExpression,callee:{type:b.Syntax.Identifier,name:x["default"].getStorage},arguments:[{type:b.Syntax.Identifier,name:e}]}}function c(){return{type:b.Syntax.CallExpression,callee:{type:b.Syntax.Identifier,name:x["default"].getLocation},arguments:[{type:b.Syntax.Identifier,name:"location"}]}}function p(e,t){var n={type:b.Syntax.CallExpression,callee:{type:b.Syntax.MemberExpression,computed:!1,object:{type:b.Syntax.FunctionExpression,id:null,params:[],defaults:[],body:{type:b.Syntax.BlockStatement,body:[{type:b.Syntax.ReturnStatement,argument:{type:b.Syntax.LogicalExpression,operator:"||",left:{type:b.Syntax.CallExpression,callee:{type:b.Syntax.Identifier,name:x["default"].setLocation},arguments:[{type:b.Syntax.Identifier,name:"location"},e]},right:{type:b.Syntax.AssignmentExpression,operator:"=",left:{type:b.Syntax.Identifier,name:"location"},right:e}}}]},rest:null,generator:!1,expression:!1},property:{type:b.Syntax.Identifier,name:"call"}},arguments:[{type:b.Syntax.ThisExpression}]};return t&&(n={type:b.Syntax.SequenceExpression,expressions:[{type:"Literal",value:0,raw:"0"},n]}),n}function d(e,t,n){return{type:b.Syntax.CallExpression,callee:{type:b.Syntax.Identifier,name:x["default"].setProperty},arguments:[t,o(e),n]}}function f(e,t,n){return{type:b.Syntax.CallExpression,callee:{type:b.Syntax.Identifier,name:x["default"].callMethod},arguments:[e,t,{type:b.Syntax.ArrayExpression,elements:n}]}}function h(e,t){return{type:b.Syntax.CallExpression,callee:{type:b.Syntax.Identifier,name:x["default"].getProperty},arguments:[t,o(e)]}}function m(e,t){return{type:b.Syntax.CallExpression,callee:{type:b.Syntax.Identifier,name:x["default"].getProperty},arguments:[t,e]}}function y(e,t,n){return{type:b.Syntax.CallExpression,callee:{type:b.Syntax.Identifier,name:x["default"].setProperty},arguments:[t,e,n]}}function v(e){return{type:b.Syntax.CallExpression,callee:{type:b.Syntax.Identifier,name:x["default"].getEval},arguments:[e]}}function g(e){var t=e.object;return{type:b.Syntax.CallExpression,callee:{type:b.Syntax.Identifier,name:x["default"].getPostMessage},arguments:t?[t]:[{type:b.Syntax.Literal,value:null},e]}}function E(e,t){return{type:b.Syntax.AssignmentExpression,operator:"=",left:e,right:{type:b.Syntax.BinaryExpression,operator:"+",left:e,right:t}}}e.__esModule=!0,e.createStringLiteral=o,e.createTempVarIdentifier=i,e.createAssignmentExprStmt=s,e.createVarDeclaration=a,e.createProcessScriptMethCall=l,e.createGetStorageMethCall=u,e.createLocationGetWrapper=c,e.createLocationSetWrapper=p,e.createPropertySetWrapper=d,e.createMethCallWrapper=f,e.createPropertyGetWrapper=h,e.createComputedPropertyGetWrapper=m,e.createComputedPropertySetWrapper=y,e.createGetEvalMethCall=v,e.createGetPostMessageMethCall=g,e.createExpandedConcatOperation=E;var b=n("./tools/esotope"),_=n("./internal-literal"),S=r(_),w=n("./instruction"),x=r(w)},tools:{acorn:{"expression.js":function(e,t,n){var r=n("./tokentype"),o=n("./state"),i=n("./parseutil"),s=o.Parser.prototype;s.checkPropClash=function(e,t){if(!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var n=e.key,r=void 0;switch(n.type){case"Identifier":r=n.name;break;case"Literal":r=String(n.value);break;default:return}var o=e.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===r&&"init"===o&&(t.proto&&this.raiseRecoverable(n.start,"Redefinition of __proto__ property"),t.proto=!0));r="$"+r;var i=t[r];if(i){var s="init"!==o;(!this.strict&&!s||!i[o])&&s^i.init||this.raiseRecoverable(n.start,"Redefinition of property")}else i=t[r]={init:!1,get:!1,set:!1};i[o]=!0}},s.parseExpression=function(e,t){var n=this.start,o=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===r.types.comma){var s=this.startNodeAt(n,o);for(s.expressions=[i];this.eat(r.types.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i},s.parseMaybeAssign=function(e,t,n){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var o=!1;t||(t=new i.DestructuringErrors,o=!0);var s=this.start,a=this.startLoc;this.type!=r.types.parenL&&this.type!=r.types.name||(this.potentialArrowAt=this.start);var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,s,a)),this.type.isAssign){this.checkPatternErrors(t,!0),o||i.DestructuringErrors.call(t);var u=this.startNodeAt(s,a);return u.operator=this.value,u.left=this.type===r.types.eq?this.toAssignable(l):l,t.shorthandAssign=0,this.checkLVal(l),this.next(),u.right=this.parseMaybeAssign(e),this.finishNode(u,"AssignmentExpression")}return o&&this.checkExpressionErrors(t,!0),l},s.parseMaybeConditional=function(e,t){var n=this.start,o=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(r.types.question)){var s=this.startNodeAt(n,o);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(r.types.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i},s.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,o=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)?o:this.parseExprOp(o,n,r,-1,e)},s.parseExprOp=function(e,t,n,o,i){var s=this.type.binop;if(null!=s&&(!i||this.type!==r.types._in)&&s>o){var a=this.type===r.types.logicalOR||this.type===r.types.logicalAND,l=this.value;this.next();var u=this.start,c=this.startLoc,p=this.parseExprOp(this.parseMaybeUnary(null,!1),u,c,s,i),d=this.buildBinary(t,n,e,p,l,a);return this.parseExprOp(d,t,n,o,i)}return e},s.buildBinary=function(e,t,n,r,o,i){var s=this.startNodeAt(e,t);return s.left=n,s.operator=o,s.right=r,this.finishNode(s,i?"LogicalExpression":"BinaryExpression")},s.parseMaybeUnary=function(e,t){var n=this.start,o=this.startLoc,i=void 0;if(this.inAsync&&this.isContextual("await"))i=this.parseAwait(e),t=!0;else if(this.type.prefix){var s=this.startNode(),a=this.type===r.types.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),a?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):t=!0,i=this.finishNode(s,a?"UpdateExpression":"UnaryExpression")}else{if(i=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return i;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(n,o);l.operator=this.value,l.prefix=!1,l.argument=i,this.checkLVal(i),this.next(),i=this.finishNode(l,"UpdateExpression")}}return!t&&this.eat(r.types.starstar)?this.buildBinary(n,o,i,this.parseMaybeUnary(null,!1),"**",!1):i},s.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(e),o="ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);return this.checkExpressionErrors(e)||o?r:this.parseSubscripts(r,t,n)},s.parseSubscripts=function(e,t,n,o){for(;;){var s=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&!this.canInsertSemicolon();if(this.eat(r.types.dot)){var a=this.startNodeAt(t,n);a.object=e,a.property=this.parseIdent(!0),a.computed=!1,e=this.finishNode(a,"MemberExpression")}else if(this.eat(r.types.bracketL)){var l=this.startNodeAt(t,n);l.object=e,l.property=this.parseExpression(),l.computed=!0,this.expect(r.types.bracketR),e=this.finishNode(l,"MemberExpression")}else if(!o&&this.eat(r.types.parenL)){var u=new i.DestructuringErrors,c=this.yieldPos,p=this.awaitPos;this.yieldPos=0,this.awaitPos=0;var d=this.parseExprList(r.types.parenR,this.options.ecmaVersion>=8,!1,u);if(s&&!this.canInsertSemicolon()&&this.eat(r.types.arrow))return this.checkPatternErrors(u,!0),this.checkYieldAwaitInDefaultParams(),this.yieldPos=c,this.awaitPos=p,this.parseArrowExpression(this.startNodeAt(t,n),d,!0);this.checkExpressionErrors(u,!0),this.yieldPos=c||this.yieldPos,this.awaitPos=p||this.awaitPos;var f=this.startNodeAt(t,n);f.callee=e,f.arguments=d,e=this.finishNode(f,"CallExpression")}else{if(this.type!==r.types.backQuote)return e;var h=this.startNodeAt(t,n);h.tag=e,h.quasi=this.parseTemplate(),e=this.finishNode(h,"TaggedTemplateExpression")}}},s.parseExprAtom=function(e){var t=void 0,n=this.potentialArrowAt==this.start;switch(this.type){case r.types._super:this.inFunction||this.raise(this.start,"'super' outside of function or class");case r.types._this:var o=this.type===r.types._this?"ThisExpression":"Super";return t=this.startNode(),this.next(),this.finishNode(t,o);case r.types.name:var i=this.start,s=this.startLoc,a=this.parseIdent(this.type!==r.types.name);if(this.options.ecmaVersion>=8&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(r.types._function))return this.parseFunction(this.startNodeAt(i,s),!1,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(r.types.arrow))return this.parseArrowExpression(this.startNodeAt(i,s),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===r.types.name)return a=this.parseIdent(),!this.canInsertSemicolon()&&this.eat(r.types.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,s),[a],!0)}return a;case r.types.regexp:var l=this.value;return t=this.parseLiteral(l.value),t.regex={pattern:l.pattern,flags:l.flags},t;case r.types.num:case r.types.string:return this.parseLiteral(this.value);case r.types._null:case r.types._true:case r.types._false:return t=this.startNode(),t.value=this.type===r.types._null?null:this.type===r.types._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case r.types.parenL:return this.parseParenAndDistinguishExpression(n);case r.types.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(r.types.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case r.types.braceL:return this.parseObj(!1,e);case r.types._function:return t=this.startNode(),this.next(),this.parseFunction(t,!1);case r.types._class:return this.parseClass(this.startNode(),!1);case r.types._new:return this.parseNew();case r.types.backQuote:return this.parseTemplate();default:this.unexpected()}},s.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(t,"Literal")},s.parseParenExpression=function(){this.expect(r.types.parenL);var e=this.parseExpression();return this.expect(r.types.parenR),e},s.parseParenAndDistinguishExpression=function(e){var t=this.start,n=this.startLoc,o=void 0,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a=this.start,l=this.startLoc,u=[],c=!0,p=!1,d=new i.DestructuringErrors,f=this.yieldPos,h=this.awaitPos,m=void 0,y=void 0;for(this.yieldPos=0,this.awaitPos=0;this.type!==r.types.parenR;){if(c?c=!1:this.expect(r.types.comma),s&&this.afterTrailingComma(r.types.parenR,!0)){p=!0;break}if(this.type===r.types.ellipsis){m=this.start,u.push(this.parseParenItem(this.parseRest())),this.type===r.types.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}this.type!==r.types.parenL||y||(y=this.start),u.push(this.parseMaybeAssign(!1,d,this.parseParenItem))}var v=this.start,g=this.startLoc;if(this.expect(r.types.parenR),e&&!this.canInsertSemicolon()&&this.eat(r.types.arrow))return this.checkPatternErrors(d,!0),this.checkYieldAwaitInDefaultParams(),y&&this.unexpected(y),this.yieldPos=f,this.awaitPos=h,this.parseParenArrowList(t,n,u);u.length&&!p||this.unexpected(this.lastTokStart),m&&this.unexpected(m),this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(o=this.startNodeAt(a,l),o.expressions=u,this.finishNodeAt(o,"SequenceExpression",v,g)):o=u[0]}else o=this.parseParenExpression();if(this.options.preserveParens){var E=this.startNodeAt(t,n);return E.expression=o,this.finishNode(E,"ParenthesizedExpression")}return o},s.parseParenItem=function(e){return e},s.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var a=[];s.parseNew=function(){var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(r.types.dot))return e.meta=t,e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty");var n=this.start,o=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(),n,o,!0),this.eat(r.types.parenL)?e.arguments=this.parseExprList(r.types.parenR,this.options.ecmaVersion>=8,!1):e.arguments=a,this.finishNode(e,"NewExpression")},s.parseTemplateElement=function(){var e=this.startNode();return e.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),e.tail=this.type===r.types.backQuote,this.finishNode(e,"TemplateElement")},s.parseTemplate=function(){var e=this.startNode();this.next(),e.expressions=[];var t=this.parseTemplateElement();for(e.quasis=[t];!t.tail;)this.expect(r.types.dollarBraceL),e.expressions.push(this.parseExpression()),this.expect(r.types.braceR),e.quasis.push(t=this.parseTemplateElement());return this.next(),this.finishNode(e,"TemplateLiteral")},s.parseObj=function(e,t){var n=this.startNode(),o=!0,i={};for(n.properties=[],this.next();!this.eat(r.types.braceR);){if(o)o=!1;else if(this.expect(r.types.comma),this.afterTrailingComma(r.types.braceR))break;var s=this.startNode(),a=void 0,l=void 0,u=void 0,c=void 0;
this.options.ecmaVersion>=6&&(s.method=!1,s.shorthand=!1,(e||t)&&(u=this.start,c=this.startLoc),e||(a=this.eat(r.types.star))),this.parsePropertyName(s),e||!(this.options.ecmaVersion>=8)||a||s.computed||"Identifier"!==s.key.type||"async"!==s.key.name||this.type===r.types.parenL||this.canInsertSemicolon()?l=!1:(l=!0,this.parsePropertyName(s,t)),this.parsePropertyValue(s,e,a,l,u,c,t),this.checkPropClash(s,i),n.properties.push(this.finishNode(s,"Property"))}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},s.parsePropertyValue=function(e,t,n,o,i,s,a){if((n||o)&&this.type===r.types.colon&&this.unexpected(),this.eat(r.types.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===r.types.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,o);else if(this.options.ecmaVersion>=5&&!e.computed&&"Identifier"===e.key.type&&("get"===e.key.name||"set"===e.key.name)&&this.type!=r.types.comma&&this.type!=r.types.braceR){(n||o||t)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var l="get"===e.kind?0:1;if(e.value.params.length!==l){var u=e.value.start;"get"===e.kind?this.raiseRecoverable(u,"getter should have no params"):this.raiseRecoverable(u,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((this.keywords.test(e.key.name)||(this.strict?this.reservedWordsStrict:this.reservedWords).test(e.key.name)||this.inGenerator&&"yield"==e.key.name||this.inAsync&&"await"==e.key.name)&&this.raiseRecoverable(e.key.start,"'"+e.key.name+"' can not be used as shorthand property"),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,e.key):this.type===r.types.eq&&a?(a.shorthandAssign||(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected()},s.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(r.types.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(r.types.bracketR),e.key;e.computed=!1}return e.key=this.type===r.types.num||this.type===r.types.string?this.parseExprAtom():this.parseIdent(!0)},s.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=!1,e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},s.parseMethod=function(e,t){var n=this.startNode(),o=this.inGenerator,i=this.inAsync,s=this.yieldPos,a=this.awaitPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=e),this.options.ecmaVersion>=8&&(n.async=!!t),this.inGenerator=n.generator,this.inAsync=n.async,this.yieldPos=0,this.awaitPos=0,this.expect(r.types.parenL),n.params=this.parseBindingList(r.types.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1),this.inGenerator=o,this.inAsync=i,this.yieldPos=s,this.awaitPos=a,this.finishNode(n,"FunctionExpression")},s.parseArrowExpression=function(e,t,n){var r=this.inGenerator,o=this.inAsync,i=this.yieldPos,s=this.awaitPos;return this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.inGenerator=!1,this.inAsync=e.async,this.yieldPos=0,this.awaitPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0),this.inGenerator=r,this.inAsync=o,this.yieldPos=i,this.awaitPos=s,this.finishNode(e,"ArrowFunctionExpression")},s.parseFunctionBody=function(e,t){var n=t&&this.type!==r.types.braceL;if(n)e.body=this.parseMaybeAssign(),e.expression=!0;else{var o=this.inFunction,i=this.labels;this.inFunction=!0,this.labels=[],e.body=this.parseBlock(!0),e.expression=!1,this.inFunction=o,this.labels=i}var s=!n&&e.body.body.length&&this.isUseStrict(e.body.body[0])?e.body.body[0]:null;if(s&&this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params)&&this.raiseRecoverable(s.start,"Illegal 'use strict' directive in function with non-simple parameter list"),this.strict||s){var a=this.strict;this.strict=!0,e.id&&this.checkLVal(e.id,!0),this.checkParams(e),this.strict=a}else!t&&this.isSimpleParamList(e.params)||this.checkParams(e)},s.isSimpleParamList=function(e){for(var t=0;t<e.length;t++)if("Identifier"!==e[t].type)return!1;return!0},s.checkParams=function(e){for(var t={},n=0;n<e.params.length;n++)this.checkLVal(e.params[n],!0,t)},s.parseExprList=function(e,t,n,o){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(r.types.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===r.types.comma?a=null:this.type===r.types.ellipsis?(a=this.parseSpread(o),this.type===r.types.comma&&o&&!o.trailingComma&&(o.trailingComma=this.start)):a=this.parseMaybeAssign(!1,o),i.push(a)}return i},s.parseIdent=function(e){var t=this.startNode();return e&&"never"==this.options.allowReserved&&(e=!1),this.type===r.types.name?(!e&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(this.value)&&(this.options.ecmaVersion>=6||this.input.slice(this.start,this.end).indexOf("\\")==-1)&&this.raiseRecoverable(this.start,"The keyword '"+this.value+"' is reserved"),this.inGenerator&&"yield"===this.value&&this.raiseRecoverable(this.start,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&"await"===this.value&&this.raiseRecoverable(this.start,"Can not use 'await' as identifier inside an async function"),t.name=this.value):e&&this.type.keyword?t.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(t,"Identifier")},s.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type==r.types.semi||this.canInsertSemicolon()||this.type!=r.types.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(r.types.star),e.argument=this.parseMaybeAssign()),this.finishNode(e,"YieldExpression")},s.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0),this.finishNode(e,"AwaitExpression")}},"identifier.js":function(e,t,n){function r(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}}function o(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&u.test(String.fromCharCode(e)):t!==!1&&r(e,p)))}function i(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&c.test(String.fromCharCode(e)):t!==!1&&(r(e,p)||r(e,d)))))}e.__esModule=!0,e.isIdentifierStart=o,e.isIdentifierChar=i;var s=(e.reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",7:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),a=(e.keywords={5:s,6:s+" const class extends export import super"},"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"),l="-------------------------------------------------------------------------------------------------------------------------------------------------",u=new RegExp("["+a+"]"),c=new RegExp("["+a+l+"]");a=l=null;var p=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,264,8,2,36,18,0,50,29,881,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,0,32,6124,20,754,9486,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541],d=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,838,7,2,7,17,9,57,21,2,13,19882,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239]},"index.js":function(e,t,n){function r(e,t){return new a.Parser(t,e).parse()}function o(e,t,n){var r=new a.Parser(n,e,t);return r.nextToken(),r.parseExpression()}function i(e,t){return new a.Parser(t,e)}function s(t,n,r){e.parse_dammit=y=t,e.LooseParser=v=n,e.pluginsLoose=g=r}e.__esModule=!0,e.pluginsLoose=e.LooseParser=e.parse_dammit=e.version=e.lineBreakG=e.lineBreak=e.isNewLine=e.Token=e.isIdentifierStart=e.isIdentifierChar=e.tokContexts=e.TokContext=e.tokTypes=e.TokenType=e.Node=e.getLineInfo=e.SourceLocation=e.Position=e.defaultOptions=e.plugins=e.Parser=void 0;var a=n("./state");Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return a.Parser}}),Object.defineProperty(e,"plugins",{enumerable:!0,get:function(){return a.plugins}});var l=n("./options");Object.defineProperty(e,"defaultOptions",{enumerable:!0,get:function(){return l.defaultOptions}});var u=n("./locutil");Object.defineProperty(e,"Position",{enumerable:!0,get:function(){return u.Position}}),Object.defineProperty(e,"SourceLocation",{enumerable:!0,get:function(){return u.SourceLocation}}),Object.defineProperty(e,"getLineInfo",{enumerable:!0,get:function(){return u.getLineInfo}});var c=n("./node");Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return c.Node}});var p=n("./tokentype");Object.defineProperty(e,"TokenType",{enumerable:!0,get:function(){return p.TokenType}}),Object.defineProperty(e,"tokTypes",{enumerable:!0,get:function(){return p.types}});var d=n("./tokencontext");Object.defineProperty(e,"TokContext",{enumerable:!0,get:function(){return d.TokContext}}),Object.defineProperty(e,"tokContexts",{enumerable:!0,get:function(){return d.types}});var f=n("./identifier");Object.defineProperty(e,"isIdentifierChar",{enumerable:!0,get:function(){return f.isIdentifierChar}}),Object.defineProperty(e,"isIdentifierStart",{enumerable:!0,get:function(){return f.isIdentifierStart}});var h=n("./tokenize");Object.defineProperty(e,"Token",{enumerable:!0,get:function(){return h.Token}});var m=n("./whitespace");Object.defineProperty(e,"isNewLine",{enumerable:!0,get:function(){return m.isNewLine}}),Object.defineProperty(e,"lineBreak",{enumerable:!0,get:function(){return m.lineBreak}}),Object.defineProperty(e,"lineBreakG",{enumerable:!0,get:function(){return m.lineBreakG}}),e.parse=r,e.parseExpressionAt=o,e.tokenizer=i,e.addLooseExports=s,n("./parseutil"),n("./statement"),n("./lval"),n("./expression"),n("./location");var y=(e.version="4.0.2",e.parse_dammit=void 0),v=e.LooseParser=void 0,g=e.pluginsLoose=void 0},"location.js":function(e,t,n){var r=n("./state"),o=n("./locutil"),i=r.Parser.prototype;i.raise=function(e,t){var n=(0,o.getLineInfo)(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},i.raiseRecoverable=i.raise,i.curPosition=function(){if(this.options.locations)return new o.Position(this.curLine,this.pos-this.lineStart)}},"locutil.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=1,r=0;;){i.lineBreakG.lastIndex=r;var o=i.lineBreakG.exec(e);if(!(o&&o.index<t))return new s(n,t-r);++n,r=o.index+o[0].length}}e.__esModule=!0,e.SourceLocation=e.Position=void 0,e.getLineInfo=o;var i=n("./whitespace"),s=e.Position=function(){function e(t,n){r(this,e),this.line=t,this.column=n}return e.prototype.offset=function(t){return new e(this.line,this.column+t)},e}();e.SourceLocation=function a(e,t,n){r(this,a),this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)}},"lval.js":function(e,t,n){var r=n("./tokentype"),o=n("./state"),i=n("./util"),s=o.Parser.prototype;s.toAssignable=function(e,t){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":e.type="ObjectPattern";for(var n=0;n<e.properties.length;n++){var r=e.properties[n];"init"!==r.kind&&this.raise(r.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(r.value,t)}break;case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,t);break;case"AssignmentExpression":if("="!==e.operator){this.raise(e.left.end,"Only '=' operator can be used for specifying default value.");break}e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":e.expression=this.toAssignable(e.expression,t);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}return e},s.toAssignableList=function(e,t){var n=e.length;if(n){var r=e[n-1];if(r&&"RestElement"==r.type)--n;else if(r&&"SpreadElement"==r.type){r.type="RestElement";var o=r.argument;this.toAssignable(o,t),"Identifier"!==o.type&&"MemberExpression"!==o.type&&"ArrayPattern"!==o.type&&this.unexpected(o.start),--n}t&&r&&"RestElement"===r.type&&"Identifier"!==r.argument.type&&this.unexpected(r.argument.start)}for(var i=0;i<n;i++){var s=e[i];s&&this.toAssignable(s,t)}return e},s.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},s.parseRest=function(e){var t=this.startNode();return this.next(),e?t.argument=this.type===r.types.name?this.parseIdent():this.unexpected():t.argument=this.type===r.types.name||this.type===r.types.bracketL?this.parseBindingAtom():this.unexpected(),this.finishNode(t,"RestElement")},s.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case r.types.name:return this.parseIdent();case r.types.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(r.types.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case r.types.braceL:return this.parseObj(!0);default:this.unexpected()}},s.parseBindingList=function(e,t,n,o){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(r.types.comma),t&&this.type===r.types.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===r.types.ellipsis){var a=this.parseRest(o);this.parseBindingListItem(a),i.push(a),this.type===r.types.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var l=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(l),i.push(l)}return i},s.parseBindingListItem=function(e){return e},s.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(r.types.eq))return n;var o=this.startNodeAt(e,t);return o.left=n,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")},s.checkLVal=function(e,t,n){switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&((0,i.has)(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0);break;case"MemberExpression":t&&this.raiseRecoverable(e.start,(t?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var r=0;r<e.properties.length;r++)this.checkLVal(e.properties[r].value,t,n);break;case"ArrayPattern":for(var o=0;o<e.elements.length;o++){var s=e.elements[o];s&&this.checkLVal(s,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}}},"node.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}e.__esModule=!0,e.Node=void 0;var i=n("./state"),s=n("./locutil"),a=e.Node=function u(e,t,n){r(this,u),this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new s.SourceLocation(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},l=i.Parser.prototype;l.startNode=function(){return new a(this,this.start,this.startLoc)},l.startNodeAt=function(e,t){return new a(this,e,t)},l.finishNode=function(e,t){return o.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},l.finishNodeAt=function(e,t,n,r){return o.call(this,e,t,n,r)}},"options.js":function(e,t,n){function r(e){var t={};for(var n in a)t[n]=e&&(0,i.has)(e,n)?e[n]:a[n];return t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),(0,i.isArray)(t.onToken)&&!function(){var e=t.onToken;t.onToken=function(t){return e.push(t)}}(),(0,i.isArray)(t.onComment)&&(t.onComment=o(t,t.onComment)),t}function o(e,t){return function(n,r,o,i,a,l){var u={type:n?"Block":"Line",value:r,start:o,end:i};e.locations&&(u.loc=new s.SourceLocation(this,a,l)),e.ranges&&(u.range=[o,i]),t.push(u)}}e.__esModule=!0,e.defaultOptions=void 0,e.getOptions=r;var i=n("./util"),s=n("./locutil"),a=e.defaultOptions={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}}},"parseutil.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.DestructuringErrors=void 0;var o=n("./tokentype"),i=n("./state"),s=n("./whitespace"),a=i.Parser.prototype;a.isUseStrict=function(e){return!1},a.eat=function(e){return this.type===e&&(this.next(),!0)},a.isContextual=function(e){return this.type===o.types.name&&this.value===e},a.eatContextual=function(e){return this.value===e&&this.eat(o.types.name)},a.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},a.canInsertSemicolon=function(){return this.type===o.types.eof||this.type===o.types.braceR||s.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},a.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},a.semicolon=function(){this.eat(o.types.semi)||this.insertSemicolon()||this.unexpected()},a.afterTrailingComma=function(e,t){if(this.type==e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},a.expect=function(e){this.eat(e)||this.unexpected()},a.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")};e.DestructuringErrors=function l(){r(this,l),this.shorthandAssign=0,this.trailingComma=0};a.checkPatternErrors=function(e,t){var n=e&&e.trailingComma;return t?void(n&&this.raise(n,"Comma is not permitted after the rest element")):!!n},a.checkExpressionErrors=function(e,t){var n=e&&e.shorthandAssign;return t?void(n&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns")):!!n},a.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")}},"state.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return new RegExp("^("+e.replace(/ /g,"|")+")$")}e.__esModule=!0,e.Parser=e.plugins=void 0;var i=n("./identifier"),s=n("./tokentype"),a=n("./whitespace"),l=n("./options"),u=e.plugins={};e.Parser=function(){function e(t,n,u){r(this,e),this.options=t=(0,l.getOptions)(t),this.sourceFile=t.sourceFile,this.keywords=o(i.keywords[t.ecmaVersion>=6?6:5]);var c=t.allowReserved?"":i.reservedWords[t.ecmaVersion]+("module"==t.sourceType?" await":"");this.reservedWords=o(c);var p=(c?c+" ":"")+i.reservedWords.strict;this.reservedWordsStrict=o(p),this.reservedWordsStrictBind=o(p+" "+i.reservedWords.strictBind),this.input=String(n),this.containsEsc=!1,this.loadPlugins(t.plugins),u?(this.pos=u,this.lineStart=this.input.lastIndexOf("\n",u-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(a.lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=s.types.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.strict=this.inModule="module"===t.sourceType,this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2)}return e.prototype.isKeyword=function(e){return this.keywords.test(e)},e.prototype.isReservedWord=function(e){return this.reservedWords.test(e)},e.prototype.extend=function(e,t){this[e]=t(this[e])},e.prototype.loadPlugins=function(e){for(var t in e){var n=u[t];if(!n)throw new Error("Plugin '"+t+"' not found");n(this,e[t])}},e.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},e}()},"statement.js":function(e,t,n){var r=n("./tokentype"),o=n("./state"),i=n("./whitespace"),s=n("./identifier"),a=n("./parseutil"),l=o.Parser.prototype;l.parseTopLevel=function(e){var t=!0,n={};for(e.body||(e.body=[]);this.type!==r.types.eof;){var o=this.parseStatement(!0,!0,n);e.body.push(o),t&&(this.isUseStrict(o)&&this.setStrict(!0),t=!1)}return this.next(),this.options.ecmaVersion>=6&&(e.sourceType=this.options.sourceType),this.finishNode(e,"Program")};var u={kind:"loop"},c={kind:"switch"};l.isLet=function(){if(this.type!==r.types.name||this.options.ecmaVersion<6||"let"!=this.value)return!1;i.skipWhiteSpace.lastIndex=this.pos;var e=i.skipWhiteSpace.exec(this.input),t=this.pos+e[0].length,n=this.input.charCodeAt(t);if(91===n||123==n)return!0;if((0,s.isIdentifierStart)(n,!0)){for(var o=t+1;(0,s.isIdentifierChar)(this.input.charCodeAt(o),!0);++o);var a=this.input.slice(t,o);if(!this.isKeyword(a))return!0}return!1},l.isAsyncFunction=function(){if(this.type!==r.types.name||this.options.ecmaVersion<8||"async"!=this.value)return!1;i.skipWhiteSpace.lastIndex=this.pos;var e=i.skipWhiteSpace.exec(this.input),t=this.pos+e[0].length;return!(i.lineBreak.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!=this.input.length&&(0,s.isIdentifierChar)(this.input.charAt(t+8)))},l.parseStatement=function(e,t,n){var o=this.type,i=this.startNode(),s=void 0;switch(this.isLet()&&(o=r.types._var,s="let"),o){case r.types._break:case r.types._continue:return this.parseBreakContinueStatement(i,o.keyword);case r.types._debugger:return this.parseDebuggerStatement(i);case r.types._do:return this.parseDoStatement(i);case r.types._for:return this.parseForStatement(i);case r.types._function:if(!e&&this.options.ecmaVersion>=6)break;return this.parseFunctionStatement(i,!1);case r.types._class:return e||this.unexpected(),this.parseClass(i,!0);case r.types._if:return this.parseIfStatement(i);case r.types._return:return this.parseReturnStatement(i);case r.types._switch:return this.parseSwitchStatement(i);case r.types._throw:return this.parseThrowStatement(i);case r.types._try:return this.parseTryStatement(i);case r.types._const:case r.types._var:return s=s||this.value,e||"var"==s||this.unexpected(),this.parseVarStatement(i,s);case r.types._while:return this.parseWhileStatement(i);case r.types._with:return this.parseWithStatement(i);case r.types.braceL:return this.parseBlock();case r.types.semi:return this.parseEmptyStatement(i);case r.types._export:case r.types._import:return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===r.types._import?this.parseImport(i):this.parseExport(i,n)}if(this.isAsyncFunction()&&e)return this.next(),this.parseFunctionStatement(i,!0);var a=this.value,l=this.parseExpression();return o===r.types.name&&"Identifier"===l.type&&this.eat(r.types.colon)?this.parseLabeledStatement(i,a,l):this.parseExpressionStatement(i,l)},l.parseBreakContinueStatement=function(e,t){var n="break"==t;this.next(),this.eat(r.types.semi)||this.insertSemicolon()?e.label=null:this.type!==r.types.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var i=this.labels[o];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return o===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},l.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},l.parseDoStatement=function(e){return this.next(),this.labels.push(u),e.body=this.parseStatement(!1),this.labels.pop(),this.expect(r.types._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(r.types.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},l.parseForStatement=function(e){if(this.next(),this.labels.push(u),this.expect(r.types.parenL),this.type===r.types.semi)return this.parseFor(e,null);var t=this.isLet();if(this.type===r.types._var||this.type===r.types._const||t){var n=this.startNode(),o=t?"let":this.value;return this.next(),this.parseVar(n,!0,o),this.finishNode(n,"VariableDeclaration"),!(this.type===r.types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==n.declarations.length||"var"!==o&&n.declarations[0].init?this.parseFor(e,n):this.parseForIn(e,n)}var i=new a.DestructuringErrors,s=this.parseExpression(!0,i);return this.type===r.types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.checkPatternErrors(i,!0),this.toAssignable(s),this.checkLVal(s),this.parseForIn(e,s)):(this.checkExpressionErrors(i,!0),this.parseFor(e,s))},l.parseFunctionStatement=function(e,t){return this.next(),this.parseFunction(e,!0,!1,t)},l.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement(!1),e.alternate=this.eat(r.types._else)?this.parseStatement(!1):null,this.finishNode(e,"IfStatement")},l.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(r.types.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},l.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(r.types.braceL),this.labels.push(c);for(var t,n=!1;this.type!=r.types.braceR;)if(this.type===r.types._case||this.type===r.types._default){var o=this.type===r.types._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),o?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(r.types.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(!0));return t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},l.parseThrowStatement=function(e){return this.next(),i.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var p=[];l.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===r.types._catch){var t=this.startNode();this.next(),this.expect(r.types.parenL),t.param=this.parseBindingAtom(),this.checkLVal(t.param,!0),this.expect(r.types.parenR),t.body=this.parseBlock(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(r.types._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},l.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},l.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(u),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,"WhileStatement")},l.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement(!1),this.finishNode(e,"WithStatement")},l.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},l.parseLabeledStatement=function(e,t,n){for(var o=0;o<this.labels.length;++o)this.labels[o].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var i=this.type.isLoop?"loop":this.type===r.types._switch?"switch":null,s=this.labels.length-1;s>=0;s--){var a=this.labels[s];if(a.statementStart!=e.start)break;a.statementStart=this.start,a.kind=i}return this.labels.push({name:t,kind:i,statementStart:this.start}),e.body=this.parseStatement(!0),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},l.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},l.parseBlock=function(e){var t=this.startNode(),n=!0,o=void 0;for(t.body=[],this.expect(r.types.braceL);!this.eat(r.types.braceR);){var i=this.parseStatement(!0);
t.body.push(i),n&&e&&this.isUseStrict(i)&&(o=this.strict,this.setStrict(this.strict=!0)),n=!1}return o===!1&&this.setStrict(!1),this.finishNode(t,"BlockStatement")},l.parseFor=function(e,t){return e.init=t,this.expect(r.types.semi),e.test=this.type===r.types.semi?null:this.parseExpression(),this.expect(r.types.semi),e.update=this.type===r.types.parenR?null:this.parseExpression(),this.expect(r.types.parenR),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,"ForStatement")},l.parseForIn=function(e,t){var n=this.type===r.types._in?"ForInStatement":"ForOfStatement";return this.next(),e.left=t,e.right=this.parseExpression(),this.expect(r.types.parenR),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,n)},l.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var o=this.startNode();if(this.parseVarId(o),this.eat(r.types.eq)?o.init=this.parseMaybeAssign(t):"const"!==n||this.type===r.types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"==o.id.type||t&&(this.type===r.types._in||this.isContextual("of"))?o.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(r.types.comma))break}return e},l.parseVarId=function(e){e.id=this.parseBindingAtom(),this.checkLVal(e.id,!0)},l.parseFunction=function(e,t,n,o){this.initFunction(e),this.options.ecmaVersion>=6&&!o&&(e.generator=this.eat(r.types.star)),this.options.ecmaVersion>=8&&(e.async=!!o),t&&(e.id=this.parseIdent());var i=this.inGenerator,s=this.inAsync,a=this.yieldPos,l=this.awaitPos;return this.inGenerator=e.generator,this.inAsync=e.async,this.yieldPos=0,this.awaitPos=0,t||this.type!==r.types.name||(e.id=this.parseIdent()),this.parseFunctionParams(e),this.parseFunctionBody(e,n),this.inGenerator=i,this.inAsync=s,this.yieldPos=a,this.awaitPos=l,this.finishNode(e,t?"FunctionDeclaration":"FunctionExpression")},l.parseFunctionParams=function(e){this.expect(r.types.parenL),e.params=this.parseBindingList(r.types.parenR,!1,this.options.ecmaVersion>=8,!0),this.checkYieldAwaitInDefaultParams()},l.parseClass=function(e,t){this.next(),this.parseClassId(e,t),this.parseClassSuper(e);var n=this.startNode(),o=!1;for(n.body=[],this.expect(r.types.braceL);!this.eat(r.types.braceR);)if(!this.eat(r.types.semi)){var i=this.startNode(),s=this.eat(r.types.star),a=!1,l=this.type===r.types.name&&"static"===this.value;this.parsePropertyName(i),i["static"]=l&&this.type!==r.types.parenL,i["static"]&&(s&&this.unexpected(),s=this.eat(r.types.star),this.parsePropertyName(i)),this.options.ecmaVersion>=8&&!s&&!i.computed&&"Identifier"===i.key.type&&"async"===i.key.name&&this.type!==r.types.parenL&&!this.canInsertSemicolon()&&(a=!0,this.parsePropertyName(i)),i.kind="method";var u=!1;if(!i.computed){var c=i.key;s||a||"Identifier"!==c.type||this.type===r.types.parenL||"get"!==c.name&&"set"!==c.name||(u=!0,i.kind=c.name,c=this.parsePropertyName(i)),!i["static"]&&("Identifier"===c.type&&"constructor"===c.name||"Literal"===c.type&&"constructor"===c.value)&&(o&&this.raise(c.start,"Duplicate constructor in the same class"),u&&this.raise(c.start,"Constructor can't have get/set modifier"),s&&this.raise(c.start,"Constructor can't be a generator"),a&&this.raise(c.start,"Constructor can't be an async method"),i.kind="constructor",o=!0)}if(this.parseClassMethod(n,i,s,a),u){var p="get"===i.kind?0:1;if(i.value.params.length!==p){var d=i.value.start;"get"===i.kind?this.raiseRecoverable(d,"getter should have no params"):this.raiseRecoverable(d,"setter should have exactly one param")}else"set"===i.kind&&"RestElement"===i.value.params[0].type&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params")}}return e.body=this.finishNode(n,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},l.parseClassMethod=function(e,t,n,r){t.value=this.parseMethod(n,r),e.body.push(this.finishNode(t,"MethodDefinition"))},l.parseClassId=function(e,t){e.id=this.type===r.types.name?this.parseIdent():t?this.unexpected():null},l.parseClassSuper=function(e){e.superClass=this.eat(r.types._extends)?this.parseExprSubscripts():null},l.parseExport=function(e,t){if(this.next(),this.eat(r.types.star))return this.expectContextual("from"),e.source=this.type===r.types.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(r.types._default)){this.checkExport(t,"default",this.lastTokStart);var n=this.type==r.types.parenL,o=this.parseMaybeAssign(),i=!0;return n||"FunctionExpression"!=o.type&&"ClassExpression"!=o.type||(i=!1,o.id&&(o.type="FunctionExpression"==o.type?"FunctionDeclaration":"ClassDeclaration")),e.declaration=o,i&&this.semicolon(),this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(!0),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))e.source=this.type===r.types.string?this.parseExprAtom():this.unexpected();else{for(var s=0;s<e.specifiers.length;s++)(this.keywords.test(e.specifiers[s].local.name)||this.reservedWords.test(e.specifiers[s].local.name))&&this.unexpected(e.specifiers[s].local.start);e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},l.checkExport=function(e,t,n){e&&(Object.prototype.hasOwnProperty.call(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},l.checkPatternExport=function(e,t){var n=t.type;if("Identifier"==n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"==n)for(var r=0;r<t.properties.length;++r)this.checkPatternExport(e,t.properties[r].value);else if("ArrayPattern"==n)for(var o=0;o<t.elements.length;++o){var i=t.elements[o];i&&this.checkPatternExport(e,i)}else"AssignmentPattern"==n?this.checkPatternExport(e,t.left):"ParenthesizedExpression"==n&&this.checkPatternExport(e,t.expression)},l.checkVariableExport=function(e,t){if(e)for(var n=0;n<t.length;n++)this.checkPatternExport(e,t[n].id)},l.shouldParseExportStatement=function(){return this.type.keyword||this.isLet()||this.isAsyncFunction()},l.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(r.types.braceL);!this.eat(r.types.braceR);){if(n)n=!1;else if(this.expect(r.types.comma),this.afterTrailingComma(r.types.braceR))break;var o=this.startNode();o.local=this.parseIdent(this.type===r.types._default),o.exported=this.eatContextual("as")?this.parseIdent(!0):o.local,this.checkExport(e,o.exported.name,o.exported.start),t.push(this.finishNode(o,"ExportSpecifier"))}return t},l.parseImport=function(e){return this.next(),this.type===r.types.string?(e.specifiers=p,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===r.types.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},l.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===r.types.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,!0),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(r.types.comma))return e}if(this.type===r.types.star){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLVal(o.local,!0),e.push(this.finishNode(o,"ImportNamespaceSpecifier")),e}for(this.expect(r.types.braceL);!this.eat(r.types.braceR);){if(t)t=!1;else if(this.expect(r.types.comma),this.afterTrailingComma(r.types.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(i.local=i.imported,this.isKeyword(i.local.name)&&this.unexpected(i.local.start),this.reservedWordsStrict.test(i.local.name)&&this.raise(i.local.start,"The keyword '"+i.local.name+"' is reserved")),this.checkLVal(i.local,!0),e.push(this.finishNode(i,"ImportSpecifier"))}return e}},"tokencontext.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.types=e.TokContext=void 0;var o=n("./state"),i=n("./tokentype"),s=n("./whitespace"),a=e.TokContext=function c(e,t,n,o){r(this,c),this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=o},l=e.types={b_stat:new a("{",(!1)),b_expr:new a("{",(!0)),b_tmpl:new a("${",(!0)),p_stat:new a("(",(!1)),p_expr:new a("(",(!0)),q_tmpl:new a("`",(!0),(!0),function(e){return e.readTmplToken()}),f_expr:new a("function",(!0))},u=o.Parser.prototype;u.initialContext=function(){return[l.b_stat]},u.braceIsBlock=function(e){if(e===i.types.colon){var t=this.curContext();if(t===l.b_stat||t===l.b_expr)return!t.isExpr}return e===i.types._return?s.lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):e===i.types._else||e===i.types.semi||e===i.types.eof||e===i.types.parenR||(e==i.types.braceL?this.curContext()===l.b_stat:!this.exprAllowed)},u.updateContext=function(e){var t=void 0,n=this.type;n.keyword&&e==i.types.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},i.types.parenR.updateContext=i.types.braceR.updateContext=function(){if(1==this.context.length)return void(this.exprAllowed=!0);var e=this.context.pop();e===l.b_stat&&this.curContext()===l.f_expr?(this.context.pop(),this.exprAllowed=!1):e===l.b_tmpl?this.exprAllowed=!0:this.exprAllowed=!e.isExpr},i.types.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?l.b_stat:l.b_expr),this.exprAllowed=!0},i.types.dollarBraceL.updateContext=function(){this.context.push(l.b_tmpl),this.exprAllowed=!0},i.types.parenL.updateContext=function(e){var t=e===i.types._if||e===i.types._for||e===i.types._with||e===i.types._while;this.context.push(t?l.p_stat:l.p_expr),this.exprAllowed=!0},i.types.incDec.updateContext=function(){},i.types._function.updateContext=function(e){e.beforeExpr&&e!==i.types.semi&&e!==i.types._else&&(e!==i.types.colon&&e!==i.types.braceL||this.curContext()!==l.b_stat)&&this.context.push(l.f_expr),this.exprAllowed=!1},i.types.backQuote.updateContext=function(){this.curContext()===l.q_tmpl?this.context.pop():this.context.push(l.q_tmpl),this.exprAllowed=!1}},"tokenize.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r){try{return new RegExp(e,t)}catch(o){if(void 0!==n)throw o instanceof SyntaxError&&r.raise(n,"Error parsing regular expression: "+o.message),o}}function i(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(1023&e)+56320))}e.__esModule=!0,e.Token=void 0;var s=n("./identifier"),a=n("./tokentype"),l=n("./state"),u=n("./locutil"),c=n("./whitespace"),p=e.Token=function m(e){r(this,m),this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new u.SourceLocation(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},d=l.Parser.prototype,f="object"==typeof Packages&&"[object JavaPackage]"==Object.prototype.toString.call(Packages);d.next=function(){this.options.onToken&&this.options.onToken(new p(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},d.getToken=function(){return this.next(),new p(this)},"undefined"!=typeof Symbol&&(d[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===a.types.eof,value:t}}}}),d.setStrict=function(e){if(this.strict=e,this.type===a.types.num||this.type===a.types.string){if(this.pos=this.start,this.options.locations)for(;this.pos<this.lineStart;)this.lineStart=this.input.lastIndexOf("\n",this.lineStart-2)+1,--this.curLine;this.nextToken()}},d.curContext=function(){return this.context[this.context.length-1]},d.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(a.types.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},d.readToken=function(e){return(0,s.isIdentifierStart)(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},d.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=57344)return e;var t=this.input.charCodeAt(this.pos+1);return(e<<10)+t-56613888},d.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations){c.lineBreakG.lastIndex=t;for(var r=void 0;(r=c.lineBreakG.exec(this.input))&&r.index<this.pos;)++this.curLine,this.lineStart=r.index+r[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},d.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&10!==r&&13!==r&&8232!==r&&8233!==r;)++this.pos,r=this.input.charCodeAt(this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},d.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&c.nonASCIIwhitespace.test(String.fromCharCode(e))))break e;++this.pos}}},d.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},d.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(a.types.ellipsis)):(++this.pos,this.finishToken(a.types.dot))},d.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(a.types.assign,2):this.finishOp(a.types.slash,1)},d.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?a.types.star:a.types.modulo;return this.options.ecmaVersion>=7&&42===t&&(++n,r=a.types.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(a.types.assign,n+1):this.finishOp(r,n)},d.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?a.types.logicalOR:a.types.logicalAND,2):61===t?this.finishOp(a.types.assign,2):this.finishOp(124===e?a.types.bitwiseOR:a.types.bitwiseAND,1)},d.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(a.types.assign,2):this.finishOp(a.types.bitwiseXOR,1)},d.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45==t&&62==this.input.charCodeAt(this.pos+2)&&c.lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(a.types.incDec,2):61===t?this.finishOp(a.types.assign,2):this.finishOp(a.types.plusMin,1)},d.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(a.types.assign,n+1):this.finishOp(a.types.bitShift,n)):33==t&&60==e&&45==this.input.charCodeAt(this.pos+2)&&45==this.input.charCodeAt(this.pos+3)?(this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===t&&(n=2),this.finishOp(a.types.relational,n))},d.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(a.types.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(a.types.arrow)):this.finishOp(61===e?a.types.eq:a.types.prefix,1)},d.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(a.types.parenL);case 41:return++this.pos,this.finishToken(a.types.parenR);case 59:return++this.pos,this.finishToken(a.types.semi);case 44:return++this.pos,this.finishToken(a.types.comma);case 91:return++this.pos,this.finishToken(a.types.bracketL);case 93:return++this.pos,this.finishToken(a.types.bracketR);case 123:return++this.pos,this.finishToken(a.types.braceL);case 125:return++this.pos,this.finishToken(a.types.braceR);case 58:return++this.pos,this.finishToken(a.types.colon);case 63:return++this.pos,this.finishToken(a.types.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(a.types.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(a.types.prefix,1)}this.raise(this.pos,"Unexpected character '"+i(e)+"'")},d.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};var h=!!o("","u");d.readRegexp=function(){for(var e=this,t=void 0,n=void 0,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(c.lineBreak.test(i)&&this.raise(r,"Unterminated regular expression"),t)t=!1;else{if("["===i)n=!0;else if("]"===i&&n)n=!1;else if("/"===i&&!n)break;t="\\"===i}++this.pos}var s=this.input.slice(r,this.pos);++this.pos;var l=this.readWord1(),u=s,p="";if(l){var d=/^[gim]*$/;this.options.ecmaVersion>=6&&(d=/^[gimuy]*$/),d.test(l)||this.raise(r,"Invalid regular expression flag"),l.indexOf("u")>=0&&(h?p="u":(u=u.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,n,o){return n=Number("0x"+n),n>1114111&&e.raise(r+o+3,"Code point out of bounds"),"x"}),u=u.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"),p=p.replace("u","")))}var m=null;return f||(o(u,p,r,this),m=o(s,l)),this.finishToken(a.types.regexp,{pattern:s,flags:l,value:m})},d.readInt=function(e,t){for(var n=this.pos,r=0,o=0,i=null==t?1/0:t;o<i;++o){var s=this.input.charCodeAt(this.pos),a=void 0;if(a=s>=97?s-97+10:s>=65?s-65+10:s>=48&&s<=57?s-48:1/0,a>=e)break;++this.pos,r=r*e+a}return this.pos===n||null!=t&&this.pos-n!==t?null:r},d.readRadixNumber=function(e){this.pos+=2;var t=this.readInt(e);return null==t&&this.raise(this.start+2,"Expected number in radix "+e),(0,s.isIdentifierStart)(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(a.types.num,t)},d.readNumber=function(e){var t=this.pos,n=!1,r=48===this.input.charCodeAt(this.pos);e||null!==this.readInt(10)||this.raise(t,"Invalid number"),r&&this.pos==t+1&&(r=!1);var o=this.input.charCodeAt(this.pos);46!==o||r||(++this.pos,this.readInt(10),n=!0,o=this.input.charCodeAt(this.pos)),69!==o&&101!==o||r||(o=this.input.charCodeAt(++this.pos),43!==o&&45!==o||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number"),n=!0),(0,s.isIdentifierStart)(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var i=this.input.slice(t,this.pos),l=void 0;return n?l=parseFloat(i):r&&1!==i.length?/[89]/.test(i)||this.strict?this.raise(t,"Invalid number"):l=parseInt(i,8):l=parseInt(i,10),this.finishToken(a.types.num,l)},d.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t=void 0;if(123===e){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.raise(n,"Code point out of bounds")}else t=this.readHexChar(4);return t},d.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):((0,c.isNewLine)(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(a.types.string,t)},d.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos===this.start&&this.type===a.types.template?36===n?(this.pos+=2,this.finishToken(a.types.dollarBraceL)):(++this.pos,this.finishToken(a.types.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(a.types.template,e));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if((0,c.isNewLine)(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},d.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return i(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\x0B";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),"0"!==n&&(this.strict||e)&&this.raise(this.pos-2,"Octal literal in strict mode"),this.pos+=n.length-1,String.fromCharCode(r)}return String.fromCharCode(t)}},d.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.raise(t,"Bad character escape sequence"),n},d.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if((0,s.isIdentifierChar)(o,r))this.pos+=o<=65535?1:2;else{if(92!==o)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var i=this.pos;117!=this.input.charCodeAt(++this.pos)&&this.raise(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?s.isIdentifierStart:s.isIdentifierChar)(a,r)||this.raise(i,"Invalid Unicode escape"),e+=this.input.substr(this.pos-6,6),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},d.readWord=function(){var e=this.readWord1(),t=a.types.name;return(this.options.ecmaVersion>=6||!this.containsEsc)&&this.keywords.test(e)&&(t=a.keywords[e]),this.finishToken(t,e)}},"tokentype.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return new s(e,{beforeExpr:!0,binop:t})}function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t.keyword=e,u[e]=new s(e,t)}e.__esModule=!0;var s=e.TokenType=function c(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,c),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null},a={beforeExpr:!0},l={startsExpr:!0},u=e.keywords={};e.types={num:new s("num",l),regexp:new s("regexp",l),string:new s("string",l),name:new s("name",l),eof:new s("eof"),bracketL:new s("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new s("]"),braceL:new s("{",{beforeExpr:!0,startsExpr:!0}),braceR:new s("}"),parenL:new s("(",{beforeExpr:!0,startsExpr:!0}),parenR:new s(")"),comma:new s(",",a),semi:new s(";",a),colon:new s(":",a),dot:new s("."),question:new s("?",a),arrow:new s("=>",a),template:new s("template"),ellipsis:new s("...",a),backQuote:new s("`",l),dollarBraceL:new s("${",{beforeExpr:!0,startsExpr:!0}),eq:new s("=",{beforeExpr:!0,isAssign:!0}),assign:new s("_=",{beforeExpr:!0,isAssign:!0}),incDec:new s("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new s("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:o("||",1),logicalAND:o("&&",2),bitwiseOR:o("|",3),bitwiseXOR:o("^",4),bitwiseAND:o("&",5),equality:o("==/!=",6),relational:o("</>",7),bitShift:o("<</>>",8),plusMin:new s("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:o("%",10),star:o("*",10),slash:o("/",10),starstar:new s("**",{beforeExpr:!0}),_break:i("break"),_case:i("case",a),_catch:i("catch"),_continue:i("continue"),_debugger:i("debugger"),_default:i("default",a),_do:i("do",{isLoop:!0,beforeExpr:!0}),_else:i("else",a),_finally:i("finally"),_for:i("for",{isLoop:!0}),_function:i("function",l),_if:i("if"),_return:i("return",a),_switch:i("switch"),_throw:i("throw",a),_try:i("try"),_var:i("var"),_const:i("const"),_while:i("while",{isLoop:!0}),_with:i("with"),_new:i("new",{beforeExpr:!0,startsExpr:!0}),_this:i("this",l),_super:i("super",l),_class:i("class"),_extends:i("extends",a),_export:i("export"),_import:i("import"),_null:i("null",l),_true:i("true",l),_false:i("false",l),_in:i("in",{beforeExpr:!0,binop:7}),_instanceof:i("instanceof",{beforeExpr:!0,binop:7}),_typeof:i("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:i("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:i("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})}},"util.js":function(e,t,n){function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.__esModule=!0,e.isArray=r,e.has=o},"whitespace.js":function(e,t,n){function r(e){return 10===e||13===e||8232===e||8233===e}e.__esModule=!0,e.isNewLine=r;var o=e.lineBreak=/\r\n?|\n|\u2028|\u2029/;e.lineBreakG=new RegExp(o.source,"g"),e.nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,e.skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g}},"esotope.js":function(e,t,n){"use strict";function r(){return{indent:null,base:null,parse:null,format:{indent:{style:"    ",base:0},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1},directive:!1,raw:!0,verbatim:null}}function o(e){if(e<128)return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57||36===e||95===e||92===e;var t=String.fromCharCode(e);return J.test(t)}function i(e){return 10===e||13===e||8232===e||8233===e}function s(e){return 32===e||9===e||i(e)||11===e||12===e||160===e||e>=5760&&Q.indexOf(e)>=0}function a(e){return e>=48&&e<=57}function l(e,t){var n="";for(t|=0;t>0;t>>>=1,e+=e)1&t&&(n+=e);return n}function u(e,t){function n(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}var r,o;for(r in t)t.hasOwnProperty(r)&&(o=t[r],n(o)?n(e[r])?u(e[r],o):e[r]=u({},o):e[r]=o);return e}function c(e){var t,n,r,o,i;if(e===1/0)return D?"null":U?"1e400":"1e+400";if(t=""+e,!U||t.length<3)return t;for(n=t.indexOf("."),D||48!==t.charCodeAt(0)||1!==n||(n=0,t=t.slice(1)),r=t,t=t.replace("e+","e"),o=0,(i=r.indexOf("e"))>0&&(o=+r.slice(i+1),r=r.slice(0,i)),n>=0&&(o-=r.length-n-1,r=+(r.slice(0,n)+r.slice(n+1))+""),i=0;48===r.charCodeAt(r.length+i-1);)--i;return 0!==i&&(o-=i,r=r.slice(0,i)),0!==o&&(r+="e"+o),(r.length<t.length||F&&e>1e12&&Math.floor(e)===e&&(r="0x"+e.toString(16)).length<t.length)&&+r===e&&(t=r),t}function p(e,t){return 8232===(e&-2)?(t?"u":"\\u")+(8232===e?"2028":"2029"):10===e||13===e?(t?"":"\\")+(10===e?"n":"r"):String.fromCharCode(e)}function d(e){var t,n,r,o,i,s,a,l;if(n=e.toString(),e.source){if(t=n.match(/\/([^\/]*)$/),!t)return n;for(r=t[1],n="",a=!1,l=!1,o=0,i=e.source.length;o<i;++o)s=e.source.charCodeAt(o),l?(n+=p(s,l),l=!1):(a?93===s&&(a=!1):47===s?n+="\\":91===s&&(a=!0),n+=p(s,l),l=92===s);return"/"+n+"/"+r}return n}function f(e,t){var n,r="\\";switch(e){case 8:r+="b";break;case 12:r+="f";break;case 9:r+="t";break;default:n=e.toString(16).toUpperCase(),r+=D||e>255?"u"+"0000".slice(n.length)+n:0!==e||a(t)?11===e?"x0B":"x"+"00".slice(n.length)+n:"0"}return r}function h(e){var t="\\";switch(e){case 92:t+="\\";break;case 10:t+="n";break;case 13:t+="r";break;case 8232:t+="u2028";break;case 8233:t+="u2029"}return t}function m(e){var t,n,r,o;for(o="double"===B?'"':"'",t=0,n=e.length;t<n;++t){if(r=e.charCodeAt(t),39===r){o='"';break}if(34===r){o="'";break}92===r&&++t}return o+e+o}function y(e){var t,n,r,o,s,a="",l=0,u=0;for(t=0,n=e.length;t<n;++t){if(r=e.charCodeAt(t),39===r)++l;else if(34===r)++u;else if(47===r&&D)a+="\\";else{if(i(r)||92===r){a+=h(r);continue}if(D&&r<32||!(D||H||r>=32&&r<=126)){a+=f(r,e.charCodeAt(t+1));continue}}a+=String.fromCharCode(r)}if(o=!("double"===B||"auto"===B&&u<l),s=o?"'":'"',!(o?l:u))return s+a+s;for(e=a,a=s,t=0,n=e.length;t<n;++t)r=e.charCodeAt(t),(39===r&&o||34===r&&!o)&&(a+="\\"),a+=String.fromCharCode(r);return a+s}function v(e,t){if(!e.length)return t;if(!t.length)return e;var n=e.charCodeAt(e.length-1),r=t.charCodeAt(0);return o(n)&&o(r)||n===r&&(43===n||45===n)||47===n&&105===r?e+ie.space+t:s(n)||s(r)?e+t:e+ie.optSpace+t}function g(){var e=ie.indent;return ie.indent+=ie.indentUnit,e}function E(e){return e.type===Y.BlockStatement?ie.optSpace:e.type===Y.EmptyStatement?"":ie.newline+ie.indent+ie.indentUnit}function b(e){return e.type===Y.BlockStatement?ie.optSpace:ie.newline+ie.indent}function _(e,t){var n=e[X.verbatim],r="string"==typeof n,o=r||void 0===n.precedence?$.Sequence:n.precedence,i=o<t.precedence,s=r?n:n.content,a=s.split(/\r\n|\n/),l=a.length;i&&(ie.js+="("),ie.js+=a[0];for(var u=1;u<l;u++)ie.js+=ie.newline+ie.indent+a[u];i&&(ie.js+=")")}function S(e){var t=e.params,n=e.rest,r=e.defaults,o=t.length,i=o-1,s=!!r,a=!(e.type!==Y.ArrowFunctionExpression||n||s&&0!==r.length||1!==o||t[0].type!==Y.Identifier);if(a)ie.js+=t[0].name;else{ie.js+="(";for(var l=0;l<o;++l){var u=t[l];if(s&&r[l]){var c={left:u,right:r[l],operator:"="};se.AssignmentExpression(c,Z.e4)}else t[l].type===Y.Identifier?ie.js+=u.name:se[u.type](u,Z.e4);l!==i&&(ie.js+=","+ie.optSpace)}n&&(o&&(ie.js+=","+ie.optSpace),ie.js+="..."+n.name),ie.js+=")"}}function w(e){var t=e.body;if(S(e),e.type===Y.ArrowFunctionExpression&&(ie.js+=ie.optSpace+"=>"),e.expression){ie.js+=ie.optSpace;var n=M(t,Z.e4);"{"===n.charAt(0)&&(n="("+n+")"),ie.js+=n}else ie.js+=E(t),ae[t.type](t,Z.s8)}function x(e,t){var n=e.operator,r=z[e.operator],i=r<t.precedence,s=t.allowIn||i,a=Z.e16(r,s),l=M(e.left,a);i|="in"===n&&!s,i&&(ie.js+="("),l=47===l.charCodeAt(l.length-1)&&o(n.charCodeAt(0))?l+ie.space+n:v(l,n),a.precedence++;var u=M(e.right,a);"/"===n&&"/"===u.charAt(0)||"<"===n.slice(-1)&&"!--"===u.slice(0,3)?l+=ie.space+u:l=v(l,u),ie.js+=l,i&&(ie.js+=")")}function T(e){var t=e.elements,n=t.length;if(n){var r=n-1,o=n>1,i=g(),s=ie.newline+ie.indent;ie.js+="[";for(var a=0;a<n;a++){var l=t[a];o&&(ie.js+=s),l&&se[l.type](l,Z.e4),a===r&&l||(ie.js+=",")}ie.indent=i,o&&(ie.js+=ie.newline+ie.indent),ie.js+="]"}else ie.js+="[]"}function C(e){ie.js+=e.id.name,e.name&&(ie.js+=ie.space+"as"+ie.space+e.name.name)}function A(e){var t=e.blocks,n=e.filter,r=e.type===Y.GeneratorExpression,o=r?"(":"[",i=M(e.body,Z.e4);
if(t){for(var s=g(),a=t.length,l=0;l<a;++l){var u=M(t[l],Z.e5);o=l>0?v(o,u):o+u}ie.indent=s}if(n){var c=M(n,Z.e5);o=v(o,"if"+ie.optSpace),o=v(o,"("+c+")")}o=v(o,i),o+=r?")":"]",ie.js+=o}function I(e,t,n){for(var r=n.length,o=r-1,i=0;i<r;++i){var s=P(n[i],Z.s7);e=v(e,s),(t||i!==o)&&(e+=b(n[i].body))}return e}function N(e,t,n){var r=t.body,o=t.left,i=!V&&n.semicolonOptional,s=g(),a="for"+ie.optSpace+"(";if(o.type===Y.VariableDeclaration){var l=g();a+=o.kind+ie.space+P(o.declarations[0],Z.s6),ie.indent=l}else a+=M(o,Z.e10);a=v(a,e);var u=M(t.right,Z.e5);a=v(a,u)+")",ie.indent=s,ie.js+=a+E(r),ae[r.type](r,Z.s4(i))}function M(e,t){var n=ie.js;ie.js="",se[e.type](e,t);var r=ie.js;return ie.js=n,r}function P(e,t){var n=ie.js;ie.js="",ae[e.type](e,t);var r=ie.js;return ie.js=n,r}function O(e){return ie.js="",ae[e.type]?ae[e.type](e,Z.s7):se[e.type](e,Z.e19),ie.js}function R(e){return function(t,n){X.verbatim&&t.hasOwnProperty(X.verbatim)?_(t,n):e(t,n)}}function k(){var e={};for(var t in ne)ne.hasOwnProperty(t)&&(e[t]=R(ne[t]));return e}function L(e,t){var n=r();return null!=t?("string"==typeof t.indent&&(n.format.indent.style=t.indent),"number"==typeof t.base&&(n.format.indent.base=t.base),t=u(n,t),ie.indentUnit=t.format.indent.style,"string"==typeof t.base?ie.indent=t.base:ie.indent=l(ie.indentUnit,t.format.indent.base)):(t=n,ie.indentUnit=t.format.indent.style,ie.indent=l(ie.indentUnit,t.format.indent.base)),D=t.format.json,U=t.format.renumber,F=!D&&t.format.hexadecimal,B=D?"double":t.format.quotes,H=t.format.escapeless,ie.newline=t.format.newline,ie.optSpace=t.format.space,t.format.compact&&(ie.newline=ie.optSpace=ie.indentUnit=ie.indent=""),ie.space=ie.optSpace?ie.optSpace:" ",W=t.format.parentheses,V=t.format.semicolons,q=t.format.safeConcatenation,G=t.directive,K=D?null:t.parse,X=t,se=X.verbatim?k():ne,O(e)}e.__esModule=!0,e.generate=L;var j,D,U,F,B,H,W,V,q,G,X,K,Y=e.Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportBatchSpecifier:"ExportBatchSpecifier",ExportDeclaration:"ExportDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportSpecifier:"ImportSpecifier",ImportDeclaration:"ImportDeclaration",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleDeclaration:"ModuleDeclaration",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},$={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19},z={"||":$.LogicalOR,"&&":$.LogicalAND,"|":$.BitwiseOR,"^":$.BitwiseXOR,"&":$.BitwiseAND,"==":$.Equality,"!=":$.Equality,"===":$.Equality,"!==":$.Equality,is:$.Equality,isnt:$.Equality,"<":$.Relational,">":$.Relational,"<=":$.Relational,">=":$.Relational,"in":$.Relational,"instanceof":$.Relational,"<<":$.BitwiseSHIFT,">>":$.BitwiseSHIFT,">>>":$.BitwiseSHIFT,"+":$.Additive,"-":$.Additive,"*":$.Multiplicative,"%":$.Multiplicative,"/":$.Multiplicative},Q=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],J=new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]");j=Array.isArray,j||(j=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var Z={e1:function(e){return{precedence:$.Assignment,allowIn:e,allowCall:!0,allowUnparenthesizedNew:!0}},e2:function(e){return{precedence:$.LogicalOR,allowIn:e,allowCall:!0,allowUnparenthesizedNew:!0}},e3:{precedence:$.Call,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!1},e4:{precedence:$.Assignment,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e5:{precedence:$.Sequence,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e6:function(e){return{precedence:$.New,allowIn:!0,allowCall:!1,allowUnparenthesizedNew:e}},e7:{precedence:$.Unary,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e8:{precedence:$.Postfix,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e9:{precedence:void 0,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e10:{precedence:$.Call,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e11:function(e){return{precedence:$.Call,allowIn:!0,allowCall:e,allowUnparenthesizedNew:!1}},e12:{precedence:$.Primary,allowIn:!1,allowCall:!1,allowUnparenthesizedNew:!0},e13:{precedence:$.Primary,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e14:{precedence:$.Sequence,allowIn:!1,allowCall:!0,allowUnparenthesizedNew:!0},e15:function(e){return{precedence:$.Sequence,allowIn:!0,allowCall:e,allowUnparenthesizedNew:!0}},e16:function(e,t){return{precedence:e,allowIn:t,allowCall:!0,allowUnparenthesizedNew:!0}},e17:function(e){return{precedence:$.Call,allowIn:e,allowCall:!0,allowUnparenthesizedNew:!0}},e18:function(e){return{precedence:$.Assignment,allowIn:e,allowCall:!0,allowUnparenthesizedNew:!0}},e19:{precedence:$.Sequence,allowIn:!0,allowCall:!0,semicolonOptional:!1},s1:function(e,t){return{allowIn:!0,functionBody:!1,directiveContext:e,semicolonOptional:t}},s2:{allowIn:!0,functionBody:!1,directiveContext:!1,semicolonOptional:!0},s3:function(e){return{allowIn:e,functionBody:!1,directiveContext:!1,semicolonOptional:!1}},s4:function(e){return{allowIn:!0,functionBody:!1,directiveContext:!1,semicolonOptional:e}},s5:function(e){return{allowIn:!0,functionBody:!1,directiveContext:!0,semicolonOptional:e}},s6:{allowIn:!1,functionBody:!1,directiveContext:!1,semicolonOptional:!1},s7:{allowIn:!0,functionBody:!1,directiveContext:!1,semicolonOptional:!1},s8:{allowIn:!0,functionBody:!0,directiveContext:!1,semicolonOptional:!1}},ee=/[.eExX]|^0[0-9]+/,te=/[0-9]$/,ne={SequenceExpression:function(e,t){var n=e.expressions,r=n.length,o=r-1,i=$.Sequence<t.precedence,s=Z.e1(t.allowIn||i);i&&(ie.js+="(");for(var a=0;a<r;a++){var l=n[a];se[l.type](l,s),a!==o&&(ie.js+=","+ie.optSpace)}i&&(ie.js+=")")},AssignmentExpression:function(e,t){var n=e.left,r=e.right,o=$.Assignment<t.precedence,i=t.allowIn||o;o&&(ie.js+="("),se[n.type](n,Z.e17(i)),ie.js+=ie.optSpace+e.operator+ie.optSpace,se[r.type](r,Z.e18(i)),o&&(ie.js+=")")},ArrowFunctionExpression:function(e,t){var n=$.ArrowFunction<t.precedence;n&&(ie.js+="("),w(e),n&&(ie.js+=")")},ConditionalExpression:function(e,t){var n=e.test,r=e.consequent,o=e.alternate,i=$.Conditional<t.precedence,s=t.allowIn||i,a=Z.e2(s),l=Z.e1(s);i&&(ie.js+="("),se[n.type](n,a),ie.js+=ie.optSpace+"?"+ie.optSpace,se[r.type](r,l),ie.js+=ie.optSpace+":"+ie.optSpace,se[o.type](o,l),i&&(ie.js+=")")},LogicalExpression:x,BinaryExpression:x,CallExpression:function(e,t){var n=e.callee,r=e.arguments,o=r.length,i=o-1,s=!t.allowCall||$.Call<t.precedence;s&&(ie.js+="("),se[n.type](n,Z.e3),ie.js+="(";for(var a=0;a<o;++a){var l=r[a];se[l.type](l,Z.e4),a!==i&&(ie.js+=","+ie.optSpace)}ie.js+=")",s&&(ie.js+=")")},NewExpression:function(e,t){var n=e.arguments,r=$.New<t.precedence,o=n.length,i=o-1,s=!t.allowUnparenthesizedNew||W||o>0,a=M(e.callee,Z.e6(!s));if(r&&(ie.js+="("),ie.js+=v("new",a),s){ie.js+="(";for(var l=0;l<o;++l){var u=n[l];se[u.type](u,Z.e4),l!==i&&(ie.js+=","+ie.optSpace)}ie.js+=")"}r&&(ie.js+=")")},MemberExpression:function(e,t){var n=e.object,r=e.property,o=$.Member<t.precedence,i=!e.computed&&n.type===Y.Literal&&"number"==typeof n.value;if(o&&(ie.js+="("),i){var s=M(n,Z.e11(t.allowCall)),a=te.test(s)&&!ee.test(s);ie.js+=a?s+".":s}else se[n.type](n,Z.e11(t.allowCall));e.computed?(ie.js+="[",se[r.type](r,Z.e15(t.allowCall)),ie.js+="]"):ie.js+="."+r.name,o&&(ie.js+=")")},UnaryExpression:function(e,t){var n=$.Unary<t.precedence,r=e.operator,i=M(e.argument,Z.e7);if(n&&(ie.js+="("),""===ie.optSpace||r.length>2)ie.js+=v(r,i);else{ie.js+=r;var s=r.charCodeAt(r.length-1),a=i.charCodeAt(0);(s===a&&(43===s||45===s)||o(s)&&o(a))&&(ie.js+=ie.space),ie.js+=i}n&&(ie.js+=")")},YieldExpression:function(e,t){var n=e.argument,r=e.delegate?"yield*":"yield",o=$.Yield<t.precedence;if(o&&(ie.js+="("),n){var i=M(n,Z.e4);r=v(r,i)}ie.js+=r,o&&(ie.js+=")")},UpdateExpression:function(e,t){var n=e.argument,r=e.operator,o=e.prefix,i=o?$.Unary:$.Postfix,s=i<t.precedence;s&&(ie.js+="("),o?(ie.js+=r,se[n.type](n,Z.e8)):(se[n.type](n,Z.e8),ie.js+=r),s&&(ie.js+=")")},FunctionExpression:function(e){var t=!!e.generator;ie.js+=t?"function*":"function",e.id?(ie.js+=t?ie.optSpace:ie.space,ie.js+=e.id.name):ie.js+=ie.optSpace,w(e)},ExportBatchSpecifier:function(){ie.js+="*"},ArrayPattern:T,ArrayExpression:T,ClassExpression:function(e){var t=e.id,n=e.superClass,r=e.body,o="class";if(t){var i=M(t,Z.e9);o=v(o,i)}if(n){var s=M(n,Z.e4);s=v("extends",s),o=v(o,s)}ie.js+=o+ie.optSpace,ae[r.type](r,Z.s2)},MethodDefinition:function(e){var t=e["static"]?"static"+ie.optSpace:"",n=M(e.key,Z.e5);e.computed&&(n="["+n+"]"),"get"===e.kind||"set"===e.kind?(n=v(e.kind,n),ie.js+=v(t,n)):e.value.generator?ie.js+=t+"*"+n:ie.js+=v(t,n),w(e.value)},Property:function(e){var t=e.value,n=e.kind,r=M(e.key,Z.e5);e.computed&&(r="["+r+"]"),"get"===n||"set"===n?(ie.js+=n+ie.space+r,w(t)):e.shorthand?ie.js+=r:e.method?(ie.js+=t.generator?"*"+r:r,w(t)):(ie.js+=r+":"+ie.optSpace,se[t.type](t,Z.e4))},ObjectExpression:function(e){var t=e.properties,n=t.length;if(n){var r=n-1,o=g();ie.js+="{";for(var i=0;i<n;i++){var s=t[i],a=s.type||Y.Property;ie.js+=ie.newline+ie.indent,se[a](s,Z.e5),i!==r&&(ie.js+=",")}ie.indent=o,ie.js+=ie.newline+ie.indent+"}"}else ie.js+="{}"},ObjectPattern:function(e){var t=e.properties,n=t.length;if(n){var r=n-1,o=!1;if(1===n)o=t[0].value.type!==Y.Identifier;else for(var i=0;i<n;i++)if(!t[i].shorthand){o=!0;break}ie.js+=o?"{"+ie.newline:"{";for(var s=g(),a=","+(o?ie.newline:ie.optSpace),i=0;i<n;i++){var l=t[i];o&&(ie.js+=ie.indent),se[l.type](l,Z.e5),i!==r&&(ie.js+=a)}ie.indent=s,ie.js+=o?ie.newline+ie.indent+"}":"}"}else ie.js+="{}"},ThisExpression:function(){ie.js+="this"},Identifier:function(e){ie.js+=e.name},ImportSpecifier:C,ExportSpecifier:C,Literal:function(e){if(X.raw&&void 0!==e.raw)ie.js+=e.raw;else if(null===e.value)ie.js+="null";else{var t=typeof e.value;"string"===t?ie.js+=y(e.value):"number"===t?ie.js+=c(e.value):"boolean"===t?ie.js+=e.value?"true":"false":ie.js+=d(e.value)}},GeneratorExpression:A,ComprehensionExpression:A,ComprehensionBlock:function(e){var t=e.left,n=void 0,r=M(e.right,Z.e5);n=t.type===Y.VariableDeclaration?t.kind+ie.space+P(t.declarations[0],Z.s6):M(t,Z.e10),n=v(n,e.of?"of":"in"),ie.js+="for"+ie.optSpace+"("+v(n,r)+")"},SpreadElement:function(e){var t=e.argument;ie.js+="...",se[t.type](t,Z.e4)},TaggedTemplateExpression:function(e,t){var n=e.tag,r=e.quasi,o=$.TaggedTemplate<t.precedence;o&&(ie.js+="("),se[n.type](n,Z.e11(t.allowCall)),se[r.type](r,Z.e12),o&&(ie.js+=")")},TemplateElement:function(e){ie.js+=e.value.raw},TemplateLiteral:function(e){var t=e.quasis,n=e.expressions,r=t.length,o=r-1;ie.js+="`";for(var i=0;i<r;++i){var s=t[i];if(se[s.type](s,Z.e13),i!==o){var a=n[i];ie.js+="${"+ie.optSpace,se[a.type](a,Z.e5),ie.js+=ie.optSpace+"}"}}ie.js+="`"}},re=/^{|^class(?:\s|{)|^function(?:\s|\*|\()/,oe={BlockStatement:function(e,t){var n=e.body,r=n.length,o=r-1,i=g();ie.js+="{"+ie.newline;for(var s=0;s<r;s++){var a=n[s];ie.js+=ie.indent,ae[a.type](a,Z.s1(t.functionBody,s===o)),ie.js+=ie.newline}ie.indent=i,ie.js+=ie.indent+"}"},BreakStatement:function(e,t){e.label?ie.js+="break "+e.label.name:ie.js+="break",!V&&t.semicolonOptional||(ie.js+=";")},ContinueStatement:function(e,t){e.label?ie.js+="continue "+e.label.name:ie.js+="continue",!V&&t.semicolonOptional||(ie.js+=";")},ClassBody:function(e){var t=e.body,n=t.length,r=n-1,o=g();ie.js+="{"+ie.newline;for(var i=0;i<n;i++){var s=t[i],a=s.type||Y.Property;ie.js+=ie.indent,se[a](s,Z.e5),i!==r&&(ie.js+=ie.newline)}ie.indent=o,ie.js+=ie.newline+ie.indent+"}"},ClassDeclaration:function(e){var t=e.body,n=e.superClass,r="class "+e.id.name;if(n){var o=M(n,Z.e4);r+=ie.space+v("extends",o)}ie.js+=r+ie.optSpace,ae[t.type](t,Z.s2)},DirectiveStatement:function(e,t){X.raw&&e.raw?ie.js+=e.raw:ie.js+=m(e.directive),!V&&t.semicolonOptional||(ie.js+=";")},DoWhileStatement:function(e,t){var n=e.body,r=e.test,o=E(n)+P(n,Z.s7)+b(n),i=v("do",o);ie.js+=v(i,"while"+ie.optSpace+"("),se[r.type](r,Z.e5),ie.js+=")",!V&&t.semicolonOptional||(ie.js+=";")},CatchClause:function(e){var t=e.param,n=e.guard,r=e.body,o=g();ie.js+="catch"+ie.optSpace+"(",se[t.type](t,Z.e5),n&&(ie.js+=" if ",se[n.type](n,Z.e5)),ie.indent=o,ie.js+=")"+E(r),ae[r.type](r,Z.s7)},DebuggerStatement:function(e,t){ie.js+="debugger",!V&&t.semicolonOptional||(ie.js+=";")},EmptyStatement:function(){ie.js+=";"},ExportDeclaration:function(e,t){var n=e.specifiers,r=e.declaration,o=V||!t.semicolonOptional;if(e["default"]){var i=M(r,Z.e4);ie.js+=v("export default",i),o&&(ie.js+=";")}else if(n){var s="export";if(0===n.length)s+=ie.optSpace+"{"+ie.optSpace+"}";else if(n[0].type===Y.ExportBatchSpecifier){var a=M(n[0],Z.e5);s=v(s,a)}else{var l=g(),u=n.length,c=u-1;s+=ie.optSpace+"{";for(var p=0;p<u;++p)s+=ie.newline+ie.indent,s+=M(n[p],Z.e5),p!==c&&(s+=",");ie.indent=l,s+=ie.newline+ie.indent+"}"}e.source?(ie.js+=v(s,"from"+ie.optSpace),se.Literal(e.source)):ie.js+=s,o&&(ie.js+=";")}else if(r){var i=P(r,Z.s4(!o));ie.js+=v("export",i)}},ExpressionStatement:function(e,t){var n=M(e.expression,Z.e5),r=re.test(n)||G&&t.directiveContext&&e.expression.type===Y.Literal&&"string"==typeof e.expression.value;r?ie.js+="("+n+")":ie.js+=n,!V&&t.semicolonOptional||(ie.js+=";")},ImportDeclaration:function(e,t){var n=e.specifiers,r="import",o=n.length;if(o){var i=!!n[0]["default"],s=i?1:0,a=o-1;if(i&&(r=v(r,n[0].id.name)),s<o){if(i&&(r+=","),r+=ie.optSpace+"{",s===a)r+=ie.optSpace+M(n[s],Z.e5)+ie.optSpace;else{for(var l=g(),u=s;u<o;u++)r+=ie.newline+ie.indent+M(n[u],Z.e5),u!==a&&(r+=",");ie.indent=l,r+=ie.newline+ie.indent}r+="}"+ie.optSpace}r=v(r,"from")}ie.js+=r+ie.optSpace,se.Literal(e.source),!V&&t.semicolonOptional||(ie.js+=";")},VariableDeclarator:function(e,t){var n=e.id,r=e.init,o=Z.e1(t.allowIn);r?(se[n.type](n,o),ie.js+=ie.optSpace+"="+ie.optSpace,se[r.type](r,o)):n.type===Y.Identifier?ie.js+=n.name:se[n.type](n,o)},VariableDeclaration:function(e,t){var n=e.declarations,r=n.length,o=r>1?g():ie.indent,i=Z.s3(t.allowIn);ie.js+=e.kind;for(var s=0;s<r;s++){var a=n[s];ie.js+=0===s?ie.space:","+ie.optSpace,ae[a.type](a,i)}!V&&t.semicolonOptional||(ie.js+=";"),ie.indent=o},ThrowStatement:function(e,t){var n=M(e.argument,Z.e5);ie.js+=v("throw",n),!V&&t.semicolonOptional||(ie.js+=";")},TryStatement:function(e){var t=e.block,n=e.finalizer,r="try"+E(t)+P(t,Z.s7)+b(t),o=e.handlers||e.guardedHandlers;o&&(r=I(r,n,o)),e.handler&&(o=j(e.handler)?e.handler:[e.handler],r=I(r,n,o)),n&&(r=v(r,"finally"+E(n)),r+=P(n,Z.s7)),ie.js+=r},SwitchStatement:function(e){var t=e.cases,n=e.discriminant,r=g();if(ie.js+="switch"+ie.optSpace+"(",se[n.type](n,Z.e5),ie.js+=")"+ie.optSpace+"{"+ie.newline,ie.indent=r,t)for(var o=t.length,i=o-1,s=0;s<o;s++){var a=t[s];ie.js+=ie.indent,ae[a.type](a,Z.s4(s===i)),ie.js+=ie.newline}ie.js+=ie.indent+"}"},SwitchCase:function(e,t){var n=e.consequent,r=n[0],o=e.test,i=0,s=!V&&t.semicolonOptional,a=n.length,l=a-1,u=g();if(o){var c=M(o,Z.e5);ie.js+=v("case",c)+":"}else ie.js+="default:";for(a&&r.type===Y.BlockStatement&&(i++,ie.js+=E(r),ae[r.type](r,Z.s7));i<a;i++){var p=n[i],d=i===l&&s;ie.js+=ie.newline+ie.indent,ae[p.type](p,Z.s4(d))}ie.indent=u},IfStatement:function(e,t){var n=e.consequent,r=e.test,o=g(),i=!V&&t.semicolonOptional;if(ie.js+="if"+ie.optSpace+"(",se[r.type](r,Z.e5),ie.js+=")",ie.indent=o,ie.js+=E(n),e.alternate){var s=P(n,Z.s7)+b(n),a=P(e.alternate,Z.s4(i));a=e.alternate.type===Y.IfStatement?"else "+a:v("else",E(e.alternate)+a),ie.js+=v(s,a)}else ae[n.type](n,Z.s4(i))},ForStatement:function(e,t){var n=e.init,r=e.test,o=e.body,i=e.update,s=!V&&t.semicolonOptional,a=g();ie.js+="for"+ie.optSpace+"(",n?n.type===Y.VariableDeclaration?ae[n.type](n,Z.s6):(se[n.type](n,Z.e14),ie.js+=";"):ie.js+=";",r&&(ie.js+=ie.optSpace,se[r.type](r,Z.e5)),ie.js+=";",i&&(ie.js+=ie.optSpace,se[i.type](i,Z.e5)),ie.js+=")",ie.indent=a,ie.js+=E(o),ae[o.type](o,Z.s4(s))},ForInStatement:function(e,t){N("in",e,t)},ForOfStatement:function(e,t){N("of",e,t)},LabeledStatement:function(e,t){var n=e.body,r=!V&&t.semicolonOptional,o=ie.indent;ie.js+=e.label.name+":"+E(n),n.type!==Y.BlockStatement&&(o=g()),ae[n.type](n,Z.s4(r)),ie.indent=o},ModuleDeclaration:function(e,t){ie.js+="module"+ie.space+e.id.name+ie.space+"from"+ie.optSpace,se.Literal(e.source),!V&&t.semicolonOptional||(ie.js+=";")},Program:function(e){var t=e.body,n=t.length,r=n-1;q&&n>0&&(ie.js+="\n");for(var o=0;o<n;o++){var i=t[o];ie.js+=ie.indent,ae[i.type](i,Z.s5(!q&&o===r)),o!==r&&(ie.js+=ie.newline)}},FunctionDeclaration:function(e){var t=!!e.generator;ie.js+=t?"function*"+ie.optSpace:"function"+ie.space,ie.js+=e.id.name,w(e)},ReturnStatement:function(e,t){var n=e.argument;if(n){var r=M(n,Z.e5);ie.js+=v("return",r)}else ie.js+="return";!V&&t.semicolonOptional||(ie.js+=";")},WhileStatement:function(e,t){var n=e.body,r=e.test,o=!V&&t.semicolonOptional,i=g();ie.js+="while"+ie.optSpace+"(",se[r.type](r,Z.e5),ie.js+=")",ie.indent=i,ie.js+=E(n),ae[n.type](n,Z.s4(o))},WithStatement:function(e,t){var n=e.body,r=e.object,o=!V&&t.semicolonOptional,i=g();ie.js+="with"+ie.optSpace+"(",se[r.type](r,Z.e5),ie.js+=")",ie.indent=i,ie.js+=E(n),ae[n.type](n,Z.s4(o))}},ie={js:"",newline:"\n",optSpace:" ",space:" ",indentUnit:"    ",indent:""},se=void 0,ae=oe}},"transform.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return{start:e.originStart,end:e.originEnd,index:Array.isArray(t[n])?t[n].indexOf(e):-1,parent:t,key:n}}function i(e,t,n,r,o){var i=t.type===h.Syntax.NewExpression,s=i&&!e.newExpressionAncestor;return{hasTransformedAncestor:e.hasTransformedAncestor||o,newExpressionAncestor:s?t:e.newExpressionAncestor,newExpressionAncestorParent:s?n:e.newExpressionAncestorParent,newExpressionAncestorKey:s?r:e.newExpressionAncestorKey}}function s(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if("[object Array]"===m.call(o))for(var i=0;i<o.length;i++)u(o[i],e,r,t,n);else u(o,e,r,t,n)}}function a(e){return void 0!==e.originStart&&void 0!==e.originEnd}function l(e,t,n,r,i){var s=e.hasTransformedAncestor;s|=e.newExpressionAncestor&&a(e.newExpressionAncestor),s||(e.newExpressionAncestor?((0,f["default"])(e.newExpressionAncestor,e.newExpressionAncestor,e.newExpressionAncestorParent,e.newExpressionAncestorKey),t.push(o(e.newExpressionAncestor,e.newExpressionAncestorParent,e.newExpressionAncestorKey))):t.push(o(n,r,i)))}function u(e,t,n,r,o,c){if(o=o||{},r=r||[],!e||"object"!=typeof e)return null;var d=!1;if(a(e)&&!c)l(o,r,e,t,n),d=!0;else{var h=p["default"][e.type];if(h)for(var m=0;m<h.length;m++){var y=h[m];if(y.condition(e,t)){var v=y.run(e,t,n);if(v){if((0,f["default"])(e,v,t,n),d=!0,l(o,r,v,t,n),y.nodeReplacementRequireTransform){var g=i(o,v,t,n,d);return u(v,t,n,r,g,!0),r}break}}}}var E=i(o,e,t,n,d);return s(e,r,E),r}e.__esModule=!0,e["default"]=u;var c=n("./transformers"),p=r(c),d=n("./transformers/replace-node"),f=r(d),h=n("./tools/esotope"),m=Object.prototype.toString;t.exports=e["default"]},transformers:{"computed-property-get.js":function(e,t,n){e.__esModule=!0;var r=n("../node-builder"),o=n("../tools/esotope"),i=n("../instrumented");e["default"]={nodeReplacementRequireTransform:!0,nodeTypes:[o.Syntax.MemberExpression],condition:function(e,t){return!!e.computed&&(!(e.property.type===o.Syntax.Literal&&!(0,i.shouldInstrumentProperty)(e.property.value))&&((t.type!==o.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==o.Syntax.UnaryExpression||"delete"!==t.operator)&&((t.type!==o.Syntax.UpdateExpression||"++"!==t.operator)&&"--"!==t.operator&&((t.type!==o.Syntax.CallExpression||t.callee!==e)&&((t.type!==o.Syntax.NewExpression||t.callee!==e)&&(t.type!==o.Syntax.ForInStatement||t.left!==e)))))))},run:function(e){return(0,r.createComputedPropertyGetWrapper)(e.property,e.object)}},t.exports=e["default"]},"computed-property-set.js":function(e,t,n){e.__esModule=!0;var r=n("../node-builder"),o=n("../tools/esotope"),i=n("../instrumented");e["default"]={nodeReplacementRequireTransform:!0,nodeTypes:[o.Syntax.AssignmentExpression],condition:function(e){var t=e.left;return!("="!==e.operator||t.type!==o.Syntax.MemberExpression||!t.computed)&&(t.property.type!==o.Syntax.Literal||(0,i.shouldInstrumentProperty)(t.property.value))},run:function(e){return(0,r.createComputedPropertySetWrapper)(e.left.property,e.left.object,e.right)}},t.exports=e["default"]},"concat-operator.js":function(e,t,n){e.__esModule=!0;var r=n("../node-builder"),o=n("../tools/esotope");e["default"]={nodeReplacementRequireTransform:!0,nodeTypes:[o.Syntax.AssignmentExpression],condition:function(e){return"+="===e.operator},run:function(e){return(0,r.createExpandedConcatOperation)(e.left,e.right)}},t.exports=e["default"]},"eval-call-apply.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("../node-builder"),i=n("../tools/esotope"),s=n("./replace-node"),a=r(s),l=/^(call|apply)$/;e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[i.Syntax.CallExpression],condition:function(e){if(e.arguments.length<2)return!1;if(e.callee.type===i.Syntax.MemberExpression&&l.test(e.callee.property.name)){var t=e.callee.object;if(t.type===i.Syntax.MemberExpression&&"eval"===(t.property.value||t.property.name))return!0;if("eval"===t.name)return!0}return!1},run:function(e){var t="apply"===e.callee.property.name,n=(0,o.createProcessScriptMethCall)(e.arguments[1],t);return(0,a["default"])(e.arguments[1],n,e,"arguments"),null}},t.exports=e["default"]},"eval-get.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("../instruction"),i=r(o),s=n("../node-builder"),a=n("../tools/esotope");e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[a.Syntax.Identifier],condition:function(e,t){return"eval"===e.name&&((t.type!==a.Syntax.CallExpression||t.callee!==e)&&(t.type!==a.Syntax.MethodDefinition&&(t.type!==a.Syntax.ClassDeclaration&&(t.type!==a.Syntax.MemberExpression&&((t.type!==a.Syntax.FunctionExpression&&t.type!==a.Syntax.FunctionDeclaration||t.params.indexOf(e)===-1)&&((t.type!==a.Syntax.Property||t.key!==e)&&((t.type!==a.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==a.Syntax.VariableDeclarator||t.id!==e)&&((t.type!==a.Syntax.UpdateExpression||"++"!==t.operator)&&"--"!==t.operator&&(t.type!==a.Syntax.CallExpression||t.callee.name!==i["default"].getEval))))))))))},run:s.createGetEvalMethCall},t.exports=e["default"]},"eval.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("../node-builder"),i=n("./replace-node"),s=r(i),a=n("../tools/esotope");e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[a.Syntax.CallExpression],condition:function(e){return!!e.arguments.length&&(e.callee.type===a.Syntax.Identifier&&"eval"===e.callee.name||e.callee.type===a.Syntax.MemberExpression&&"eval"===(e.callee.property.name||e.callee.property.value))},run:function(e){var t=(0,o.createProcessScriptMethCall)(e.arguments[0]);return(0,s["default"])(e.arguments[0],t,e,"arguments"),null}},t.exports=e["default"]},"for-in.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("../tools/esotope"),i=n("../node-builder"),s=n("./replace-node"),a=r(s);e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[o.Syntax.ForInStatement],condition:function(e){return e.left.type===o.Syntax.MemberExpression},run:function(e){var t=(0,i.createTempVarIdentifier)(),n=(0,i.createVarDeclaration)(t),r=(0,i.createAssignmentExprStmt)(e.left,t);return(0,a["default"])(null,r,e.body,"body"),(0,a["default"])(e.left,n,e,"left"),null}},t.exports=e["default"]},"index.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("./computed-property-get"),i=r(o),s=n("./computed-property-set"),a=r(s),l=n("./concat-operator"),u=r(l),c=n("./eval"),p=r(c),d=n("./eval-call-apply"),f=r(d),h=n("./eval-get"),m=r(h),y=n("./window-eval-get"),v=r(y),g=n("./post-message-get"),E=r(g),b=n("./window-post-message-get"),_=r(b),S=n("./post-message-call-apply"),w=r(S),x=n("./for-in"),T=r(x),C=n("./location-get"),A=r(C),I=n("./storage-get"),N=r(I),M=n("./location-property-get"),P=r(M),O=n("./location-set"),R=r(O),k=n("./property-get"),L=r(k),j=n("./property-set"),D=r(j),U=n("./method-call"),F=r(U),B=[i["default"],a["default"],u["default"],p["default"],f["default"],m["default"],v["default"],E["default"],_["default"],w["default"],T["default"],A["default"],N["default"],P["default"],R["default"],L["default"],D["default"],F["default"]];e["default"]=function(){for(var e={},t=0;t<B.length;t++)for(var n=B[t],r=0;r<n.nodeTypes.length;r++){var o=n.nodeTypes[r];e[o]||(e[o]=[]),e[o].push(n)}return e}(),t.exports=e["default"]},"location-get.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("../node-builder"),i=n("../instruction"),s=r(i),a=n("../tools/esotope");e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[a.Syntax.Identifier],condition:function(e,t){return"location"===e.name&&((t.type!==a.Syntax.VariableDeclarator||t.id!==e)&&((t.type!==a.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==a.Syntax.FunctionDeclaration||t.id!==e)&&(t.type!==a.Syntax.MemberExpression&&((t.type!==a.Syntax.Property||t.key!==e)&&((t.type!==a.Syntax.UpdateExpression||"++"!==t.operator)&&"--"!==t.operator&&((t.type!==a.Syntax.FunctionExpression&&t.type!==a.Syntax.FunctionDeclaration||t.params.indexOf(e)===-1)&&(t.type!==a.Syntax.CallExpression||t.callee.name!==s["default"].getLocation))))))))},run:function(){return(0,o.createLocationGetWrapper)()}},t.exports=e["default"]},"location-property-get.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("../node-builder"),i=n("../tools/esotope"),s=n("./replace-node"),a=r(s);e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[i.Syntax.MemberExpression],condition:function(e,t){return(t.type!==i.Syntax.ForInStatement||t.left!==e)&&"location"===e.object.name},run:function(e){return(0,a["default"])(e.object,(0,o.createLocationGetWrapper)(),e,"object"),null}},t.exports=e["default"]},"location-set.js":function(e,t,n){e.__esModule=!0;var r=n("../node-builder"),o=n("../tools/esotope");e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[o.Syntax.AssignmentExpression],condition:function(e){return"="===e.operator&&e.left.type===o.Syntax.Identifier&&"location"===e.left.name},run:function(e,t,n){return(0,r.createLocationSetWrapper)(e.right,"arguments"!==n&&t.type!==o.Syntax.SequenceExpression)}},t.exports=e["default"]},"method-call.js":function(e,t,n){e.__esModule=!0;var r=n("../node-builder"),o=n("../tools/esotope"),i=n("../instrumented");e["default"]={nodeReplacementRequireTransform:!0,nodeTypes:[o.Syntax.CallExpression],condition:function(e){var t=e.callee;return t.type===o.Syntax.MemberExpression&&(t.computed?t.property.type!==o.Syntax.Literal||(0,i.shouldInstrumentMethod)(t.property.value):(0,i.shouldInstrumentMethod)(t.property.name))},run:function(e){var t=e.callee,n=t.computed?t.property:(0,r.createStringLiteral)(t.property.name);return(0,r.createMethCallWrapper)(t.object,n,e.arguments)}},t.exports=e["default"]},"post-message-call-apply.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("../node-builder"),i=n("../tools/esotope"),s=n("./replace-node"),a=r(s),l=/^(call|apply)$/;e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[i.Syntax.CallExpression],condition:function(e){if(e.arguments.length<2)return!1;if(e.callee.type===i.Syntax.MemberExpression&&l.test(e.callee.property.name)){var t=e.callee.object;if(t.type===i.Syntax.MemberExpression&&"postMessage"===(t.property.value||t.property.name))return!0;if("postMessage"===t.name)return!0}return!1},run:function(e){var t=(0,o.createGetPostMessageMethCall)(e.callee.object);return(0,a["default"])(e.callee.object,t,e.callee,"object"),null}},t.exports=e["default"]},"post-message-get.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("../instruction"),i=r(o),s=n("../node-builder"),a=n("../tools/esotope");e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[a.Syntax.Identifier],condition:function(e,t){return"postMessage"===e.name&&(t.type!==a.Syntax.MemberExpression&&(t.type!==a.Syntax.MethodDefinition&&(t.type!==a.Syntax.ClassDeclaration&&((t.type!==a.Syntax.FunctionExpression&&t.type!==a.Syntax.FunctionDeclaration||t.params.indexOf(e)===-1)&&((t.type!==a.Syntax.Property||t.key!==e)&&((t.type!==a.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==a.Syntax.VariableDeclarator||t.id!==e)&&((t.type!==a.Syntax.UpdateExpression||"++"!==t.operator)&&"--"!==t.operator&&(t.type!==a.Syntax.CallExpression||t.callee.name!==i["default"].getPostMessage&&(t.callee.name!==i["default"].callMethod||t.arguments[1]!==e))))))))))},run:s.createGetPostMessageMethCall},t.exports=e["default"]},"property-get.js":function(e,t,n){e.__esModule=!0;var r=n("../node-builder"),o=n("../tools/esotope"),i=n("../instrumented");e["default"]={nodeReplacementRequireTransform:!0,nodeTypes:[o.Syntax.MemberExpression],condition:function(e,t){
return!e.computed&&(!!(0,i.shouldInstrumentProperty)(e.property.name)&&((t.type!==o.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==o.Syntax.UnaryExpression||"delete"!==t.operator)&&((t.type!==o.Syntax.CallExpression||t.callee!==e)&&((t.type!==o.Syntax.UpdateExpression||"++"!==t.operator)&&"--"!==t.operator&&((t.type!==o.Syntax.NewExpression||t.callee!==e)&&(t.type!==o.Syntax.ForInStatement||t.left!==e)))))))},run:function(e){return(0,r.createPropertyGetWrapper)(e.property.name,e.object)}},t.exports=e["default"]},"property-set.js":function(e,t,n){e.__esModule=!0;var r=n("../node-builder"),o=n("../tools/esotope"),i=n("../instrumented");e["default"]={nodeReplacementRequireTransform:!0,nodeTypes:[o.Syntax.AssignmentExpression],condition:function(e){return"="===e.operator&&e.left.type===o.Syntax.MemberExpression&&!e.left.computed&&e.left.property.type===o.Syntax.Identifier&&(0,i.shouldInstrumentProperty)(e.left.property.name)},run:function(e){return(0,r.createPropertySetWrapper)(e.left.property.name,e.left.object,e.right)}},t.exports=e["default"]},"replace-node.js":function(e,t,n){function r(e,t,n,r){if(Array.isArray(n[r]))if(e){var o=n[r].indexOf(e);n[r][o]=t}else n[r].unshift(t);else n[r]=t;if(e)t.originStart=t.start=e.start,t.originEnd=t.end=e.end;else{var i=parseInt(n.start,10)+1;t.originStart=t.originEnd=i}}e.__esModule=!0,e["default"]=r,t.exports=e["default"]},"storage-get.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("../node-builder"),i=n("../instruction"),s=r(i),a=n("../tools/esotope");e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[a.Syntax.Identifier],condition:function(e,t){return("sessionStorage"===e.name||"localStorage"===e.name)&&((t.type!==a.Syntax.FunctionDeclaration||t.id!==e)&&((t.type!==a.Syntax.MemberExpression||t.property!==e)&&((t.type!==a.Syntax.VariableDeclarator||t.id!==e)&&((t.type!==a.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==a.Syntax.Property||t.key!==e)&&((t.type!==a.Syntax.UpdateExpression||"++"!==t.operator)&&"--"!==t.operator&&((t.type!==a.Syntax.FunctionExpression&&t.type!==a.Syntax.FunctionDeclaration||t.params.indexOf(e)===-1)&&(t.type!==a.Syntax.CallExpression||t.callee.name!==s["default"].getStorage))))))))},run:function(e){return(0,o.createGetStorageMethCall)(e.name)}},t.exports=e["default"]},"window-eval-get.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("../instruction"),i=r(o),s=n("../node-builder"),a=n("../tools/esotope");e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[a.Syntax.MemberExpression],condition:function(e,t){return(t.type!==a.Syntax.MemberExpression||t.property!==e&&t.object!==e)&&((t.type!==a.Syntax.CallExpression||t.callee!==e)&&((t.type!==a.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==a.Syntax.CallExpression||t.callee.name!==i["default"].getEval)&&(e.property.type===a.Syntax.Identifier&&"eval"===e.property.name||e.property.type===a.Syntax.Literal&&"eval"===e.property.value))))},run:s.createGetEvalMethCall},t.exports=e["default"]},"window-post-message-get.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}e.__esModule=!0;var o=n("../instruction"),i=r(o),s=n("../node-builder"),a=n("../tools/esotope");e["default"]={nodeReplacementRequireTransform:!1,nodeTypes:[a.Syntax.MemberExpression],condition:function(e,t){return(t.type!==a.Syntax.MemberExpression||t.property!==e&&t.object!==e)&&((t.type!==a.Syntax.CallExpression||t.callee!==e)&&((t.type!==a.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==a.Syntax.CallExpression||t.callee.name!==i["default"].getPostMessage)&&(e.property.type===a.Syntax.Identifier&&"postMessage"===e.property.name||e.property.type===a.Syntax.Literal&&"postMessage"===e.property.value))))},run:s.createGetPostMessageMethCall},t.exports=e["default"]}}},"style.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n("../utils/regexp-escape"),s=r(i),a=n("../processing/dom/internal-attributes"),l=r(a),u=n("../utils/url"),c=/#\s*sourceMappingURL\s*=\s*[^\s]+(\s|\*\/)/i,p=/(url\s*\(\s*)(?:(')([^\s']*)(')|(")([^\s"]*)(")|([^\s\)]*))(\s*\))|(@import\s+)(?:(')([^\s']*)(')|(")([^\s"]*)("))/g,d="/*hammerhead|stylesheet|start*/",f="/*hammerhead|stylesheet|end*/",h=/\s*:\s*hover(\W)/gi,m=new RegExp("\\["+l["default"].hoverPseudoClass+"\\](\\W)","ig"),y=new RegExp("\\s*"+(0,s["default"])(d),"gi"),v=new RegExp("\\s*"+(0,s["default"])(d)+"\n?|"+("\n?"+(0,s["default"])(f)+"\\s*"),"gi"),g=function(){function e(){o(this,e),this.STYLESHEET_PROCESSING_START_COMMENT=d,this.STYLESHEET_PROCESSING_END_COMMENT=f}return e.prototype.process=function(e,t,n){if(!e||"string"!=typeof e||y.test(e))return e;var r=n?d+"\n":"",o=n?"\n"+f:"";return e=e.replace(h,"["+l["default"].hoverPseudoClass+"]$1"),e=e.replace(c,"$1"),r+this._replaceStylsheetUrls(e,t)+o},e.prototype.cleanUp=function(e,t){return"string"!=typeof e?e:(e=e.replace(m,":hover$1").replace(v,""),this._replaceStylsheetUrls(e,function(e){var n=t(e);return n?n.destUrl:e}))},e.prototype._replaceStylsheetUrls=function(e,t){return e.replace(p,function(e,n,r,o,i,s,a,l,c,p,d,f,h,m,y,v,g){var E=n||d,b=r||s||f||y||"",_=o||a||c||h||v,S=i||l||m||g||"";p=p||"";var w=(0,u.isSpecialPage)(_)?_:t(_);return _?E+b+w+S+p:e})},e}();e["default"]=new g,t.exports=e["default"]}},"request-pipeline":{xhr:{"authorization.js":function(e,t,n){e.__esModule=!0,e["default"]={valuePrefix:"hammerhead|prefix|by-client",headers:["authorization","authentication-info","proxy-authenticate","proxy-authorization"]},t.exports=e["default"]},"headers.js":function(e,t,n){e.__esModule=!0,e["default"]={requestMarker:"x-hammerhead|xhr|request-marker",corsSupported:"x-hammerhead|xhr|cors-supported",withCredentials:"x-hammerhead|xhr|with-credentials",origin:"x-hammerhead|xhr|origin",setCookie:"x-hammerhead|xhr|set-cookie",fetchRequestCredentials:"x-hammerhead|fetch|request-credentials"},t.exports=e["default"]},"same-origin-policy.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.dest.reqOrigin;if(e.dest.domain===t)return!0;var n=!!e.req.headers[s["default"].corsSupported]||e.isFetch;if(!n)return!1;if("OPTIONS"===e.req.method)return!0;var r=!!e.req.headers[s["default"].withCredentials]||"include"===e.req.headers[s["default"].fetchRequestCredentials],o=e.destRes.headers["access-control-allow-origin"],i=e.destRes.headers["access-control-allow-credentials"],a="true"===String(i).toLowerCase(),l=Array.isArray(o)?o:[o],u=l.indexOf("*")>-1;return!!o&&(!(r&&(!a||u))&&(u||l.indexOf(t)>-1))}e.__esModule=!0,e.SAME_ORIGIN_CHECK_FAILED_STATUS_CODE=void 0,e.check=o;var i=n("./headers"),s=r(i);e.SAME_ORIGIN_CHECK_FAILED_STATUS_CODE=222}}},session:{"command.js":function(e,t,n){e.__esModule=!0;var r={getUploadedFiles:"hammerhead|command|get-uploaded-files",setCookie:"hammerhead|command|set-cookie",uploadFiles:"hammerhead|command|upload-files"};e["default"]=r,t.exports=e["default"]},"cookie-limit.js":function(e,t,n){e.__esModule=!0;var r=4096;e["default"]=r,t.exports=e["default"]}},"shadow-ui":{"class-name.js":function(e,t,n){e.__esModule=!0;var r="-hammerhead-shadow-ui";e["default"]={postfix:r,charset:"charset"+r,script:"script"+r,selfRemovingScript:"self-removing-script"+r,uiStylesheet:"ui-stylesheet"+r},t.exports=e["default"]}},utils:{"get-bom.js":function(e,t,n){e.__esModule=!0,e["default"]=function(e){var t=e.match(r);return t?t[0]:null};var r=/^(\xEF\xBB\xBF|\xFE\xFF|\xFF\xFE|\x00\x00\xFE\xFF|\xFF\xFE\x00\x00|\x2B\x2F\x76\x38|\x2B\x2F\x76\x39|\x2B\x2F\x76\x2B|\x2B\x2F\x76\x2F|\xF7\x64\x4C|\xDD\x73\x66\x73|\x0E\xFE\xFF|\xFB\xEE\x28|\x84\x31\x95\x33)/;t.exports=e["default"]},"regexp-escape.js":function(e,t,n){e.__esModule=!0,e["default"]=function(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")},t.exports=e["default"]},"string-trim.js":function(e,t,n){e.__esModule=!0,e["default"]=function(e){return"string"==typeof e?e.replace(/(^\s+)|(\s+$)/g,""):e},t.exports=e["default"]},"url.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e?{isIframe:/i/.test(e),isForm:/f/.test(e),isScript:/s/.test(e)}:{isIframe:!1,isForm:!1,isScript:!1}}function i(e){return e=e||{},e.isIframe||e.isForm||e.isScript?[e.isIframe?"i":"",e.isForm?"f":"",e.isScript?"s":""].join(""):null}function s(e,t){if(e=e.replace(/^www./i,""),t=t.replace(/^www./i,""),e===t)return!0;var n=t.lastIndexOf(e);return"."===t[n-1]&&t.length===n+e.length}function a(e,t,n){if(!t)return!0;var r=f(e),o=f(t),i=p(e),a=i?i.destResourceInfo:r,l=!o.host;if(l||o.host===r.host&&o.protocol===r.protocol)return!0;if(a){var u=!a.port&&!o.port||a.port&&a.port.toString()===o.port;if(a.protocol===o.protocol&&u){if(a.hostname===o.hostname)return!0;var c=s(a.hostname,o.hostname)||s(o.hostname,a.hostname);return!n&&c}}return!1}function l(e){var t=f(e),n="about:"===t.protocol?"":"//";return(t.protocol+n+t.host).toLowerCase()+t.partAfterHost}function u(e,t){var n=[t.sessionId];return t.resourceType&&n.push(t.resourceType),t.charset&&n.push(t.charset.toLowerCase()),n=n.join(R),"http://"+t.proxyHostname+":"+t.proxyPort+"/"+n+"/"+l(e)}function c(e){return y({protocol:e.protocol,host:e.host,hostname:e.hostname,port:e.port})}function p(e){var t=f(e);if(!t.partAfterHost)return null;var n=t.partAfterHost.match(M);if(!n)return null;var r=n[1].split(R);if(!r.length)return null;var o=n[2];if(!E(o)&&!P.test(o))return null;var i=E(o)?{protocol:"about:",host:"",hostname:"",port:"",partAfterHost:""}:f(n[2]);return{destUrl:o,destResourceInfo:i,partAfterHost:t.partAfterHost,proxy:{hostname:t.hostname,port:t.port},sessionId:r[0],resourceType:r[1]||null,charset:r[2]||null}}function d(e){return e.replace(N,"")}function f(e){var t={};if(e=v(e),!e)return t;e=(0,x["default"])(e);var n=!1,r=e.replace(T,function(e,n,r){return t.protocol=n,r}).replace(C,function(){return n=!0,""});return t.protocol||n?(t.partAfterHost=r.replace(A,function(e,n,r){return t.host=n,r}),t.hostname=t.host?t.host.replace(I,function(e,n){return t.port=n,""}):"",t):(t.partAfterHost=e,t)}function h(e){e=(0,x["default"])(e||"");var t=O.test(e);if(t)return!1;var n=e.match(T);return!n||P.test(n[0])}function m(e,t){if(t=t||u,h(e)){var n=t(e),r=p(n);return y(r.destResourceInfo)}return e}function y(e){if(!("file:"===e.protocol||e.host||e.hostname&&e.port))return e.partAfterHost;var t=e.protocol||"";return t+="//",(e.username||e.password)&&(t+=e.username+":"+e.password+"@"),e.host?t+=e.host:(t+=e.hostname,e.port&&(t+=":"+e.port)),e.partAfterHost&&(t+=e.partAfterHost),t}function v(e){return null===e&&/iPad|iPhone/i.test(window.navigator.userAgent)?"":(e=String(e),e=e.replace(/\n|\t/g,""),e.replace(/^(https?:)?\/+(\/\/.*$)/i,"$1$2"))}function g(e,t){var n=/\/$/.test(e);return n||(t=t.replace(/\/$/,"")),t}function E(e){return k.indexOf(e)!==-1}function b(e){var t=f(e);return"file:"!==t.protocol&&!t.host}function _(e){var t=parseInt(e,10);return t>0&&t<=65535}function S(e){var t=f(e);return"file:"===t.protocol||t.hostname&&(!t.port||_(t.port))}e.__esModule=!0,e.SPECIAL_PAGES=e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR=e.HASH_RE=e.SUPPORTED_PROTOCOL_RE=void 0,e.parseResourceType=o,e.getResourceTypeString=i,e.isSubDomain=s,e.sameOriginCheck=a,e.getProxyUrl=u,e.getDomain=c,e.parseProxyUrl=p,e.getPathname=d,e.parseUrl=f,e.isSupportedProtocol=h,e.resolveUrlAsDest=m,e.formatUrl=y,e.prepareUrl=v,e.ensureTrailingSlash=g,e.isSpecialPage=E,e.isRelativeUrl=b,e.isValidUrl=S;var w=n("./string-trim"),x=r(w),T=/^([\w-]+?:)(\/\/|[^\\/]|$)/,C=/^(\/\/)/,A=/^(.*?)(\/|%|\?|;|#|$)/,I=/:([0-9]*)$/,N=/(\?.+|#[^#]*)$/,M=/^\/([^\/]+?)\/([\S\s]+)$/,P=e.SUPPORTED_PROTOCOL_RE=/^(https?|file):/i,O=e.HASH_RE=/^#/,R=e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR="!",k=e.SPECIAL_PAGES=["about:blank","about:error"]}}}}})("testcafe-hammerhead/src/client/index")}initHammerheadClient(window)}();